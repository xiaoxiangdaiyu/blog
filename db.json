{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/img/bfc/2.png","path":"img/bfc/2.png","modified":1,"renderable":0},{"_id":"source/img/bfc/4.png","path":"img/bfc/4.png","modified":1,"renderable":0},{"_id":"source/img/bfc/1.png","path":"img/bfc/1.png","modified":1,"renderable":0},{"_id":"source/img/bfc/3.png","path":"img/bfc/3.png","modified":1,"renderable":0},{"_id":"source/pwa/asset/sw.jpg","path":"pwa/asset/sw.jpg","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"source/img/jstype/2.png","path":"img/jstype/2.png","modified":1,"renderable":0},{"_id":"source/img/performance/2.png","path":"img/performance/2.png","modified":1,"renderable":0},{"_id":"source/img/performance/1.png","path":"img/performance/1.png","modified":1,"renderable":0},{"_id":"source/img/jstype/1.png","path":"img/jstype/1.png","modified":1,"renderable":0},{"_id":"source/img/jstype/3.png","path":"img/jstype/3.png","modified":1,"renderable":0},{"_id":"source/img/pwa/3.png","path":"img/pwa/3.png","modified":1,"renderable":0},{"_id":"source/img/pwa/4.png","path":"img/pwa/4.png","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/needsharebutton/needsharebutton.css","path":"lib/needsharebutton/needsharebutton.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/needsharebutton/font-embedded.css","path":"lib/needsharebutton/font-embedded.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/needsharebutton/needsharebutton.js","path":"lib/needsharebutton/needsharebutton.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"source/img/pwa/2.png","path":"img/pwa/2.png","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"source/img/pwa/1.png","path":"img/pwa/1.png","modified":1,"renderable":0},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"4b9535bae21d63152aed86c5b8a02b94995011fb","modified":1525872947116},{"_id":"source/CNAME","hash":"8962578830ff3908b06d264d46ed7a0c287ebc2e","modified":1513261827463},{"_id":"themes/hexo-theme-next/.git","hash":"3425b125179f900ab9d79c9d7c71331936367a72","modified":1513338593090},{"_id":"themes/hexo-theme-next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1513338593101},{"_id":"themes/hexo-theme-next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1513338593101},{"_id":"themes/hexo-theme-next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1513338593101},{"_id":"themes/hexo-theme-next/.gitignore","hash":"0b5c2ffd41f66eb1849d6426ba8cf9649eeed329","modified":1513338593102},{"_id":"themes/hexo-theme-next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1513338593102},{"_id":"themes/hexo-theme-next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1513338593102},{"_id":"themes/hexo-theme-next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1513338593102},{"_id":"themes/hexo-theme-next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1513338593102},{"_id":"themes/hexo-theme-next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1513338593103},{"_id":"themes/hexo-theme-next/.travis.yml","hash":"d60d4a5375fea23d53b2156b764a99b2e56fa660","modified":1513338593102},{"_id":"themes/hexo-theme-next/README.cn.md","hash":"58ffe752bc4b7f0069fcd6304bbc2d5ff7b80f89","modified":1513338593103},{"_id":"themes/hexo-theme-next/README.md","hash":"aa2fb15ef016074b10755323c99025df506d5ca3","modified":1513338593103},{"_id":"themes/hexo-theme-next/bower.json","hash":"6d6ae7531cf3fedc97c58cdad664f5793eb3cc88","modified":1513338593104},{"_id":"themes/hexo-theme-next/_config.yml","hash":"9c0e58739842fb9b1a401a81a770bbb2634bff36","modified":1513338806000},{"_id":"themes/hexo-theme-next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1513338593104},{"_id":"themes/hexo-theme-next/package.json","hash":"93a74dbc0fe3a1208a02e9cec3c15c2375339cc1","modified":1513338593120},{"_id":"source/_posts/.DS_Store","hash":"ad930065a1ec3c033d81d9963d25954641e97795","modified":1525872947118},{"_id":"source/_posts/bfc.md","hash":"1a5e2e1e2f40922d04302eec9a7a0c63efa07313","modified":1526346531190},{"_id":"source/_posts/index.md","hash":"15cc52b747f3986742b3a69dc0db2088b390fff9","modified":1513338892000},{"_id":"source/_posts/domevent.md","hash":"ee817893d03d75326bb237838a3d3b77e4dd51d5","modified":1513507497725},{"_id":"source/_posts/jstype.md","hash":"18b1b7b20b3e4db015f528806c81fcf6fbb6e7f5","modified":1527127357620},{"_id":"source/_posts/pwa.md","hash":"2cdfa819224a8b0d4d862f393c92c10f384e0955","modified":1525873725883},{"_id":"source/_posts/performance.md","hash":"74036855e631757b1bb1e7335de93d3f4d037dd0","modified":1525872877107},{"_id":"source/_posts/review.md","hash":"82b69e7b3e6685e28e987cf8d45304ba52d6eed2","modified":1513338908000},{"_id":"source/img/.DS_Store","hash":"f6f803f48ccb074eaabc654af42bfdf607595e3f","modified":1527033731386},{"_id":"source/pwa/.DS_Store","hash":"ae6445475b7895e38454dbb1b2cfd87a156391a9","modified":1525846644674},{"_id":"source/pwa/demo.html","hash":"7e805b18e6116094cd2180d04156ff6e0e34b56c","modified":1525850051892},{"_id":"source/pwa/index.js","hash":"192300dc1d7d5f3d501085e60775528a4d2ea71c","modified":1525851545629},{"_id":"source/pwa/sw1.js","hash":"13af6af10204ff87872fa13e836f87554c998f44","modified":1525857949664},{"_id":"source/pwa/mainfest.json","hash":"3231742038985fbf47796e6100e570242239b108","modified":1525850004750},{"_id":"themes/hexo-theme-next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1513338593101},{"_id":"themes/hexo-theme-next/.github/ISSUE_TEMPLATE.md","hash":"352093a1b210c72136687fd2eee649244cee402c","modified":1513338593101},{"_id":"themes/hexo-theme-next/.github/PULL_REQUEST_TEMPLATE.md","hash":"902f627155a65099e0a37842ff396a58d0dc306f","modified":1513338593101},{"_id":"themes/hexo-theme-next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1513338593102},{"_id":"themes/hexo-theme-next/languages/de.yml","hash":"057e7df11ddeb1c8c15a5d7c5ff29430d725ec6b","modified":1513338593104},{"_id":"themes/hexo-theme-next/languages/default.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1513338593104},{"_id":"themes/hexo-theme-next/languages/en.yml","hash":"7e680d9bb8f3a3a9d1ba1c9d312b3d257183dded","modified":1513338593104},{"_id":"themes/hexo-theme-next/languages/fr-FR.yml","hash":"7e4eb7011b8feee641cfb11c6e73180b0ded1c0f","modified":1513338593104},{"_id":"themes/hexo-theme-next/languages/id.yml","hash":"b5de1ea66dd9ef54cac9a1440eaa4e3f5fc011f5","modified":1513338593104},{"_id":"themes/hexo-theme-next/languages/it.yml","hash":"aa595f2bda029f73ef7bfa104b4c55c3f4e9fb4c","modified":1513338593105},{"_id":"themes/hexo-theme-next/languages/ko.yml","hash":"ea5b46056e73ebcee121d5551627af35cbffc900","modified":1513338593105},{"_id":"themes/hexo-theme-next/languages/ja.yml","hash":"3c76e16fd19b262864475faa6854b718bc08c4d8","modified":1513338593105},{"_id":"themes/hexo-theme-next/languages/nl-NL.yml","hash":"edca4f3598857dbc3cbf19ed412213329b6edd47","modified":1513338593105},{"_id":"themes/hexo-theme-next/languages/pt-BR.yml","hash":"b1694ae766ed90277bcc4daca4b1cfa19cdcb72b","modified":1513338593105},{"_id":"themes/hexo-theme-next/languages/pt.yml","hash":"44b61f2d085b827b507909a0b8f8ce31c6ef5d04","modified":1513338593105},{"_id":"themes/hexo-theme-next/languages/ru.yml","hash":"98ec6f0b7183282e11cffc7ff586ceb82400dd75","modified":1513338593106},{"_id":"themes/hexo-theme-next/languages/vi.yml","hash":"fd08d3c8d2c62965a98ac420fdaf95e54c25d97c","modified":1513338593106},{"_id":"themes/hexo-theme-next/languages/zh-Hans.yml","hash":"16ef56d0dea94638de7d200984c90ae56f26b4fe","modified":1513338593106},{"_id":"themes/hexo-theme-next/languages/zh-hk.yml","hash":"9396f41ae76e4fef99b257c93c7354e661f6e0fa","modified":1513338593106},{"_id":"themes/hexo-theme-next/languages/zh-tw.yml","hash":"50b71abb3ecc0686f9739e179e2f829cd074ecd9","modified":1513338593106},{"_id":"themes/hexo-theme-next/layout/_layout.swig","hash":"da0929166674ea637e0ad454f85ad0d7bac4aff2","modified":1513338593107},{"_id":"themes/hexo-theme-next/layout/archive.swig","hash":"f0a8225feafd971419837cdb4bcfec98a4a59b2f","modified":1513338593119},{"_id":"themes/hexo-theme-next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1513338593119},{"_id":"themes/hexo-theme-next/layout/index.swig","hash":"783611349c941848a0e26ee2f1dc44dd14879bd1","modified":1513338593119},{"_id":"themes/hexo-theme-next/layout/page.swig","hash":"969caaee05bdea725e99016eb63d810893a73e99","modified":1513338593119},{"_id":"themes/hexo-theme-next/layout/post.swig","hash":"b3589a8e46288a10d20e41c7a5985d2493725aec","modified":1513338593120},{"_id":"themes/hexo-theme-next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1513338593120},{"_id":"themes/hexo-theme-next/scripts/merge-configs.js","hash":"cb617ddf692f56e6b6129564d52e302f50b28243","modified":1513338593120},{"_id":"themes/hexo-theme-next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1513338593120},{"_id":"themes/hexo-theme-next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1513338593121},{"_id":"themes/hexo-theme-next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1513338593208},{"_id":"themes/hexo-theme-next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1513338593208},{"_id":"themes/hexo-theme-next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1513338593209},{"_id":"themes/hexo-theme-next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1513338593146},{"_id":"source/_posts/css/postcss.md","hash":"0191b0790a7ada76777f6b8add267a203e4d9f32","modified":1513952148000},{"_id":"source/_posts/webpack/loader.md","hash":"fb996f7834812b4ffb71c80f03bb51e3101d6b1f","modified":1513343231050},{"_id":"source/_posts/webpack/code-splitting.md","hash":"6bca00c152249bc7bde8bb30b2563dfc4e1b0016","modified":1516942916646},{"_id":"source/_posts/webpack/plugin.md","hash":"bce074830c7163f37f1417b20ba30e4cde58126c","modified":1513343118713},{"_id":"source/_posts/websocket/frame.md","hash":"e830c299edc51c914fb387fc1fe0945687ebd7e0","modified":1513342538416},{"_id":"source/_posts/websocket/node.md","hash":"4dd3bd961e3018e1d0c4907c3dbc5dc3d86e45ea","modified":1513342928688},{"_id":"source/img/bfc/.DS_Store","hash":"764ae0cbe6b3609133570242eaa44dde709424d4","modified":1526348343894},{"_id":"source/img/bfc/2.png","hash":"dcdc1c2294a080b12b25d3d6180a00c9dc1f1046","modified":1526344156626},{"_id":"source/img/bfc/4.png","hash":"e60e1ef6ae9141a6fbe082c0738e2b710dea4f23","modified":1526346131115},{"_id":"source/img/bfc/1.png","hash":"073a5170e8ea6b34853b9c13d4cdcb7f3fc1dc08","modified":1526342460224},{"_id":"source/img/bfc/3.png","hash":"ea2033a704bca3c71c6b2930c922c048f37dda0a","modified":1526344358936},{"_id":"source/img/jstype/.DS_Store","hash":"abb97f3470fe170b390d384b65891a6b22c9157e","modified":1527033973814},{"_id":"source/img/performance/.DS_Store","hash":"1490ae3be2be83b9b87b986b046117deeb25d653","modified":1525671127958},{"_id":"source/img/pwa/.DS_Store","hash":"a6982c6d74a4314dc23b174d704c22b4e84d6c15","modified":1525873103487},{"_id":"source/pwa/asset/sw.jpg","hash":"55965b91726892f738ba56643f2eaeb8af7fd762","modified":1512091422636},{"_id":"themes/hexo-theme-next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1513338593107},{"_id":"themes/hexo-theme-next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1513338593107},{"_id":"themes/hexo-theme-next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1513338593107},{"_id":"themes/hexo-theme-next/layout/_macro/post-copyright.swig","hash":"665a928604f99d2ba7dc4a4a9150178229568cc6","modified":1513338593107},{"_id":"themes/hexo-theme-next/layout/_macro/post.swig","hash":"446a35a2cd389f8cfc3aa38973a9b44ad0740134","modified":1513338593108},{"_id":"themes/hexo-theme-next/layout/_macro/reward.swig","hash":"56e8d8556cf474c56ae1bef9cb7bbd26554adb07","modified":1513338593108},{"_id":"themes/hexo-theme-next/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1513338593108},{"_id":"themes/hexo-theme-next/layout/_macro/sidebar.swig","hash":"9efc455894921a66bbc074055d3b39c8a34a48a4","modified":1513338593108},{"_id":"themes/hexo-theme-next/layout/_partials/comments.swig","hash":"4a6f5b1792b2e5262b7fdab9a716b3108e2f09c7","modified":1513338593109},{"_id":"themes/hexo-theme-next/layout/_partials/footer.swig","hash":"c4d6181f5d3db5365e622f78714af8cc58d7a45e","modified":1513338593109},{"_id":"themes/hexo-theme-next/layout/_partials/header.swig","hash":"ed042be6252848058c90109236ec988e392d91d4","modified":1513338593110},{"_id":"themes/hexo-theme-next/layout/_partials/head.swig","hash":"6b94fe8f3279daea5623c49ef4bb35917ba57510","modified":1513338593109},{"_id":"themes/hexo-theme-next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1513338593110},{"_id":"themes/hexo-theme-next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1513338593110},{"_id":"themes/hexo-theme-next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1513338593110},{"_id":"themes/hexo-theme-next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1513338593112},{"_id":"themes/hexo-theme-next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1513338593112},{"_id":"themes/hexo-theme-next/layout/_scripts/vendors.swig","hash":"a266f96ad06ee87bdeae6e105a4b53cd587bbd04","modified":1513338593113},{"_id":"themes/hexo-theme-next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1513338593117},{"_id":"themes/hexo-theme-next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1513338593117},{"_id":"themes/hexo-theme-next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1513338593117},{"_id":"themes/hexo-theme-next/layout/_third-party/needsharebutton.swig","hash":"5fe0447cc88a5a63b530cf0426f93c4634811876","modified":1513338593117},{"_id":"themes/hexo-theme-next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1513338593117},{"_id":"themes/hexo-theme-next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1513338593117},{"_id":"themes/hexo-theme-next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1513338593118},{"_id":"themes/hexo-theme-next/scripts/tags/button.js","hash":"d023f10a00077f47082b0517e2ad666e6e994f60","modified":1513338593121},{"_id":"themes/hexo-theme-next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1513338593121},{"_id":"themes/hexo-theme-next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1513338593121},{"_id":"themes/hexo-theme-next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1513338593122},{"_id":"themes/hexo-theme-next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1513338593122},{"_id":"themes/hexo-theme-next/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1513338593122},{"_id":"themes/hexo-theme-next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1513338593122},{"_id":"themes/hexo-theme-next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1513338593122},{"_id":"themes/hexo-theme-next/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1513338593122},{"_id":"themes/hexo-theme-next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1513338593146},{"_id":"themes/hexo-theme-next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1513338593147},{"_id":"themes/hexo-theme-next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1513338593147},{"_id":"themes/hexo-theme-next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1513338593147},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1513338593147},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1513338593148},{"_id":"themes/hexo-theme-next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1513338593148},{"_id":"themes/hexo-theme-next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1513338593148},{"_id":"themes/hexo-theme-next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1513338593149},{"_id":"themes/hexo-theme-next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1513338593150},{"_id":"themes/hexo-theme-next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1513338593149},{"_id":"themes/hexo-theme-next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1513338593150},{"_id":"themes/hexo-theme-next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1513338593150},{"_id":"themes/hexo-theme-next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1513338593151},{"_id":"themes/hexo-theme-next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1513338593151},{"_id":"themes/hexo-theme-next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1513338593151},{"_id":"themes/hexo-theme-next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1513338593151},{"_id":"themes/hexo-theme-next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1513338593151},{"_id":"themes/hexo-theme-next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1513338593151},{"_id":"source/img/jstype/2.png","hash":"08957b47ee972258c8aab3d5e4c9abd49010db26","modified":1527033937425},{"_id":"source/img/performance/2.png","hash":"a7e1421f5df1fcb8203c76d457fb813221aa3e85","modified":1525670122339},{"_id":"source/img/performance/1.png","hash":"2051f0f5801d2e336fc95e0052ecedba7fb08a0f","modified":1525652942082},{"_id":"themes/hexo-theme-next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1513338593113},{"_id":"themes/hexo-theme-next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1513338593113},{"_id":"themes/hexo-theme-next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1513338593137},{"_id":"themes/hexo-theme-next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1513338593138},{"_id":"themes/hexo-theme-next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1513338593138},{"_id":"themes/hexo-theme-next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1513338593145},{"_id":"themes/hexo-theme-next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1513338593146},{"_id":"source/img/jstype/1.png","hash":"313fa0d1e78fc4fbcf5d7f1e71681a3466f4a81a","modified":1526950884290},{"_id":"source/img/jstype/3.png","hash":"70f96b01ef09e050a5c179f40342c3179eca714d","modified":1526988660375},{"_id":"source/img/pwa/3.png","hash":"cb936733f999e28e9349d189fb3d26b1b6c86929","modified":1525872990332},{"_id":"source/img/pwa/4.png","hash":"ea21e2618ecf07e76d81e24977d4f379bed83b38","modified":1525872994314},{"_id":"themes/hexo-theme-next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1513338593109},{"_id":"themes/hexo-theme-next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1513338593110},{"_id":"themes/hexo-theme-next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1513338593111},{"_id":"themes/hexo-theme-next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1513338593111},{"_id":"themes/hexo-theme-next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1513338593111},{"_id":"themes/hexo-theme-next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1513338593111},{"_id":"themes/hexo-theme-next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1513338593111},{"_id":"themes/hexo-theme-next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1513338593111},{"_id":"themes/hexo-theme-next/layout/_partials/share/jiathis.swig","hash":"048fd5e98149469f8c28c21ba3561a7a67952c9b","modified":1513338593112},{"_id":"themes/hexo-theme-next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1513338593112},{"_id":"themes/hexo-theme-next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1513338593112},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1513338593113},{"_id":"themes/hexo-theme-next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1513338593113},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1513338593113},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1513338593113},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1513338593114},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1513338593114},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1513338593114},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/firestore.swig","hash":"1cd01c6e92ab1913d48e556a92bb4f28b6dc4996","modified":1513338593114},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1513338593114},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1513338593114},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1513338593115},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1513338593115},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1513338593115},{"_id":"themes/hexo-theme-next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1513338593115},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1513338593115},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1513338593116},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1513338593116},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/gitment.swig","hash":"10160daceaa6f1ecf632323d422ebe2caae49ddf","modified":1513338593116},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1513338593116},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1513338593116},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/index.swig","hash":"aa0629277d751c55c6d973e7691bf84af9b17a60","modified":1513338593116},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/valine.swig","hash":"fcabbb241f894c9a6309c44e126cf3e8fea81fd4","modified":1513338593116},{"_id":"themes/hexo-theme-next/layout/_third-party/comments/youyan.swig","hash":"8b6650f77fe0a824c8075b2659e0403e0c78a705","modified":1513338593117},{"_id":"themes/hexo-theme-next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1513338593118},{"_id":"themes/hexo-theme-next/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1513338593118},{"_id":"themes/hexo-theme-next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1513338593119},{"_id":"themes/hexo-theme-next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1513338593119},{"_id":"themes/hexo-theme-next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1513338593137},{"_id":"themes/hexo-theme-next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1513338593137},{"_id":"themes/hexo-theme-next/source/css/_mixins/Pisces.styl","hash":"9ab65361ba0a12a986edd103e56492644c2db0b8","modified":1513338593138},{"_id":"themes/hexo-theme-next/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1513338593138},{"_id":"themes/hexo-theme-next/source/css/_variables/Gemini.styl","hash":"99fbb4686ea9a3e03a4726ed7cf4d8f529034452","modified":1513338593145},{"_id":"themes/hexo-theme-next/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1513338593145},{"_id":"themes/hexo-theme-next/source/css/_variables/Pisces.styl","hash":"f29165e36489a87ba32d17dddfd2720d84e3f3ec","modified":1513338593145},{"_id":"themes/hexo-theme-next/source/css/_variables/base.styl","hash":"29c261fa6b4046322559074d75239c6b272fb8a3","modified":1513338593146},{"_id":"themes/hexo-theme-next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1513338593160},{"_id":"themes/hexo-theme-next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1513338593164},{"_id":"themes/hexo-theme-next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1513338593163},{"_id":"themes/hexo-theme-next/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1513338593164},{"_id":"themes/hexo-theme-next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1513338593170},{"_id":"themes/hexo-theme-next/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1513338593164},{"_id":"themes/hexo-theme-next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1513338593171},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1513338593173},{"_id":"themes/hexo-theme-next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1513338593171},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1513338593173},{"_id":"themes/hexo-theme-next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1513338593171},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1513338593174},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1513338593174},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1513338593174},{"_id":"themes/hexo-theme-next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1513338593188},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1513338593190},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1513338593190},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1513338593190},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1513338593191},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1513338593191},{"_id":"themes/hexo-theme-next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1513338593191},{"_id":"themes/hexo-theme-next/source/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1513338593193},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1513338593193},{"_id":"themes/hexo-theme-next/source/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1513338593192},{"_id":"themes/hexo-theme-next/source/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1513338593193},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1513338593194},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1513338593194},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1513338593194},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1513338593194},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1513338593195},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1513338593195},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1513338593196},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1513338593195},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1513338593197},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1513338593197},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1513338593196},{"_id":"themes/hexo-theme-next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1513338593196},{"_id":"themes/hexo-theme-next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1513338593197},{"_id":"themes/hexo-theme-next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1513338593198},{"_id":"themes/hexo-theme-next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1513338593199},{"_id":"themes/hexo-theme-next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1513338593199},{"_id":"themes/hexo-theme-next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1513338593205},{"_id":"themes/hexo-theme-next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1513338593205},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1513338593208},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1513338593207},{"_id":"themes/hexo-theme-next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1513338593152},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1513338593207},{"_id":"themes/hexo-theme-next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1513338593152},{"_id":"themes/hexo-theme-next/source/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1513338593153},{"_id":"themes/hexo-theme-next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1513338593153},{"_id":"themes/hexo-theme-next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1513338593153},{"_id":"themes/hexo-theme-next/source/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1513338593154},{"_id":"themes/hexo-theme-next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1513338593153},{"_id":"themes/hexo-theme-next/source/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1513338593154},{"_id":"themes/hexo-theme-next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1513338593155},{"_id":"themes/hexo-theme-next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1513338593155},{"_id":"themes/hexo-theme-next/source/js/src/utils.js","hash":"dbdc3d1300eec7da9632608ebc0e5b697779dad7","modified":1513338593155},{"_id":"source/img/pwa/2.png","hash":"3d8170ef49e9c7a6eb717abb7e6ff506a8fb0222","modified":1525873067133},{"_id":"themes/hexo-theme-next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1513338593189},{"_id":"themes/hexo-theme-next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1513338593118},{"_id":"themes/hexo-theme-next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1513338593118},{"_id":"themes/hexo-theme-next/source/css/_common/components/back-to-top-sidebar.styl","hash":"4719ce717962663c5c33ef97b1119a0b3a4ecdc3","modified":1513338593123},{"_id":"themes/hexo-theme-next/source/css/_common/components/buttons.styl","hash":"7e509c7c28c59f905b847304dd3d14d94b6f3b8e","modified":1513338593123},{"_id":"themes/hexo-theme-next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1513338593123},{"_id":"themes/hexo-theme-next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1513338593123},{"_id":"themes/hexo-theme-next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1513338593123},{"_id":"themes/hexo-theme-next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1513338593126},{"_id":"themes/hexo-theme-next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1513338593131},{"_id":"themes/hexo-theme-next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1513338593135},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1513338593135},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/mobile.styl","hash":"47a46583a1f3731157a3f53f80ed1ed5e2753e8e","modified":1513338593136},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/base.styl","hash":"f7c44b0ee46cf2cf82a4c9455ba8d8b55299976f","modified":1513338593135},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1513338593136},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1513338593136},{"_id":"themes/hexo-theme-next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1513338593136},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1513338593139},{"_id":"themes/hexo-theme-next/source/css/_schemes/Gemini/index.styl","hash":"18c3336ee3d09bd2da6a876e1336539f03d5a973","modified":1513338593138},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1513338593139},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1513338593139},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1513338593139},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"3b25edfa187d1bbbd0d38b50dd013cef54758abf","modified":1513338593140},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1513338593140},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1513338593140},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1513338593142},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1513338593141},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/_menu.styl","hash":"02fb8fa6b6c252b6bed469539cd057716606a787","modified":1513338593142},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1513338593142},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1513338593142},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1513338593143},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1513338593143},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1513338593143},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1513338593144},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/_sidebar.styl","hash":"bcf52192942c0afc410c74a0fb458e7936ddc3d5","modified":1513338593144},{"_id":"themes/hexo-theme-next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1513338593144},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1513338593158},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1513338593159},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1513338593159},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1513338593165},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1513338593165},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1513338593166},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1513338593166},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1513338593166},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1513338593166},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1513338593168},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1513338593169},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1513338593170},{"_id":"themes/hexo-theme-next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1513338593173},{"_id":"themes/hexo-theme-next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1513338593172},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1513338593175},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1513338593175},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1513338593176},{"_id":"themes/hexo-theme-next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1513338593204},{"_id":"themes/hexo-theme-next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1513338593204},{"_id":"themes/hexo-theme-next/source/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1513338593154},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1513338593158},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1513338593187},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1513338593187},{"_id":"themes/hexo-theme-next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1513338593206},{"_id":"source/img/pwa/1.png","hash":"59f1ce1a903ed76b8434af748258d6172da506d1","modified":1525871404714},{"_id":"themes/hexo-theme-next/source/css/_common/components/footer/footer.styl","hash":"7905a7f625702b45645d8be1268cb8af3f698c70","modified":1513338593124},{"_id":"themes/hexo-theme-next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1513338593124},{"_id":"themes/hexo-theme-next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1513338593124},{"_id":"themes/hexo-theme-next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1513338593124},{"_id":"themes/hexo-theme-next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1513338593124},{"_id":"themes/hexo-theme-next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1513338593125},{"_id":"themes/hexo-theme-next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1513338593124},{"_id":"themes/hexo-theme-next/source/css/_common/components/highlight/highlight.styl","hash":"25dc25f61a232f03ca72472b7852f882448ec185","modified":1513338593125},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1513338593125},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1513338593126},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1513338593125},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1513338593126},{"_id":"themes/hexo-theme-next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1513338593126},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1513338593126},{"_id":"themes/hexo-theme-next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1513338593125},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1513338593126},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1513338593127},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1513338593127},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-expand.styl","hash":"535b3b4f8cb1eec2558e094320e7dfb01f94c0e7","modified":1513338593127},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1513338593127},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-meta.styl","hash":"aea21141015ca8c409d8b33e3e34ec505f464e93","modified":1513338593127},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1513338593127},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1513338593128},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1513338593128},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1513338593128},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-title.styl","hash":"d5a4e4fc17f1f7e7c3a61b52d8e2e9677e139de7","modified":1513338593128},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1513338593128},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post-widgets.styl","hash":"e4055a0d2cd2b0ad9dc55928e2f3e7bd4e499da3","modified":1513338593128},{"_id":"themes/hexo-theme-next/source/css/_common/components/post/post.styl","hash":"262debfd4442fa03d9919ceb88b948339df03fb0","modified":1513338593129},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"0a6c0efffdf18bddbc1d1238feaed282b09cd0fe","modified":1513338593129},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1513338593129},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1513338593129},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1513338593129},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1513338593129},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1513338593130},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"77c92a449ce84d558d26d052681f2e0dd77c70c9","modified":1513338593130},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1513338593130},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/sidebar.styl","hash":"50305b6ad7d09d2ffa4854e39f41ec1f4fe984fd","modified":1513338593130},{"_id":"themes/hexo-theme-next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1513338593130},{"_id":"themes/hexo-theme-next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1513338593131},{"_id":"themes/hexo-theme-next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1513338593131},{"_id":"themes/hexo-theme-next/source/css/_common/components/tags/full-image.styl","hash":"b8969e1654eec89a0fd10d88b337fee9cb03cd44","modified":1513338593131},{"_id":"themes/hexo-theme-next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1513338593131},{"_id":"themes/hexo-theme-next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1513338593131},{"_id":"themes/hexo-theme-next/source/css/_common/components/tags/note-modern.styl","hash":"ee7528900578ef4753effe05b346381c40de5499","modified":1513338593132},{"_id":"themes/hexo-theme-next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1513338593132},{"_id":"themes/hexo-theme-next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1513338593132},{"_id":"themes/hexo-theme-next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1513338593132},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1513338593132},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1513338593133},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1513338593133},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1513338593133},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/gitment.styl","hash":"34935b40237c074be5f5e8818c14ccfd802b7439","modified":1513338593133},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1513338593133},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1513338593134},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1513338593134},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/needsharebutton.styl","hash":"a5e3e6b4b4b814a9fe40b34d784fed67d6d977fa","modified":1513338593134},{"_id":"themes/hexo-theme-next/source/css/_common/components/third-party/third-party.styl","hash":"1ccfbd4d0f5754b2dc2719a91245c95f547a7652","modified":1513338593134},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1513338593140},{"_id":"themes/hexo-theme-next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1513338593141},{"_id":"themes/hexo-theme-next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1513338593142},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1513338593156},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1513338593156},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1513338593156},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1513338593157},{"_id":"themes/hexo-theme-next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1513338593157},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1513338593166},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1513338593167},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1513338593167},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1513338593168},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1513338593168},{"_id":"themes/hexo-theme-next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1513338593168},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1513338593178},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1513338593180},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1513338593186},{"_id":"themes/hexo-theme-next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1513338593163},{"_id":"themes/hexo-theme-next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1513338593203},{"_id":"themes/hexo-theme-next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1513338593184},{"_id":"public/pwa/index.js","hash":"192300dc1d7d5f3d501085e60775528a4d2ea71c","modified":1527127370059},{"_id":"public/pwa/sw1.js","hash":"13af6af10204ff87872fa13e836f87554c998f44","modified":1527127370067},{"_id":"public/pwa/mainfest.json","hash":"aa79d65647ea2916fdd4d951e1750385c1148844","modified":1527127370067},{"_id":"public/pwa/demo.html","hash":"caab84add604d24255b30bae0d54d0264fcd5206","modified":1527127370080},{"_id":"public/2017/09/15/review/index.html","hash":"8e903cff55e1228b7ae2bb3a59d4a16aa0c4394f","modified":1527127370080},{"_id":"public/2017/09/14/index/index.html","hash":"494ef1fc74f28de7727cff3e8c47129fec2925a6","modified":1527127370080},{"_id":"public/archives/page/2/index.html","hash":"e9e124bb54939ec12902f6c0963b3abbd9dfe547","modified":1527127370080},{"_id":"public/archives/2017/index.html","hash":"d2484fccd31a8caadfbd30b50b7fc3af9b2e905c","modified":1527127370081},{"_id":"public/archives/2017/09/index.html","hash":"d9585e261f05be6ff2b6b94d55595a3644f582e7","modified":1527127370081},{"_id":"public/archives/2017/10/index.html","hash":"100ebf8f77751ddad01fa2b4ed6844ddd4c43e4e","modified":1527127370081},{"_id":"public/archives/2017/11/index.html","hash":"e29c157bcd350ac635a57857f1202e060267f43a","modified":1527127370081},{"_id":"public/archives/2017/12/index.html","hash":"082441611ae3f0c66e690e604d4910e97996c458","modified":1527127370081},{"_id":"public/archives/2018/index.html","hash":"e58e9944833f0cdae08d8afe2f990611d5635d41","modified":1527127370081},{"_id":"public/archives/2018/01/index.html","hash":"8e7211acf45e248a890fbc454c88b6ba59439ba9","modified":1527127370081},{"_id":"public/archives/2018/05/index.html","hash":"2a1b31ad5e3be51d9f9257779a955763f79a866e","modified":1527127370081},{"_id":"public/tags/webpack/index.html","hash":"a9f84178b1acab8424316a2f3afd8dbeb57b5f54","modified":1527127370081},{"_id":"public/2018/05/23/jstype/index.html","hash":"2f743de4e247ac22ce57b8564e1216c71968eb1a","modified":1527127370081},{"_id":"public/2018/05/15/bfc/index.html","hash":"b0dea074f3233010e8d0808fcdea26b478757621","modified":1527127370081},{"_id":"public/2018/05/09/pwa/index.html","hash":"c1972acabc5741974990ebacce026ee91fa7030c","modified":1527127370081},{"_id":"public/2018/05/07/performance/index.html","hash":"261b28cefdfbc1a2e40c2f45dc691279607aa016","modified":1527127370081},{"_id":"public/2018/01/26/webpack/code-splitting/index.html","hash":"3407152bf907a4efefba3b799dc49c97f4e102bd","modified":1527127370081},{"_id":"public/2017/12/22/css/postcss/index.html","hash":"aa6d97a7b494f1fa4e79e6eb8a776d4d3d2b6ace","modified":1527127370081},{"_id":"public/2017/12/17/domevent/index.html","hash":"cb0e7c6e2b4ad94c49b93d3000a4045d76bef002","modified":1527127370081},{"_id":"public/2017/11/22/websocket/node/index.html","hash":"b0db2a6c2397feaf03d16fd46010f39ab8dc1005","modified":1527127370082},{"_id":"public/2017/11/06/websocket/frame/index.html","hash":"9db1b166e98965343c3273b832f8f2639fec1e81","modified":1527127370082},{"_id":"public/2017/10/23/webpack/plugin/index.html","hash":"e9a81304cf3dae482536cb9c66741648669a245a","modified":1527127370082},{"_id":"public/2017/10/14/webpack/loader/index.html","hash":"329f93d24945aa662828830027221ce816fc9b01","modified":1527127370082},{"_id":"public/archives/index.html","hash":"665685b6afc123f0eb30b28130f1a16991099be9","modified":1527127370082},{"_id":"public/index.html","hash":"4cfd918f4444f4c29763159b7283eef6c67919e1","modified":1527127370082},{"_id":"public/page/2/index.html","hash":"a860067c165c795df38a07d3d9d0ee9efee95a04","modified":1527127370082},{"_id":"public/CNAME","hash":"8962578830ff3908b06d264d46ed7a0c287ebc2e","modified":1527127370187},{"_id":"public/img/bfc/2.png","hash":"dcdc1c2294a080b12b25d3d6180a00c9dc1f1046","modified":1527127370187},{"_id":"public/img/bfc/4.png","hash":"e60e1ef6ae9141a6fbe082c0738e2b710dea4f23","modified":1527127370187},{"_id":"public/img/bfc/1.png","hash":"073a5170e8ea6b34853b9c13d4cdcb7f3fc1dc08","modified":1527127370187},{"_id":"public/img/bfc/3.png","hash":"ea2033a704bca3c71c6b2930c922c048f37dda0a","modified":1527127370187},{"_id":"public/pwa/asset/sw.jpg","hash":"55965b91726892f738ba56643f2eaeb8af7fd762","modified":1527127370188},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1527127370188},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1527127370188},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1527127370188},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1527127370188},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1527127370188},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1527127370188},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1527127370188},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1527127370188},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1527127370188},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1527127370188},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1527127370188},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1527127370189},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1527127370189},{"_id":"public/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1527127370189},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1527127370189},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1527127370189},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1527127370189},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1527127370189},{"_id":"public/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1527127370189},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1527127370189},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1527127370189},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1527127370189},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1527127370189},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1527127370189},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1527127370189},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1527127370190},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1527127370190},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1527127370190},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1527127370190},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1527127370190},{"_id":"public/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1527127370190},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1527127370190},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1527127370190},{"_id":"public/img/jstype/2.png","hash":"08957b47ee972258c8aab3d5e4c9abd49010db26","modified":1527127371308},{"_id":"public/img/performance/2.png","hash":"a7e1421f5df1fcb8203c76d457fb813221aa3e85","modified":1527127371313},{"_id":"public/img/performance/1.png","hash":"2051f0f5801d2e336fc95e0052ecedba7fb08a0f","modified":1527127371348},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1527127371348},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1527127371348},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1527127371354},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1527127371354},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1527127371355},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1527127371355},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1527127371355},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1527127371355},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1527127371355},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1527127371355},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1527127371355},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1527127371355},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1527127371355},{"_id":"public/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1527127371355},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1527127371356},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1527127371356},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1527127371356},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1527127371356},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1527127371356},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1527127371356},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1527127371357},{"_id":"public/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1527127371357},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1527127371357},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1527127371357},{"_id":"public/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1527127371357},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1527127371357},{"_id":"public/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1527127371357},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1527127371357},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1527127371357},{"_id":"public/js/src/utils.js","hash":"dbdc3d1300eec7da9632608ebc0e5b697779dad7","modified":1527127371357},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1527127371357},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1527127371357},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1527127371357},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1527127371357},{"_id":"public/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1527127371357},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1527127371357},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1527127371357},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1527127371358},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1527127371358},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1527127371358},{"_id":"public/css/main.css","hash":"6fc74c1b996f9e74f9e062026a6dae6b048d25fb","modified":1527127371358},{"_id":"public/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1527127371358},{"_id":"public/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1527127371358},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1527127371358},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1527127371358},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1527127371358},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1527127371358},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1527127371358},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1527127371358},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1527127371358},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1527127371359},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1527127371359},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1527127371360},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1527127371360},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1527127371360},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1527127371360},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1527127371360},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1527127371360},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1527127371360},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1527127371360},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1527127371360},{"_id":"public/img/jstype/1.png","hash":"313fa0d1e78fc4fbcf5d7f1e71681a3466f4a81a","modified":1527127371360},{"_id":"public/img/jstype/3.png","hash":"70f96b01ef09e050a5c179f40342c3179eca714d","modified":1527127371361},{"_id":"public/img/pwa/3.png","hash":"cb936733f999e28e9349d189fb3d26b1b6c86929","modified":1527127371361},{"_id":"public/img/pwa/4.png","hash":"ea21e2618ecf07e76d81e24977d4f379bed83b38","modified":1527127371361},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1527127371361},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1527127371361},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1527127371361},{"_id":"public/img/pwa/2.png","hash":"3d8170ef49e9c7a6eb717abb7e6ff506a8fb0222","modified":1527127371370},{"_id":"public/img/pwa/1.png","hash":"59f1ce1a903ed76b8434af748258d6172da506d1","modified":1527127371386},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1527127371386}],"Category":[],"Data":[],"Page":[{"_content":"<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>service worker</title>\n    <link rel=\"manifest\" href=\"./mainfest.json\">\n</head>\n<body>\n<div id='root'>\n<div>simple PWA demo</div>    \n\n<img alt=\"\" style=\"width:200px;height:200px\"/>\n</div>\n\n<script src=\"./index.js\"></script>\n</body>\n</html>","source":"pwa/demo.html","raw":"<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>service worker</title>\n    <link rel=\"manifest\" href=\"./mainfest.json\">\n</head>\n<body>\n<div id='root'>\n<div>simple PWA demo</div>    \n\n<img alt=\"\" style=\"width:200px;height:200px\"/>\n</div>\n\n<script src=\"./index.js\"></script>\n</body>\n</html>","date":"2018-05-09T07:14:11.892Z","updated":"2018-05-09T07:14:11.892Z","path":"pwa/demo.html","title":"","comments":1,"layout":"page","_id":"cjhjw7di90001nl92k974c11j","content":"<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>service worker</title>\n    <link rel=\"manifest\" href=\"./mainfest.json\">\n</head>\n<body>\n<div id=\"root\">\n<div>simple PWA demo</div>    \n\n<img alt=\"\" style=\"width:200px;height:200px\">\n</div>\n\n<script src=\"./index.js\"></script>\n</body>\n</html>","site":{"data":{}},"excerpt":"","more":"<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>service worker</title>\n    <link rel=\"manifest\" href=\"./mainfest.json\">\n</head>\n<body>\n<div id=\"root\">\n<div>simple PWA demo</div>    \n\n<img alt=\"\" style=\"width:200px;height:200px\">\n</div>\n\n<script src=\"./index.js\"></script>\n</body>\n</html>"},{"_content":"function registerServiceWorker(){\n    // service worker\n    return navigator.serviceWorker.register('./sw1.js').then(registration => {\n        console.log('');\n        // \n        return registration;\n    })\n    .catch(err => {\n        console.error('', err);\n    });\n}\nfunction execute() {\n    // \n    registerServiceWorker().then(registration => {\n        // \n        registration.showNotification('Hello World!');\n    });\n}\n// \nfunction getPermission(){\n    return new Promise((resolve, reject) => {\n        const permissionPromise = Notification.requestPermission(result => {\n            resolve(result);\n        });\n    }).then(result => {\n            if (result === 'granted') {\n                execute();\n            }\n            else {\n                console.log('no permission');\n            }\n        });\n}\nwindow.onload = function () {\n    var myImage = document.querySelector('#root img'),\n        src = './asset/sw.jpg';\n    myImage.src = src;\n    if (!('serviceWorker' in navigator)) {\n        return;\n    }\n    if (!('PushManager' in window)) {\n        return;\n    }\n    //   \n    // registerServiceWorker()\n    // \n    getPermission()\n}","source":"pwa/index.js","raw":"function registerServiceWorker(){\n    // service worker\n    return navigator.serviceWorker.register('./sw1.js').then(registration => {\n        console.log('');\n        // \n        return registration;\n    })\n    .catch(err => {\n        console.error('', err);\n    });\n}\nfunction execute() {\n    // \n    registerServiceWorker().then(registration => {\n        // \n        registration.showNotification('Hello World!');\n    });\n}\n// \nfunction getPermission(){\n    return new Promise((resolve, reject) => {\n        const permissionPromise = Notification.requestPermission(result => {\n            resolve(result);\n        });\n    }).then(result => {\n            if (result === 'granted') {\n                execute();\n            }\n            else {\n                console.log('no permission');\n            }\n        });\n}\nwindow.onload = function () {\n    var myImage = document.querySelector('#root img'),\n        src = './asset/sw.jpg';\n    myImage.src = src;\n    if (!('serviceWorker' in navigator)) {\n        return;\n    }\n    if (!('PushManager' in window)) {\n        return;\n    }\n    //   \n    // registerServiceWorker()\n    // \n    getPermission()\n}","date":"2018-05-09T07:39:05.629Z","updated":"2018-05-09T07:39:05.629Z","path":"pwa/index.js","layout":"false","title":"","comments":1,"_id":"cjhjw7dig0003nl927kuqq1gq","content":"function registerServiceWorker(){\n    // service worker\n    return navigator.serviceWorker.register('./sw1.js').then(registration => {\n        console.log('');\n        // \n        return registration;\n    })\n    .catch(err => {\n        console.error('', err);\n    });\n}\nfunction execute() {\n    // \n    registerServiceWorker().then(registration => {\n        // \n        registration.showNotification('Hello World!');\n    });\n}\n// \nfunction getPermission(){\n    return new Promise((resolve, reject) => {\n        const permissionPromise = Notification.requestPermission(result => {\n            resolve(result);\n        });\n    }).then(result => {\n            if (result === 'granted') {\n                execute();\n            }\n            else {\n                console.log('no permission');\n            }\n        });\n}\nwindow.onload = function () {\n    var myImage = document.querySelector('#root img'),\n        src = './asset/sw.jpg';\n    myImage.src = src;\n    if (!('serviceWorker' in navigator)) {\n        return;\n    }\n    if (!('PushManager' in window)) {\n        return;\n    }\n    //   \n    // registerServiceWorker()\n    // \n    getPermission()\n}","site":{"data":{}},"excerpt":"","more":"function registerServiceWorker(){\n    // service worker\n    return navigator.serviceWorker.register('./sw1.js').then(registration => {\n        console.log('');\n        // \n        return registration;\n    })\n    .catch(err => {\n        console.error('', err);\n    });\n}\nfunction execute() {\n    // \n    registerServiceWorker().then(registration => {\n        // \n        registration.showNotification('Hello World!');\n    });\n}\n// \nfunction getPermission(){\n    return new Promise((resolve, reject) => {\n        const permissionPromise = Notification.requestPermission(result => {\n            resolve(result);\n        });\n    }).then(result => {\n            if (result === 'granted') {\n                execute();\n            }\n            else {\n                console.log('no permission');\n            }\n        });\n}\nwindow.onload = function () {\n    var myImage = document.querySelector('#root img'),\n        src = './asset/sw.jpg';\n    myImage.src = src;\n    if (!('serviceWorker' in navigator)) {\n        return;\n    }\n    if (!('PushManager' in window)) {\n        return;\n    }\n    //   \n    // registerServiceWorker()\n    // \n    getPermission()\n}"},{"_content":"const PRECACHE = 'precache_test_1'\nconst RUNTIME = 'runtime';\nconst PRECACHE_URLS = [\n    '/',\n    'pwa/asset/sw.jpg',\n    'pwa/index.js'\n]\nself.addEventListener('install',e=>{\n    e.waitUntil(\n        caches.open(PRECACHE).then(cache=>{\n            cache.addAll(PRECACHE_URLS)\n        }).then(\n            self.skipWaiting()\n        )\n    )\n})\nself.addEventListener('activate', e => {\n      \n    e.waitUntil(\n        caches.keys().then(cacheNames=>{\n          return Promise.all(\n            cacheNames.map(function(cacheName) {\n              if (cacheName !== PRECACHE) {\n                return caches.delete(cacheName);\n              }\n            })\n      )}).then(() => self.clients.claim())\n   )\n  })\n  \n  \n  self.addEventListener('fetch', e => {\n    e.respondWith(\n      caches.match(e.request).then(function(response) {\n        if (response != null) {\n          return response\n        }\n        return fetch(e.request.url)\n      })\n    )\n  });","source":"pwa/sw1.js","raw":"const PRECACHE = 'precache_test_1'\nconst RUNTIME = 'runtime';\nconst PRECACHE_URLS = [\n    '/',\n    'pwa/asset/sw.jpg',\n    'pwa/index.js'\n]\nself.addEventListener('install',e=>{\n    e.waitUntil(\n        caches.open(PRECACHE).then(cache=>{\n            cache.addAll(PRECACHE_URLS)\n        }).then(\n            self.skipWaiting()\n        )\n    )\n})\nself.addEventListener('activate', e => {\n      \n    e.waitUntil(\n        caches.keys().then(cacheNames=>{\n          return Promise.all(\n            cacheNames.map(function(cacheName) {\n              if (cacheName !== PRECACHE) {\n                return caches.delete(cacheName);\n              }\n            })\n      )}).then(() => self.clients.claim())\n   )\n  })\n  \n  \n  self.addEventListener('fetch', e => {\n    e.respondWith(\n      caches.match(e.request).then(function(response) {\n        if (response != null) {\n          return response\n        }\n        return fetch(e.request.url)\n      })\n    )\n  });","date":"2018-05-09T09:25:49.664Z","updated":"2018-05-09T09:25:49.664Z","path":"pwa/sw1.js","layout":"false","title":"","comments":1,"_id":"cjhjw7dio0005nl92bsnn4nen","content":"const PRECACHE = 'precache_test_1'\nconst RUNTIME = 'runtime';\nconst PRECACHE_URLS = [\n    '/',\n    'pwa/asset/sw.jpg',\n    'pwa/index.js'\n]\nself.addEventListener('install',e=>{\n    e.waitUntil(\n        caches.open(PRECACHE).then(cache=>{\n            cache.addAll(PRECACHE_URLS)\n        }).then(\n            self.skipWaiting()\n        )\n    )\n})\nself.addEventListener('activate', e => {\n      \n    e.waitUntil(\n        caches.keys().then(cacheNames=>{\n          return Promise.all(\n            cacheNames.map(function(cacheName) {\n              if (cacheName !== PRECACHE) {\n                return caches.delete(cacheName);\n              }\n            })\n      )}).then(() => self.clients.claim())\n   )\n  })\n  \n  \n  self.addEventListener('fetch', e => {\n    e.respondWith(\n      caches.match(e.request).then(function(response) {\n        if (response != null) {\n          return response\n        }\n        return fetch(e.request.url)\n      })\n    )\n  });","site":{"data":{}},"excerpt":"","more":"const PRECACHE = 'precache_test_1'\nconst RUNTIME = 'runtime';\nconst PRECACHE_URLS = [\n    '/',\n    'pwa/asset/sw.jpg',\n    'pwa/index.js'\n]\nself.addEventListener('install',e=>{\n    e.waitUntil(\n        caches.open(PRECACHE).then(cache=>{\n            cache.addAll(PRECACHE_URLS)\n        }).then(\n            self.skipWaiting()\n        )\n    )\n})\nself.addEventListener('activate', e => {\n      \n    e.waitUntil(\n        caches.keys().then(cacheNames=>{\n          return Promise.all(\n            cacheNames.map(function(cacheName) {\n              if (cacheName !== PRECACHE) {\n                return caches.delete(cacheName);\n              }\n            })\n      )}).then(() => self.clients.claim())\n   )\n  })\n  \n  \n  self.addEventListener('fetch', e => {\n    e.respondWith(\n      caches.match(e.request).then(function(response) {\n        if (response != null) {\n          return response\n        }\n        return fetch(e.request.url)\n      })\n    )\n  });"},{"_content":"{\n  \"name\": \"PWA\",\n  \"short_name\": \"PWA\",\n  \"description\": \"demo\",\n  \"icons\": [{\n      \"src\": \"https://h5.sinaimg.cn/upload/696/2017/08/23/weibologo.png\",\n      \"sizes\": \"606x606\",\n      \"type\": \"image/png\"\n    }],\n  \"start_url\": \"/pwa/demo.html\",\n  \"scope\": \"/\",\n  \"display\": \"standalone\",\n  \"orientation\": \"portrait\",\n  \"background_color\": \"#F3F3F3\",\n  \"theme_color\": \"#F3F3F3\",\n  \"related_applications\": [],\n  \"prefer_related_applications\": false\n}\n","source":"pwa/mainfest.json","raw":"{\n  \"name\": \"PWA\",\n  \"short_name\": \"PWA\",\n  \"description\": \"demo\",\n  \"icons\": [{\n      \"src\": \"https://h5.sinaimg.cn/upload/696/2017/08/23/weibologo.png\",\n      \"sizes\": \"606x606\",\n      \"type\": \"image/png\"\n    }],\n  \"start_url\": \"/pwa/demo.html\",\n  \"scope\": \"/\",\n  \"display\": \"standalone\",\n  \"orientation\": \"portrait\",\n  \"background_color\": \"#F3F3F3\",\n  \"theme_color\": \"#F3F3F3\",\n  \"related_applications\": [],\n  \"prefer_related_applications\": false\n}\n","date":"2018-05-09T07:13:24.750Z","updated":"2018-05-09T07:13:24.750Z","path":"pwa/mainfest.json","layout":"false","title":"","comments":1,"_id":"cjhjw7dir0007nl927c70ibbo","content":"{\"name\":\"PWA\",\"short_name\":\"PWA\",\"description\":\"demo\",\"icons\":[{\"src\":\"https://h5.sinaimg.cn/upload/696/2017/08/23/weibologo.png\",\"sizes\":\"606x606\",\"type\":\"image/png\"}],\"start_url\":\"/pwa/demo.html\",\"scope\":\"/\",\"display\":\"standalone\",\"orientation\":\"portrait\",\"background_color\":\"#F3F3F3\",\"theme_color\":\"#F3F3F3\",\"related_applications\":[],\"prefer_related_applications\":false}","site":{"data":{}},"excerpt":"","more":"{\"name\":\"PWA\",\"short_name\":\"PWA\",\"description\":\"demo\",\"icons\":[{\"src\":\"https://h5.sinaimg.cn/upload/696/2017/08/23/weibologo.png\",\"sizes\":\"606x606\",\"type\":\"image/png\"}],\"start_url\":\"/pwa/demo.html\",\"scope\":\"/\",\"display\":\"standalone\",\"orientation\":\"portrait\",\"background_color\":\"#F3F3F3\",\"theme_color\":\"#F3F3F3\",\"related_applications\":[],\"prefer_related_applications\":false}"}],"Post":[{"title":"floatBFC","date":"2018-05-14T16:00:00.000Z","_content":"  \n## \n  \n  \n<!-- more -->\n\n```css  \n.warper{\n    width: 200px;\n    border:1px solid  #ff6633;\n}\n.float-1{\n    float: left;\n    background: blue;\n    height: 100px;\n    width: 100px;\n}\n.float-2{\n    float: left;\n    background: #ff0;\n    height: 50px;\n    width: 100px;\n}\n//html  \n<div class='warper'>\n    <div class=\"float-1\"></div>\n    <div class=\"float-2\"></div>\n</div>\n```  \n<img src='/img/bfc/1.png'/>\n0,  \n\n###    \n\n:  \n\n    1. afterbr clear\n    2. \n    3. overflowhiddenauto \n    4. displaytable       \n\n1clearBFC\n   \n\n#### clear    \n\nclear     \n\n()  \n\n```css  \n//div<br/>  \n.warper:after {\n    content: '';\n    height: 0;\n    display: block;\n    clear: both;\n} \n```     \n\nafterclearboth\n<img src='/img/bfc/2.png'/>  \n\n  \n<img src='/img/bfc/3.png'/>  \n\nfloatdisplayblock   \nBFC  \n\n### BFC    \n\n#### BFC(block formatting contexts)    \n\nBFCBlock-level box Block-level BoxBFCmargin  \n\n  \n\nIn a block formatting context, each boxs left outer edge touches the left edge of the containing block (for right-to-left formatting, right edges touch). This is true even in the presence of floats (although a boxs line boxes may shrink due to the floats), unless the box establishes a new block formatting context (in which case the box itself may become narrower due to the floats)   \nBFCBFC     \n \n#### BFC     \n\n1. \n2. \n3.      \n\n BFCBFCBFC  \n\nBFCBFCBFCBFCBFC \n\n#### BFC  \n    \nCSS3flow root  \n\n```js\nfloat none \n \noverflow visible hiddenautoscroll  \n \ndisplay (table-celltable-captioninline-block) \n \npositionabsolutefixed \n \nfieldset\n```   \n\nBFC  \n    \n\n```CSS  \n.warper{\n    width: 200px;\n    border:1px solid  #ff6633;\n    // \n    overflow: hidden;\n    overflow: auto;\n    float: left;\n    display:inline-block;\n    position: fixed;\n}\n```      \n \n<img src='/img/bfc/4.png'/>  \n\n###    \n####   \n[CSSBFC](http://www.zhangxinxu.com/wordpress/2015/02/css-deep-understand-flow-bfc-column-two-auto-layout/)   \n[CSSBFC](https://www.w3cplus.com/css/understanding-block-formatting-contexts-in-css.html)\nfloatfloat,[]()\n\n\n\n\n\n","source":"_posts/bfc.md","raw":"---\ntitle: floatBFC\ndate: 2018-05-15\n---\n  \n## \n  \n  \n<!-- more -->\n\n```css  \n.warper{\n    width: 200px;\n    border:1px solid  #ff6633;\n}\n.float-1{\n    float: left;\n    background: blue;\n    height: 100px;\n    width: 100px;\n}\n.float-2{\n    float: left;\n    background: #ff0;\n    height: 50px;\n    width: 100px;\n}\n//html  \n<div class='warper'>\n    <div class=\"float-1\"></div>\n    <div class=\"float-2\"></div>\n</div>\n```  \n<img src='/img/bfc/1.png'/>\n0,  \n\n###    \n\n:  \n\n    1. afterbr clear\n    2. \n    3. overflowhiddenauto \n    4. displaytable       \n\n1clearBFC\n   \n\n#### clear    \n\nclear     \n\n()  \n\n```css  \n//div<br/>  \n.warper:after {\n    content: '';\n    height: 0;\n    display: block;\n    clear: both;\n} \n```     \n\nafterclearboth\n<img src='/img/bfc/2.png'/>  \n\n  \n<img src='/img/bfc/3.png'/>  \n\nfloatdisplayblock   \nBFC  \n\n### BFC    \n\n#### BFC(block formatting contexts)    \n\nBFCBlock-level box Block-level BoxBFCmargin  \n\n  \n\nIn a block formatting context, each boxs left outer edge touches the left edge of the containing block (for right-to-left formatting, right edges touch). This is true even in the presence of floats (although a boxs line boxes may shrink due to the floats), unless the box establishes a new block formatting context (in which case the box itself may become narrower due to the floats)   \nBFCBFC     \n \n#### BFC     \n\n1. \n2. \n3.      \n\n BFCBFCBFC  \n\nBFCBFCBFCBFCBFC \n\n#### BFC  \n    \nCSS3flow root  \n\n```js\nfloat none \n \noverflow visible hiddenautoscroll  \n \ndisplay (table-celltable-captioninline-block) \n \npositionabsolutefixed \n \nfieldset\n```   \n\nBFC  \n    \n\n```CSS  \n.warper{\n    width: 200px;\n    border:1px solid  #ff6633;\n    // \n    overflow: hidden;\n    overflow: auto;\n    float: left;\n    display:inline-block;\n    position: fixed;\n}\n```      \n \n<img src='/img/bfc/4.png'/>  \n\n###    \n####   \n[CSSBFC](http://www.zhangxinxu.com/wordpress/2015/02/css-deep-understand-flow-bfc-column-two-auto-layout/)   \n[CSSBFC](https://www.w3cplus.com/css/understanding-block-formatting-contexts-in-css.html)\nfloatfloat,[]()\n\n\n\n\n\n","slug":"bfc","published":1,"updated":"2018-05-15T01:08:51.190Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7di00000nl92lnkvtu32","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><a id=\"more\"></a></p>\n<pre><code class=\"css\"><span class=\"selector-class\">.warper</span>{\n    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;\n    <span class=\"attribute\">border</span>:<span class=\"number\">1px</span> solid  <span class=\"number\">#ff6633</span>;\n}\n<span class=\"selector-class\">.float-1</span>{\n    <span class=\"attribute\">float</span>: left;\n    <span class=\"attribute\">background</span>: blue;\n    <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;\n    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;\n}\n<span class=\"selector-class\">.float-2</span>{\n    <span class=\"attribute\">float</span>: left;\n    <span class=\"attribute\">background</span>: <span class=\"number\">#ff0</span>;\n    <span class=\"attribute\">height</span>: <span class=\"number\">50px</span>;\n    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;\n}\n//html  \n&lt;div class='warper'&gt;\n    &lt;div class=\"float-1\"&gt;&lt;/div&gt;\n    &lt;div class=\"float-2\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p><img src=\"/img/bfc/1.png\"><br>0,  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:  </p>\n<pre><code>1. afterbr clear\n2. \n3. overflowhiddenauto \n4. displaytable       \n</code></pre><p>1clearBFC<br>   </p>\n<h4 id=\"clear\"><a href=\"#clear\" class=\"headerlink\" title=\"clear\"></a>clear</h4><p>clear <br><br>()  </p>\n<pre><code class=\"css\">//div&lt;br/&gt;  \n<span class=\"selector-class\">.warper</span><span class=\"selector-pseudo\">:after</span> {\n    <span class=\"attribute\">content</span>: <span class=\"string\">''</span>;\n    <span class=\"attribute\">height</span>: <span class=\"number\">0</span>;\n    <span class=\"attribute\">display</span>: block;\n    <span class=\"attribute\">clear</span>: both;\n}\n</code></pre>\n<p>afterclearboth<br><img src=\"/img/bfc/2.png\">  </p>\n<p><br><img src=\"/img/bfc/3.png\">  </p>\n<p>floatdisplayblock<br>BFC  </p>\n<h3 id=\"BFC\"><a href=\"#BFC\" class=\"headerlink\" title=\"BFC\"></a>BFC</h3><h4 id=\"BFC-block-formatting-contexts\"><a href=\"#BFC-block-formatting-contexts\" class=\"headerlink\" title=\"BFC(block formatting contexts)\"></a>BFC(block formatting contexts)</h4><p>BFCBlock-level box Block-level BoxBFCmargin  </p>\n<p>  </p>\n<p>In a block formatting context, each boxs left outer edge touches the left edge of the containing block (for right-to-left formatting, right edges touch). This is true even in the presence of floats (although a boxs line boxes may shrink due to the floats), unless the box establishes a new block formatting context (in which case the box itself may become narrower due to the floats)<br>BFCBFC     </p>\n<h4 id=\"BFC\"><a href=\"#BFC\" class=\"headerlink\" title=\"BFC\"></a>BFC</h4><ol>\n<li></li>\n<li></li>\n<li>     </li>\n</ol>\n<p> BFCBFCBFC  </p>\n<p>BFCBFCBFCBFCBFC </p>\n<h4 id=\"BFC\"><a href=\"#BFC\" class=\"headerlink\" title=\"BFC\"></a>BFC</h4><p>CSS3flow root  </p>\n<pre><code class=\"js\">float none \n\noverflow visible hiddenautoscroll  \n\ndisplay (table-celltable-captioninline-block) \n\npositionabsolutefixed \n\nfieldset\n</code></pre>\n<p>BFC<br>    </p>\n<pre><code class=\"CSS\"><span class=\"selector-class\">.warper</span>{\n    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;\n    <span class=\"attribute\">border</span>:<span class=\"number\">1px</span> solid  <span class=\"number\">#ff6633</span>;\n    // \n    <span class=\"selector-tag\">overflow</span>: <span class=\"selector-tag\">hidden</span>;\n    <span class=\"selector-tag\">overflow</span>: <span class=\"selector-tag\">auto</span>;\n    <span class=\"selector-tag\">float</span>: <span class=\"selector-tag\">left</span>;\n    <span class=\"selector-tag\">display</span><span class=\"selector-pseudo\">:inline-block</span>;\n    <span class=\"selector-tag\">position</span>: <span class=\"selector-tag\">fixed</span>;\n}\n</code></pre>\n<p><img src=\"/img/bfc/4.png\">  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://www.zhangxinxu.com/wordpress/2015/02/css-deep-understand-flow-bfc-column-two-auto-layout/\" target=\"_blank\" rel=\"noopener\">CSSBFC</a><br><a href=\"https://www.w3cplus.com/css/understanding-block-formatting-contexts-in-css.html\" target=\"_blank\" rel=\"noopener\">CSSBFC</a><br>floatfloat,<a href=\"\"></a></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br>","more":"</p>\n<pre><code class=\"css\"><span class=\"selector-class\">.warper</span>{\n    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;\n    <span class=\"attribute\">border</span>:<span class=\"number\">1px</span> solid  <span class=\"number\">#ff6633</span>;\n}\n<span class=\"selector-class\">.float-1</span>{\n    <span class=\"attribute\">float</span>: left;\n    <span class=\"attribute\">background</span>: blue;\n    <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;\n    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;\n}\n<span class=\"selector-class\">.float-2</span>{\n    <span class=\"attribute\">float</span>: left;\n    <span class=\"attribute\">background</span>: <span class=\"number\">#ff0</span>;\n    <span class=\"attribute\">height</span>: <span class=\"number\">50px</span>;\n    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;\n}\n//html  \n&lt;div class='warper'&gt;\n    &lt;div class=\"float-1\"&gt;&lt;/div&gt;\n    &lt;div class=\"float-2\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p><img src=\"/img/bfc/1.png\"><br>0,  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>:  </p>\n<pre><code>1. afterbr clear\n2. \n3. overflowhiddenauto \n4. displaytable       \n</code></pre><p>1clearBFC<br>   </p>\n<h4 id=\"clear\"><a href=\"#clear\" class=\"headerlink\" title=\"clear\"></a>clear</h4><p>clear <br><br>()  </p>\n<pre><code class=\"css\">//div&lt;br/&gt;  \n<span class=\"selector-class\">.warper</span><span class=\"selector-pseudo\">:after</span> {\n    <span class=\"attribute\">content</span>: <span class=\"string\">''</span>;\n    <span class=\"attribute\">height</span>: <span class=\"number\">0</span>;\n    <span class=\"attribute\">display</span>: block;\n    <span class=\"attribute\">clear</span>: both;\n}\n</code></pre>\n<p>afterclearboth<br><img src=\"/img/bfc/2.png\">  </p>\n<p><br><img src=\"/img/bfc/3.png\">  </p>\n<p>floatdisplayblock<br>BFC  </p>\n<h3 id=\"BFC\"><a href=\"#BFC\" class=\"headerlink\" title=\"BFC\"></a>BFC</h3><h4 id=\"BFC-block-formatting-contexts\"><a href=\"#BFC-block-formatting-contexts\" class=\"headerlink\" title=\"BFC(block formatting contexts)\"></a>BFC(block formatting contexts)</h4><p>BFCBlock-level box Block-level BoxBFCmargin  </p>\n<p>  </p>\n<p>In a block formatting context, each boxs left outer edge touches the left edge of the containing block (for right-to-left formatting, right edges touch). This is true even in the presence of floats (although a boxs line boxes may shrink due to the floats), unless the box establishes a new block formatting context (in which case the box itself may become narrower due to the floats)<br>BFCBFC     </p>\n<h4 id=\"BFC\"><a href=\"#BFC\" class=\"headerlink\" title=\"BFC\"></a>BFC</h4><ol>\n<li></li>\n<li></li>\n<li>     </li>\n</ol>\n<p> BFCBFCBFC  </p>\n<p>BFCBFCBFCBFCBFC </p>\n<h4 id=\"BFC\"><a href=\"#BFC\" class=\"headerlink\" title=\"BFC\"></a>BFC</h4><p>CSS3flow root  </p>\n<pre><code class=\"js\">float none \n\noverflow visible hiddenautoscroll  \n\ndisplay (table-celltable-captioninline-block) \n\npositionabsolutefixed \n\nfieldset\n</code></pre>\n<p>BFC<br>    </p>\n<pre><code class=\"CSS\"><span class=\"selector-class\">.warper</span>{\n    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;\n    <span class=\"attribute\">border</span>:<span class=\"number\">1px</span> solid  <span class=\"number\">#ff6633</span>;\n    // \n    <span class=\"selector-tag\">overflow</span>: <span class=\"selector-tag\">hidden</span>;\n    <span class=\"selector-tag\">overflow</span>: <span class=\"selector-tag\">auto</span>;\n    <span class=\"selector-tag\">float</span>: <span class=\"selector-tag\">left</span>;\n    <span class=\"selector-tag\">display</span><span class=\"selector-pseudo\">:inline-block</span>;\n    <span class=\"selector-tag\">position</span>: <span class=\"selector-tag\">fixed</span>;\n}\n</code></pre>\n<p><img src=\"/img/bfc/4.png\">  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://www.zhangxinxu.com/wordpress/2015/02/css-deep-understand-flow-bfc-column-two-auto-layout/\" target=\"_blank\" rel=\"noopener\">CSSBFC</a><br><a href=\"https://www.w3cplus.com/css/understanding-block-formatting-contexts-in-css.html\" target=\"_blank\" rel=\"noopener\">CSSBFC</a><br>floatfloat,<a href=\"\"></a></p>"},{"title":"","date":"2017-09-13T16:00:00.000Z","_content":"[](http://www.cnblogs.com/pqjwyn/)[](https://juejin.im/user/584e46a2ac502e006c749486)()PWAjsgitpages\n<!-- more -->\n## [](http://www.cnblogs.com/pqjwyn/p/) \n","source":"_posts/index.md","raw":"---\ntitle: \ndate: 2017-09-14\n---\n[](http://www.cnblogs.com/pqjwyn/)[](https://juejin.im/user/584e46a2ac502e006c749486)()PWAjsgitpages\n<!-- more -->\n## [](http://www.cnblogs.com/pqjwyn/p/) \n","slug":"index","published":1,"updated":"2017-12-15T11:54:52.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7did0002nl92ksyy3kjt","content":"<p><a href=\"http://www.cnblogs.com/pqjwyn/\" target=\"_blank\" rel=\"noopener\"></a><a href=\"https://juejin.im/user/584e46a2ac502e006c749486\" target=\"_blank\" rel=\"noopener\"></a>()PWAjsgitpages<br><a id=\"more\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"http://www.cnblogs.com/pqjwyn/p/\" target=\"_blank\" rel=\"noopener\"></a></h2>","site":{"data":{}},"excerpt":"<p><a href=\"http://www.cnblogs.com/pqjwyn/\" target=\"_blank\" rel=\"noopener\"></a><a href=\"https://juejin.im/user/584e46a2ac502e006c749486\" target=\"_blank\" rel=\"noopener\"></a>()PWAjsgitpages<br>","more":"</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"http://www.cnblogs.com/pqjwyn/p/\" target=\"_blank\" rel=\"noopener\"></a></h2>"},{"title":"DOMContentLoadedreadystatechangeloadready","date":"2017-12-16T16:00:00.000Z","_content":"loade,unload,DOMContentLoadedDOMContentLoaded  \n<!-- more -->\n## \n([MDN](https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded))  \n### DOMContentLoaded   \nhtmlframeloadDOMContentLoadedload\ntips:  DOM readyzepto\n### load\n\n### readystatechange\ndocumentreadyStatedocumentloadingreadyStatereadystatechange.  \n\n* loading  \n\n      \n* interactive  \n\n\n  frame  \n* complete    \n\n  \n  load  \n\ndom  \n readyState \n### beforeunload\nbeforeunload.  \nEventreturnValue\ntip:2011525html5window.alert(), window.confirm(), and window.prompt()\n### unload\nbeforeunload pagehide  \n  \n\n*  (, iframe .)\n* \n*  (window.open, alert, confirm .)\n*   \n\n\n##   \n  \n  \n  \n1. \n2. documentcss\n\n   readyState'interactive'documentload readystatechangeDOMContentLoaded()defer  \n      \n3.  cssimg  \n\n    window.load  \n4.  beforeunloadunload  \n\n  \n\n```html\n<!DOCTYPE html>\n<html>\n\n<head>\n    <title></title>\n    <script>\n            document.addEventListener(\"DOMContentLoaded\", function (event) {\n                console.log(\"DOM \");\n            });\n            window.addEventListener(\"load\", function (event) {\n                console.log(\"window \");\n            });\n    \n            document.onreadystatechange = function () {\n                console.log(document.readyState)\n                if (document.readyState === \"complete\") {\n                    console.log('DOM,')\n                }\n            }\n            window.addEventListener(\"beforeunload\", function (event) {\n                console.log('')\n                event.returnValue = \"\\o/\";\n            });\n            window.addEventListener('unload', function (event) {\n                console.log('1');\n            });\n        </script>\n    <link rel=\"stylesheet\" href=\"./test.css\">\n</head>\n\n<body>\n    <div id=\"root\">dom</div>\n    <script src=\"./index.js\"></script>\n</body>\n\n</html>\n```  \n   \n:  \n    \n```js\n    interactive //(index):15\n    DOM  //(index):8\n    complet//(index):15 \n    DOM,//(index):17 \n    window //(index):11 \n    //\n    \n    2  \n```    \n### ready  \njqueryzeptodocumentreadydomdomapi  \n  \n  \n1. readydom\n\n   completeinteractive DOMContentLoadeddomload \n2.   \n\n   \nzepto   \n \n```js \n//interactive\nreadyRE = /complete|loaded|interactive/\n\nready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    } \n```  \n\n    \n\n\n\n\n\n","source":"_posts/domevent.md","raw":"---\ntitle: DOMContentLoadedreadystatechangeloadready\ndate: 2017-12-17\n---\nloade,unload,DOMContentLoadedDOMContentLoaded  \n<!-- more -->\n## \n([MDN](https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded))  \n### DOMContentLoaded   \nhtmlframeloadDOMContentLoadedload\ntips:  DOM readyzepto\n### load\n\n### readystatechange\ndocumentreadyStatedocumentloadingreadyStatereadystatechange.  \n\n* loading  \n\n      \n* interactive  \n\n\n  frame  \n* complete    \n\n  \n  load  \n\ndom  \n readyState \n### beforeunload\nbeforeunload.  \nEventreturnValue\ntip:2011525html5window.alert(), window.confirm(), and window.prompt()\n### unload\nbeforeunload pagehide  \n  \n\n*  (, iframe .)\n* \n*  (window.open, alert, confirm .)\n*   \n\n\n##   \n  \n  \n  \n1. \n2. documentcss\n\n   readyState'interactive'documentload readystatechangeDOMContentLoaded()defer  \n      \n3.  cssimg  \n\n    window.load  \n4.  beforeunloadunload  \n\n  \n\n```html\n<!DOCTYPE html>\n<html>\n\n<head>\n    <title></title>\n    <script>\n            document.addEventListener(\"DOMContentLoaded\", function (event) {\n                console.log(\"DOM \");\n            });\n            window.addEventListener(\"load\", function (event) {\n                console.log(\"window \");\n            });\n    \n            document.onreadystatechange = function () {\n                console.log(document.readyState)\n                if (document.readyState === \"complete\") {\n                    console.log('DOM,')\n                }\n            }\n            window.addEventListener(\"beforeunload\", function (event) {\n                console.log('')\n                event.returnValue = \"\\o/\";\n            });\n            window.addEventListener('unload', function (event) {\n                console.log('1');\n            });\n        </script>\n    <link rel=\"stylesheet\" href=\"./test.css\">\n</head>\n\n<body>\n    <div id=\"root\">dom</div>\n    <script src=\"./index.js\"></script>\n</body>\n\n</html>\n```  \n   \n:  \n    \n```js\n    interactive //(index):15\n    DOM  //(index):8\n    complet//(index):15 \n    DOM,//(index):17 \n    window //(index):11 \n    //\n    \n    2  \n```    \n### ready  \njqueryzeptodocumentreadydomdomapi  \n  \n  \n1. readydom\n\n   completeinteractive DOMContentLoadeddomload \n2.   \n\n   \nzepto   \n \n```js \n//interactive\nreadyRE = /complete|loaded|interactive/\n\nready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    } \n```  \n\n    \n\n\n\n\n\n","slug":"domevent","published":1,"updated":"2017-12-17T10:44:57.725Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7dij0004nl92ufzwhpdr","content":"<p>loade,unload,DOMContentLoadedDOMContentLoaded<br><a id=\"more\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(<a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded\" target=\"_blank\" rel=\"noopener\">MDN</a>)  </p>\n<h3 id=\"DOMContentLoaded\"><a href=\"#DOMContentLoaded\" class=\"headerlink\" title=\"DOMContentLoaded\"></a>DOMContentLoaded</h3><p>htmlframeloadDOMContentLoadedload<br>tips:  DOM readyzepto</p>\n<h3 id=\"load\"><a href=\"#load\" class=\"headerlink\" title=\"load\"></a>load</h3><p></p>\n<h3 id=\"readystatechange\"><a href=\"#readystatechange\" class=\"headerlink\" title=\"readystatechange\"></a>readystatechange</h3><p>documentreadyStatedocumentloadingreadyStatereadystatechange.  </p>\n<ul>\n<li><p>loading  </p>\n<p>    </p>\n</li>\n<li>interactive  </li>\n</ul>\n<p>  frame  </p>\n<ul>\n<li>complete    </li>\n</ul>\n<p>  load  </p>\n<p>dom<br> readyState </p>\n<h3 id=\"beforeunload\"><a href=\"#beforeunload\" class=\"headerlink\" title=\"beforeunload\"></a>beforeunload</h3><p>beforeunload.<br>EventreturnValue<br>tip:2011525html5window.alert(), window.confirm(), and window.prompt()</p>\n<h3 id=\"unload\"><a href=\"#unload\" class=\"headerlink\" title=\"unload\"></a>unload</h3><p>beforeunload pagehide<br>  </p>\n<ul>\n<li> (, iframe .)</li>\n<li></li>\n<li> (window.open, alert, confirm .)</li>\n<li>  </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<ol>\n<li></li>\n<li><p>documentcss</p>\n<p>readyStateinteractivedocumentload readystatechangeDOMContentLoaded()defer  </p>\n</li>\n<li><p>cssimg  </p>\n<p>window.load  </p>\n</li>\n<li>beforeunloadunload  </li>\n</ol>\n<p>  </p>\n<pre><code class=\"html\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span>\n<span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span>\n\n<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span>\n<span class=\"javascript\">            <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">\"DOMContentLoaded\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">\"DOM \"</span>);</span>\n<span class=\"undefined\">            });</span>\n<span class=\"javascript\">            <span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">\"load\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">\"window \"</span>);</span>\n<span class=\"undefined\">            });</span>\n<span class=\"undefined\"></span>\n<span class=\"javascript\">            <span class=\"built_in\">document</span>.onreadystatechange = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"built_in\">document</span>.readyState)</span>\n<span class=\"javascript\">                <span class=\"keyword\">if</span> (<span class=\"built_in\">document</span>.readyState === <span class=\"string\">\"complete\"</span>) {</span>\n<span class=\"javascript\">                    <span class=\"built_in\">console</span>.log(<span class=\"string\">'DOM,'</span>)</span>\n<span class=\"undefined\">                }</span>\n<span class=\"undefined\">            }</span>\n<span class=\"javascript\">            <span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">\"beforeunload\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>)</span>\n<span class=\"javascript\">                event.returnValue = <span class=\"string\">\"\\o/\"</span>;</span>\n<span class=\"undefined\">            });</span>\n<span class=\"javascript\">            <span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">'unload'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">'1'</span>);</span>\n<span class=\"undefined\">            });</span>\n<span class=\"undefined\">        </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"./test.css\"</span>&gt;</span>\n<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span>\n\n<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"root\"</span>&gt;</span>dom<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./index.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span>\n<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span>\n\n<span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span>\n</code></pre>\n<p>:  </p>\n<pre><code class=\"js\">interactive <span class=\"comment\">//(index):15</span>\nDOM  <span class=\"comment\">//(index):8</span>\ncomplet<span class=\"comment\">//(index):15 </span>\nDOM,<span class=\"comment\">//(index):17 </span>\n<span class=\"built_in\">window</span> <span class=\"comment\">//(index):11 </span>\n<span class=\"comment\">//</span>\n\n<span class=\"number\">2</span>\n</code></pre>\n<h3 id=\"ready\"><a href=\"#ready\" class=\"headerlink\" title=\"ready\"></a>ready</h3><p>jqueryzeptodocumentreadydomdomapi<br>  </p>\n<ol>\n<li><p>readydom</p>\n<p>completeinteractive DOMContentLoadeddomload </p>\n</li>\n<li>  </li>\n</ol>\n<p>zepto   </p>\n<pre><code class=\"js\"><span class=\"comment\">//interactive</span>\nreadyRE = <span class=\"regexp\">/complete|loaded|interactive/</span>\n\nready: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">callback</span>)</span>{\n      <span class=\"comment\">// need to check if document.body exists for IE as that browser reports</span>\n      <span class=\"comment\">// document ready when it hasn't yet created the body element</span>\n      <span class=\"keyword\">if</span> (readyRE.test(<span class=\"built_in\">document</span>.readyState) &amp;&amp; <span class=\"built_in\">document</span>.body) callback($)\n      <span class=\"keyword\">else</span> <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">'DOMContentLoaded'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>{ callback($) }, <span class=\"literal\">false</span>)\n      <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>\n    }\n</code></pre>\n<p>    </p>\n","site":{"data":{}},"excerpt":"<p>loade,unload,DOMContentLoadedDOMContentLoaded<br>","more":"</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(<a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded\" target=\"_blank\" rel=\"noopener\">MDN</a>)  </p>\n<h3 id=\"DOMContentLoaded\"><a href=\"#DOMContentLoaded\" class=\"headerlink\" title=\"DOMContentLoaded\"></a>DOMContentLoaded</h3><p>htmlframeloadDOMContentLoadedload<br>tips:  DOM readyzepto</p>\n<h3 id=\"load\"><a href=\"#load\" class=\"headerlink\" title=\"load\"></a>load</h3><p></p>\n<h3 id=\"readystatechange\"><a href=\"#readystatechange\" class=\"headerlink\" title=\"readystatechange\"></a>readystatechange</h3><p>documentreadyStatedocumentloadingreadyStatereadystatechange.  </p>\n<ul>\n<li><p>loading  </p>\n<p>    </p>\n</li>\n<li>interactive  </li>\n</ul>\n<p>  frame  </p>\n<ul>\n<li>complete    </li>\n</ul>\n<p>  load  </p>\n<p>dom<br> readyState </p>\n<h3 id=\"beforeunload\"><a href=\"#beforeunload\" class=\"headerlink\" title=\"beforeunload\"></a>beforeunload</h3><p>beforeunload.<br>EventreturnValue<br>tip:2011525html5window.alert(), window.confirm(), and window.prompt()</p>\n<h3 id=\"unload\"><a href=\"#unload\" class=\"headerlink\" title=\"unload\"></a>unload</h3><p>beforeunload pagehide<br>  </p>\n<ul>\n<li> (, iframe .)</li>\n<li></li>\n<li> (window.open, alert, confirm .)</li>\n<li>  </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<ol>\n<li></li>\n<li><p>documentcss</p>\n<p>readyStateinteractivedocumentload readystatechangeDOMContentLoaded()defer  </p>\n</li>\n<li><p>cssimg  </p>\n<p>window.load  </p>\n</li>\n<li>beforeunloadunload  </li>\n</ol>\n<p>  </p>\n<pre><code class=\"html\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span>\n<span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span>\n\n<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span>\n<span class=\"javascript\">            <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">\"DOMContentLoaded\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">\"DOM \"</span>);</span>\n<span class=\"undefined\">            });</span>\n<span class=\"javascript\">            <span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">\"load\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">\"window \"</span>);</span>\n<span class=\"undefined\">            });</span>\n<span class=\"undefined\"></span>\n<span class=\"javascript\">            <span class=\"built_in\">document</span>.onreadystatechange = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"built_in\">document</span>.readyState)</span>\n<span class=\"javascript\">                <span class=\"keyword\">if</span> (<span class=\"built_in\">document</span>.readyState === <span class=\"string\">\"complete\"</span>) {</span>\n<span class=\"javascript\">                    <span class=\"built_in\">console</span>.log(<span class=\"string\">'DOM,'</span>)</span>\n<span class=\"undefined\">                }</span>\n<span class=\"undefined\">            }</span>\n<span class=\"javascript\">            <span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">\"beforeunload\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>)</span>\n<span class=\"javascript\">                event.returnValue = <span class=\"string\">\"\\o/\"</span>;</span>\n<span class=\"undefined\">            });</span>\n<span class=\"javascript\">            <span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">'unload'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>{</span>\n<span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">'1'</span>);</span>\n<span class=\"undefined\">            });</span>\n<span class=\"undefined\">        </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"./test.css\"</span>&gt;</span>\n<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span>\n\n<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"root\"</span>&gt;</span>dom<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./index.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span>\n<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span>\n\n<span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span>\n</code></pre>\n<p>:  </p>\n<pre><code class=\"js\">interactive <span class=\"comment\">//(index):15</span>\nDOM  <span class=\"comment\">//(index):8</span>\ncomplet<span class=\"comment\">//(index):15 </span>\nDOM,<span class=\"comment\">//(index):17 </span>\n<span class=\"built_in\">window</span> <span class=\"comment\">//(index):11 </span>\n<span class=\"comment\">//</span>\n\n<span class=\"number\">2</span>\n</code></pre>\n<h3 id=\"ready\"><a href=\"#ready\" class=\"headerlink\" title=\"ready\"></a>ready</h3><p>jqueryzeptodocumentreadydomdomapi<br>  </p>\n<ol>\n<li><p>readydom</p>\n<p>completeinteractive DOMContentLoadeddomload </p>\n</li>\n<li>  </li>\n</ol>\n<p>zepto   </p>\n<pre><code class=\"js\"><span class=\"comment\">//interactive</span>\nreadyRE = <span class=\"regexp\">/complete|loaded|interactive/</span>\n\nready: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">callback</span>)</span>{\n      <span class=\"comment\">// need to check if document.body exists for IE as that browser reports</span>\n      <span class=\"comment\">// document ready when it hasn't yet created the body element</span>\n      <span class=\"keyword\">if</span> (readyRE.test(<span class=\"built_in\">document</span>.readyState) &amp;&amp; <span class=\"built_in\">document</span>.body) callback($)\n      <span class=\"keyword\">else</span> <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">'DOMContentLoaded'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>{ callback($) }, <span class=\"literal\">false</span>)\n      <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>\n    }\n</code></pre>\n<p>    </p>"},{"title":"js","date":"2018-05-23T00:00:29.000Z","_content":"##   \njs 2 =='2', 1+2 == 1+'2'falsejs   \n  <!--more  -->\n## js  \nJavaScript JavaScript     \n,stringarray:\n\n```js\nvar a = '1';   \ntypeof a;//string \n\na =parseInt(a); //number\ntypeof a  //number   \n\na == '1' //true\n```\n\n  \n## js   \n   \n \n1.     \n   Undefined Null String Number Boolean      \n2.   \n   object   \nes6Symbol   \n  \n| 0 | Number |\n| --: | --: |\n| '' | String |\n| false | Boolean |\n| null | Null |\n| undefined | Undefined |\n\n   \n##   \n[es5](http://yanhaijing.com/es5/#about)  \n   \n*   \n*   \n*     \n\n\n### ToPrimitive()   \n\nToPrimitive   ToPrimitive     \n<img src='http://xxdy.tech/img/jstype/1.png'> \n\n   \n   \nobjecttype  \nToPrimitive  \n\n```js\n/**\n* @obj \n* @type \n*/\nToPrimitive(obj,type)\n```\n\ntypenumberstring   \n**string:**   \n   \n1. objtoString   \n2. objvalueOf\n3. TypeError \n \n**number:**    \n\n1. objvalueOf   \n2. objtoString\n3. TypeError     \n\nstringtoString   \ntypetype    \n\n1.  DatetypeString  \n2.  typeNumber \n\nDatenumber\n  \n\nToPrimitivetypetypeDatestringnumbertype  \n\n### toNumber \n\nToNumbernumber \n\n<img src='http://xxdy.tech/img/jstype/2.png'>    \n\nstringNumber(str)  \nToPrimitivetypenumbertoStringstring\n\n### toString   \n\nToString   \n  \n<img src='http://xxdy.tech/img/jstype/3.png'> \n\n\n  \n  \n* Undefinednullboolean \n  'null' \n* number ,  \n   '1'   NaN'NaN'  \n  -+  '-2'     \n*    \n\n### valueOf  \n\n valueOf \n\n1. ToObjectO\n2.   \n3. (O)valueOf.\n\n\nvalueOf\n* String => \n* Number =>   \n* Date => ,\n* Boolean => Booleanthis\n* Object => this  \n\n    \n\n```js\nvar str = new String('123')\n//123\nconsole.log(str.valueOf())\nvar num = new Number(123)\n//123\nconsole.log(num.valueOf())\nvar date = new Date()\n//1526990889729\nconsole.log(date.valueOf())\nvar bool = new Boolean('123')\n//true\nconsole.log(bool.valueOf())\nvar obj = new Object({valueOf:()=>{\n    return 1\n}})\n//\nconsole.log(obj.valueOf())\n\n```\n\n\n##   \n   \n+  \n\n* +ToPrimitive()\n* StringToString\n* ToNumber\n* ToPrimitiveDatestringToPrimitive typeNumber\n   \n \n```js\n1+'2'+false\n```\n\n1. Number\n2. StringtoString  \n3. toString'1'\n4. temp'12'\n5. temp1\n6. tempstringstring'false'\n7.   '12false'\n\n\n\n```js\nvar obj1 = {\n    valueOf:function(){\n        return 1\n    }\n}\nvar obj2 = {\n    toString:function(){\n        return 'a'\n    }\n}\n//2\nconsole.log(1+obj1)\n//1a\nconsole.log('1'+ obj2)\n//1a\nconsole.log(obj1+obj2)\n```\n\n\n  \n\n* 1+obj1      \n  1. number\n  2. objtypenumber\n  3. valueOf() 1\n  4. number2  \n* 1+obj2  \n  1. number \n  2. typenumber\n  3. obj2.valueOf()\n  4. toString() return 'a'\n  5. stringstring\n  6. 1a\n* obj1+obj2  \n  1.  ToPrimitive typenumber\n  2. obj1.valueOf()1 \n  3. obj2.valueOf()\n  4. toString() return 'a'\n  5. stringstring\n  6. 1a \n\n+  \n\n### == \n\n\n* \n* \n,[](http://yanhaijing.com/es5/#104)+stringnumbernumber  \nx == y\n\n1. x,ynumber\n\n   ```js\n    \n    1 == 2 //false\n    ```\n\n2. ToPrimitive() typenumber\n\n    ```js\n    var obj1 = {\n        valueOf:function(){\n            return '1'\n        }\n    }\n    1 == obj2  //true\n    //obj1obj1.valueOf()\n    //'1'\n    //'1'toNumber 1  1 == 1\n    [] == ![] //true\n    //[]ToPrimitive ''  \n    //![]boolean0 \n    //'' == 0 \n    // 0==0 //true\n    ```\n\n3. booleanToNumberboolean10   \n     \n   ```js\n   //boolean number1  \n   //3 == 1 false\n   //0 == 0 true\n   3 == true // false\n   '0' == false //true \n   ```\n\n4. xstringynumberxnumber\n    \n    ```js\n    //'0' toNumber() 0  \n    //0 == 0 true\n    '0' == 0 //true \n    ```\n\n##    \n\n####   \n[ECMAScript5.1 + ECMAScript3 + ECMAScript](http://yanhaijing.com/es5/#101)  \n[js](https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&mid=2651227769&idx=1&sn=617160e64d2be13169b1b8f4506d8801&chksm=bd495ffd8a3ed6eb226d4ef193ff2ce3958d2d03d1f3047b635915f8215af40996c2f64d5c20&scene=21#wechat_redirect)  \n[](https://github.com/xiaoxiangdaiyu/blog)js\n\n\n","source":"_posts/jstype.md","raw":"---\ntitle: js\ndate: 2018-05-23 08:00:29\ntags:\n---\n##   \njs 2 =='2', 1+2 == 1+'2'falsejs   \n  <!--more  -->\n## js  \nJavaScript JavaScript     \n,stringarray:\n\n```js\nvar a = '1';   \ntypeof a;//string \n\na =parseInt(a); //number\ntypeof a  //number   \n\na == '1' //true\n```\n\n  \n## js   \n   \n \n1.     \n   Undefined Null String Number Boolean      \n2.   \n   object   \nes6Symbol   \n  \n| 0 | Number |\n| --: | --: |\n| '' | String |\n| false | Boolean |\n| null | Null |\n| undefined | Undefined |\n\n   \n##   \n[es5](http://yanhaijing.com/es5/#about)  \n   \n*   \n*   \n*     \n\n\n### ToPrimitive()   \n\nToPrimitive   ToPrimitive     \n<img src='http://xxdy.tech/img/jstype/1.png'> \n\n   \n   \nobjecttype  \nToPrimitive  \n\n```js\n/**\n* @obj \n* @type \n*/\nToPrimitive(obj,type)\n```\n\ntypenumberstring   \n**string:**   \n   \n1. objtoString   \n2. objvalueOf\n3. TypeError \n \n**number:**    \n\n1. objvalueOf   \n2. objtoString\n3. TypeError     \n\nstringtoString   \ntypetype    \n\n1.  DatetypeString  \n2.  typeNumber \n\nDatenumber\n  \n\nToPrimitivetypetypeDatestringnumbertype  \n\n### toNumber \n\nToNumbernumber \n\n<img src='http://xxdy.tech/img/jstype/2.png'>    \n\nstringNumber(str)  \nToPrimitivetypenumbertoStringstring\n\n### toString   \n\nToString   \n  \n<img src='http://xxdy.tech/img/jstype/3.png'> \n\n\n  \n  \n* Undefinednullboolean \n  'null' \n* number ,  \n   '1'   NaN'NaN'  \n  -+  '-2'     \n*    \n\n### valueOf  \n\n valueOf \n\n1. ToObjectO\n2.   \n3. (O)valueOf.\n\n\nvalueOf\n* String => \n* Number =>   \n* Date => ,\n* Boolean => Booleanthis\n* Object => this  \n\n    \n\n```js\nvar str = new String('123')\n//123\nconsole.log(str.valueOf())\nvar num = new Number(123)\n//123\nconsole.log(num.valueOf())\nvar date = new Date()\n//1526990889729\nconsole.log(date.valueOf())\nvar bool = new Boolean('123')\n//true\nconsole.log(bool.valueOf())\nvar obj = new Object({valueOf:()=>{\n    return 1\n}})\n//\nconsole.log(obj.valueOf())\n\n```\n\n\n##   \n   \n+  \n\n* +ToPrimitive()\n* StringToString\n* ToNumber\n* ToPrimitiveDatestringToPrimitive typeNumber\n   \n \n```js\n1+'2'+false\n```\n\n1. Number\n2. StringtoString  \n3. toString'1'\n4. temp'12'\n5. temp1\n6. tempstringstring'false'\n7.   '12false'\n\n\n\n```js\nvar obj1 = {\n    valueOf:function(){\n        return 1\n    }\n}\nvar obj2 = {\n    toString:function(){\n        return 'a'\n    }\n}\n//2\nconsole.log(1+obj1)\n//1a\nconsole.log('1'+ obj2)\n//1a\nconsole.log(obj1+obj2)\n```\n\n\n  \n\n* 1+obj1      \n  1. number\n  2. objtypenumber\n  3. valueOf() 1\n  4. number2  \n* 1+obj2  \n  1. number \n  2. typenumber\n  3. obj2.valueOf()\n  4. toString() return 'a'\n  5. stringstring\n  6. 1a\n* obj1+obj2  \n  1.  ToPrimitive typenumber\n  2. obj1.valueOf()1 \n  3. obj2.valueOf()\n  4. toString() return 'a'\n  5. stringstring\n  6. 1a \n\n+  \n\n### == \n\n\n* \n* \n,[](http://yanhaijing.com/es5/#104)+stringnumbernumber  \nx == y\n\n1. x,ynumber\n\n   ```js\n    \n    1 == 2 //false\n    ```\n\n2. ToPrimitive() typenumber\n\n    ```js\n    var obj1 = {\n        valueOf:function(){\n            return '1'\n        }\n    }\n    1 == obj2  //true\n    //obj1obj1.valueOf()\n    //'1'\n    //'1'toNumber 1  1 == 1\n    [] == ![] //true\n    //[]ToPrimitive ''  \n    //![]boolean0 \n    //'' == 0 \n    // 0==0 //true\n    ```\n\n3. booleanToNumberboolean10   \n     \n   ```js\n   //boolean number1  \n   //3 == 1 false\n   //0 == 0 true\n   3 == true // false\n   '0' == false //true \n   ```\n\n4. xstringynumberxnumber\n    \n    ```js\n    //'0' toNumber() 0  \n    //0 == 0 true\n    '0' == 0 //true \n    ```\n\n##    \n\n####   \n[ECMAScript5.1 + ECMAScript3 + ECMAScript](http://yanhaijing.com/es5/#101)  \n[js](https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&mid=2651227769&idx=1&sn=617160e64d2be13169b1b8f4506d8801&chksm=bd495ffd8a3ed6eb226d4ef193ff2ce3958d2d03d1f3047b635915f8215af40996c2f64d5c20&scene=21#wechat_redirect)  \n[](https://github.com/xiaoxiangdaiyu/blog)js\n\n\n","slug":"jstype","published":1,"updated":"2018-05-24T02:02:37.620Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7diq0006nl92v07utyyl","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>js 2 ==2, 1+2 == 1+2falsejs<br>  <a id=\"more\"></a></p>\n<h2 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h2><p>JavaScript JavaScript <br>,stringarray:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">'1'</span>;   </span><br><span class=\"line\"><span class=\"keyword\">typeof</span> a;<span class=\"comment\">//string </span></span><br><span class=\"line\"></span><br><span class=\"line\">a =<span class=\"built_in\">parseInt</span>(a); <span class=\"comment\">//number</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> a  <span class=\"comment\">//number   </span></span><br><span class=\"line\"></span><br><span class=\"line\">a == <span class=\"string\">'1'</span> <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<p>  </p>\n<h2 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h2><p>   </p>\n<ol>\n<li><br>Undefined Null String Number Boolean      </li>\n<li><br>object<br>es6Symbol   </li>\n</ol>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:right\">0</th>\n<th style=\"text-align:right\">Number</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:right\"></td>\n<td style=\"text-align:right\">String</td>\n</tr>\n<tr>\n<td style=\"text-align:right\">false</td>\n<td style=\"text-align:right\">Boolean</td>\n</tr>\n<tr>\n<td style=\"text-align:right\">null</td>\n<td style=\"text-align:right\">Null</td>\n</tr>\n<tr>\n<td style=\"text-align:right\">undefined</td>\n<td style=\"text-align:right\">Undefined</td>\n</tr>\n</tbody>\n</table>\n<p>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://yanhaijing.com/es5/#about\" target=\"_blank\" rel=\"noopener\">es5</a>  </p>\n<ul>\n<li>  </li>\n<li>  </li>\n<li>    </li>\n</ul>\n<h3 id=\"ToPrimitive-\"><a href=\"#ToPrimitive-\" class=\"headerlink\" title=\"ToPrimitive()\"></a>ToPrimitive()</h3><p>ToPrimitive   ToPrimitive   <br><img src=\"http://xxdy.tech/img/jstype/1.png\"> </p>\n<p><br><br>objecttype<br>ToPrimitive  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* @obj </span></span><br><span class=\"line\"><span class=\"comment\">* @type </span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">ToPrimitive(obj,type)</span><br></pre></td></tr></table></figure>\n<p>typenumberstring<br><strong>string:</strong>   </p>\n<ol>\n<li>objtoString   </li>\n<li>objvalueOf</li>\n<li>TypeError </li>\n</ol>\n<p><strong>number:</strong>    </p>\n<ol>\n<li>objvalueOf   </li>\n<li>objtoString</li>\n<li>TypeError     </li>\n</ol>\n<p>stringtoString<br>typetype    </p>\n<ol>\n<li>DatetypeString  </li>\n<li>typeNumber </li>\n</ol>\n<p>Datenumber<br>  </p>\n<p>ToPrimitivetypetypeDatestringnumbertype  </p>\n<h3 id=\"toNumber\"><a href=\"#toNumber\" class=\"headerlink\" title=\"toNumber\"></a>toNumber</h3><p>ToNumbernumber<br><br><img src=\"http://xxdy.tech/img/jstype/2.png\">    </p>\n<p>stringNumber(str)<br>ToPrimitivetypenumbertoStringstring</p>\n<h3 id=\"toString-NaN\"><a href=\"#toString-NaN\" class=\"headerlink\" title=\"toString\"></a>toString</h3><p>ToString <br><br><img src=\"http://xxdy.tech/img/jstype/3.png\"> </p>\n<p><br>  </p>\n<ul>\n<li>Undefinednullboolean<br>null </li>\n<li>number ,<br> 1   NaNNaN  <br>-+  -2     </li>\n<li>   </li>\n</ul>\n<h3 id=\"valueOf-NaN\"><a href=\"#valueOf-NaN\" class=\"headerlink\" title=\"valueOf\"></a>valueOf</h3><p> valueOf </p>\n<ol>\n<li>ToObjectO</li>\n<li>  </li>\n<li>(O)valueOf.</li>\n</ol>\n<p>valueOf</p>\n<ul>\n<li>String =&gt; </li>\n<li>Number =&gt;   </li>\n<li>Date =&gt; ,</li>\n<li>Boolean =&gt; Booleanthis</li>\n<li>Object =&gt; this  </li>\n</ul>\n<p>    </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">'123'</span>)</span><br><span class=\"line\"><span class=\"comment\">//123</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(str.valueOf())</span><br><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">123</span>)</span><br><span class=\"line\"><span class=\"comment\">//123</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(num.valueOf())</span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()</span><br><span class=\"line\"><span class=\"comment\">//1526990889729</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(date.valueOf())</span><br><span class=\"line\"><span class=\"keyword\">var</span> bool = <span class=\"keyword\">new</span> <span class=\"built_in\">Boolean</span>(<span class=\"string\">'123'</span>)</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(bool.valueOf())</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>(&#123;<span class=\"attr\">valueOf</span>:<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">&#125;&#125;)</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.valueOf())</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>+  </p>\n<ul>\n<li>+ToPrimitive()</li>\n<li>StringToString</li>\n<li>ToNumber</li>\n<li>ToPrimitiveDatestringToPrimitive typeNumber<br>   </li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span>+<span class=\"string\">'2'</span>+<span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>Number</li>\n<li>StringtoString  </li>\n<li>toString1</li>\n<li>temp12</li>\n<li>temp1</li>\n<li>tempstringstringfalse</li>\n<li>  12false</li>\n</ol>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    valueOf:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">    toString:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'a'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>+obj1)</span><br><span class=\"line\"><span class=\"comment\">//1a</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'1'</span>+ obj2)</span><br><span class=\"line\"><span class=\"comment\">//1a</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj1+obj2)</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ul>\n<li>1+obj1      <ol>\n<li>number</li>\n<li>objtypenumber</li>\n<li>valueOf() 1</li>\n<li>number2  </li>\n</ol>\n</li>\n<li>1+obj2  <ol>\n<li>number </li>\n<li>typenumber</li>\n<li>obj2.valueOf()</li>\n<li>toString() return a</li>\n<li>stringstring</li>\n<li>1a</li>\n</ol>\n</li>\n<li>obj1+obj2  <ol>\n<li> ToPrimitive typenumber</li>\n<li>obj1.valueOf()1 </li>\n<li>obj2.valueOf()</li>\n<li>toString() return a</li>\n<li>stringstring</li>\n<li>1a </li>\n</ol>\n</li>\n</ul>\n<p>+  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"== \"></a>== </h3><p></p>\n<ul>\n<li></li>\n<li><br>,<a href=\"http://yanhaijing.com/es5/#104\" target=\"_blank\" rel=\"noopener\"></a>+stringnumbernumber<br>x == y</li>\n</ul>\n<ol>\n<li><p>x,ynumber</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">1</span> == <span class=\"number\">2</span> <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ToPrimitive() typenumber</p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    valueOf:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'1'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">1</span> == obj2  <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"comment\">//obj1obj1.valueOf()</span></span><br><span class=\"line\"><span class=\"comment\">//'1'</span></span><br><span class=\"line\"><span class=\"comment\">//'1'toNumber 1  1 == 1</span></span><br><span class=\"line\">[] == ![] <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"comment\">//[]ToPrimitive ''  </span></span><br><span class=\"line\"><span class=\"comment\">//![]boolean0 </span></span><br><span class=\"line\"><span class=\"comment\">//'' == 0 </span></span><br><span class=\"line\"><span class=\"comment\">// 0==0 //true</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>booleanToNumberboolean10   </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//boolean number1  </span></span><br><span class=\"line\"><span class=\"comment\">//3 == 1 false</span></span><br><span class=\"line\"><span class=\"comment\">//0 == 0 true</span></span><br><span class=\"line\"><span class=\"number\">3</span> == <span class=\"literal\">true</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"string\">'0'</span> == <span class=\"literal\">false</span> <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>xstringynumberxnumber</p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//'0' toNumber() 0  </span></span><br><span class=\"line\"><span class=\"comment\">//0 == 0 true</span></span><br><span class=\"line\"><span class=\"string\">'0'</span> == <span class=\"number\">0</span> <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://yanhaijing.com/es5/#101\" target=\"_blank\" rel=\"noopener\">ECMAScript5.1 + ECMAScript3 + ECMAScript</a><br><a href=\"https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&amp;mid=2651227769&amp;idx=1&amp;sn=617160e64d2be13169b1b8f4506d8801&amp;chksm=bd495ffd8a3ed6eb226d4ef193ff2ce3958d2d03d1f3047b635915f8215af40996c2f64d5c20&amp;scene=21#wechat_redirect\" target=\"_blank\" rel=\"noopener\">js</a><br><a href=\"https://github.com/xiaoxiangdaiyu/blog\" target=\"_blank\" rel=\"noopener\"></a>js</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>js 2 ==2, 1+2 == 1+2falsejs<br>","more":"</p>\n<h2 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h2><p>JavaScript JavaScript <br>,stringarray:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">'1'</span>;   </span><br><span class=\"line\"><span class=\"keyword\">typeof</span> a;<span class=\"comment\">//string </span></span><br><span class=\"line\"></span><br><span class=\"line\">a =<span class=\"built_in\">parseInt</span>(a); <span class=\"comment\">//number</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> a  <span class=\"comment\">//number   </span></span><br><span class=\"line\"></span><br><span class=\"line\">a == <span class=\"string\">'1'</span> <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<p>  </p>\n<h2 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h2><p>   </p>\n<ol>\n<li><br>Undefined Null String Number Boolean      </li>\n<li><br>object<br>es6Symbol   </li>\n</ol>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:right\">0</th>\n<th style=\"text-align:right\">Number</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:right\"></td>\n<td style=\"text-align:right\">String</td>\n</tr>\n<tr>\n<td style=\"text-align:right\">false</td>\n<td style=\"text-align:right\">Boolean</td>\n</tr>\n<tr>\n<td style=\"text-align:right\">null</td>\n<td style=\"text-align:right\">Null</td>\n</tr>\n<tr>\n<td style=\"text-align:right\">undefined</td>\n<td style=\"text-align:right\">Undefined</td>\n</tr>\n</tbody>\n</table>\n<p>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://yanhaijing.com/es5/#about\" target=\"_blank\" rel=\"noopener\">es5</a>  </p>\n<ul>\n<li>  </li>\n<li>  </li>\n<li>    </li>\n</ul>\n<h3 id=\"ToPrimitive-\"><a href=\"#ToPrimitive-\" class=\"headerlink\" title=\"ToPrimitive()\"></a>ToPrimitive()</h3><p>ToPrimitive   ToPrimitive   <br><img src=\"http://xxdy.tech/img/jstype/1.png\"> </p>\n<p><br><br>objecttype<br>ToPrimitive  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* @obj </span></span><br><span class=\"line\"><span class=\"comment\">* @type </span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">ToPrimitive(obj,type)</span><br></pre></td></tr></table></figure>\n<p>typenumberstring<br><strong>string:</strong>   </p>\n<ol>\n<li>objtoString   </li>\n<li>objvalueOf</li>\n<li>TypeError </li>\n</ol>\n<p><strong>number:</strong>    </p>\n<ol>\n<li>objvalueOf   </li>\n<li>objtoString</li>\n<li>TypeError     </li>\n</ol>\n<p>stringtoString<br>typetype    </p>\n<ol>\n<li>DatetypeString  </li>\n<li>typeNumber </li>\n</ol>\n<p>Datenumber<br>  </p>\n<p>ToPrimitivetypetypeDatestringnumbertype  </p>\n<h3 id=\"toNumber\"><a href=\"#toNumber\" class=\"headerlink\" title=\"toNumber\"></a>toNumber</h3><p>ToNumbernumber<br><br><img src=\"http://xxdy.tech/img/jstype/2.png\">    </p>\n<p>stringNumber(str)<br>ToPrimitivetypenumbertoStringstring</p>\n<h3 id=\"toString-NaN\"><a href=\"#toString-NaN\" class=\"headerlink\" title=\"toString\"></a>toString</h3><p>ToString <br><br><img src=\"http://xxdy.tech/img/jstype/3.png\"> </p>\n<p><br>  </p>\n<ul>\n<li>Undefinednullboolean<br>null </li>\n<li>number ,<br> 1   NaNNaN  <br>-+  -2     </li>\n<li>   </li>\n</ul>\n<h3 id=\"valueOf-NaN\"><a href=\"#valueOf-NaN\" class=\"headerlink\" title=\"valueOf\"></a>valueOf</h3><p> valueOf </p>\n<ol>\n<li>ToObjectO</li>\n<li>  </li>\n<li>(O)valueOf.</li>\n</ol>\n<p>valueOf</p>\n<ul>\n<li>String =&gt; </li>\n<li>Number =&gt;   </li>\n<li>Date =&gt; ,</li>\n<li>Boolean =&gt; Booleanthis</li>\n<li>Object =&gt; this  </li>\n</ul>\n<p>    </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">'123'</span>)</span><br><span class=\"line\"><span class=\"comment\">//123</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(str.valueOf())</span><br><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">123</span>)</span><br><span class=\"line\"><span class=\"comment\">//123</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(num.valueOf())</span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()</span><br><span class=\"line\"><span class=\"comment\">//1526990889729</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(date.valueOf())</span><br><span class=\"line\"><span class=\"keyword\">var</span> bool = <span class=\"keyword\">new</span> <span class=\"built_in\">Boolean</span>(<span class=\"string\">'123'</span>)</span><br><span class=\"line\"><span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(bool.valueOf())</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>(&#123;<span class=\"attr\">valueOf</span>:<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">&#125;&#125;)</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.valueOf())</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>+  </p>\n<ul>\n<li>+ToPrimitive()</li>\n<li>StringToString</li>\n<li>ToNumber</li>\n<li>ToPrimitiveDatestringToPrimitive typeNumber<br>   </li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span>+<span class=\"string\">'2'</span>+<span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>Number</li>\n<li>StringtoString  </li>\n<li>toString1</li>\n<li>temp12</li>\n<li>temp1</li>\n<li>tempstringstringfalse</li>\n<li>  12false</li>\n</ol>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    valueOf:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">    toString:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'a'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>+obj1)</span><br><span class=\"line\"><span class=\"comment\">//1a</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'1'</span>+ obj2)</span><br><span class=\"line\"><span class=\"comment\">//1a</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj1+obj2)</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ul>\n<li>1+obj1      <ol>\n<li>number</li>\n<li>objtypenumber</li>\n<li>valueOf() 1</li>\n<li>number2  </li>\n</ol>\n</li>\n<li>1+obj2  <ol>\n<li>number </li>\n<li>typenumber</li>\n<li>obj2.valueOf()</li>\n<li>toString() return a</li>\n<li>stringstring</li>\n<li>1a</li>\n</ol>\n</li>\n<li>obj1+obj2  <ol>\n<li> ToPrimitive typenumber</li>\n<li>obj1.valueOf()1 </li>\n<li>obj2.valueOf()</li>\n<li>toString() return a</li>\n<li>stringstring</li>\n<li>1a </li>\n</ol>\n</li>\n</ul>\n<p>+  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"== \"></a>== </h3><p></p>\n<ul>\n<li></li>\n<li><br>,<a href=\"http://yanhaijing.com/es5/#104\" target=\"_blank\" rel=\"noopener\"></a>+stringnumbernumber<br>x == y</li>\n</ul>\n<ol>\n<li><p>x,ynumber</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">1</span> == <span class=\"number\">2</span> <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ToPrimitive() typenumber</p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">    valueOf:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'1'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">1</span> == obj2  <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"comment\">//obj1obj1.valueOf()</span></span><br><span class=\"line\"><span class=\"comment\">//'1'</span></span><br><span class=\"line\"><span class=\"comment\">//'1'toNumber 1  1 == 1</span></span><br><span class=\"line\">[] == ![] <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"comment\">//[]ToPrimitive ''  </span></span><br><span class=\"line\"><span class=\"comment\">//![]boolean0 </span></span><br><span class=\"line\"><span class=\"comment\">//'' == 0 </span></span><br><span class=\"line\"><span class=\"comment\">// 0==0 //true</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>booleanToNumberboolean10   </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//boolean number1  </span></span><br><span class=\"line\"><span class=\"comment\">//3 == 1 false</span></span><br><span class=\"line\"><span class=\"comment\">//0 == 0 true</span></span><br><span class=\"line\"><span class=\"number\">3</span> == <span class=\"literal\">true</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"string\">'0'</span> == <span class=\"literal\">false</span> <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>xstringynumberxnumber</p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//'0' toNumber() 0  </span></span><br><span class=\"line\"><span class=\"comment\">//0 == 0 true</span></span><br><span class=\"line\"><span class=\"string\">'0'</span> == <span class=\"number\">0</span> <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://yanhaijing.com/es5/#101\" target=\"_blank\" rel=\"noopener\">ECMAScript5.1 + ECMAScript3 + ECMAScript</a><br><a href=\"https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&amp;mid=2651227769&amp;idx=1&amp;sn=617160e64d2be13169b1b8f4506d8801&amp;chksm=bd495ffd8a3ed6eb226d4ef193ff2ce3958d2d03d1f3047b635915f8215af40996c2f64d5c20&amp;scene=21#wechat_redirect\" target=\"_blank\" rel=\"noopener\">js</a><br><a href=\"https://github.com/xiaoxiangdaiyu/blog\" target=\"_blank\" rel=\"noopener\"></a>js</p>"},{"title":"erPWA","date":"2018-05-08T16:00:00.000Z","_content":"## web   \nweb     \n<img src='/img/pwa/1.png'/>   \n\n* - \n* web  \n*  \n<!-- more -->\nweb app \n## PWA  \nPWA Progressive Web Apps(Web)web\n    \n \n* Reliable\n    \n* Fast\n    \n* (Engaging)\n       \n    \nPWA  PWA Checklist   \n\n  \n\n*  - \n*  -  Service Worker \n*  -  App Shell  Native App  Native App \n*  - \n*  -  HTTPS \n*  -  Service Worker \n*  - \n*  -  webapp \n*  -   \n\n\n,PWAweb  \n\n##   \n  \n\n* App Manifest\n* Service Worker\n* Notifications API\n* Push API  \n\nService WorkerPWAappapp \n### 3.1 service worker\n####   \n\n\n\n####    \nweb  \nAppCache(h5)\n Application Cache is a douchebag\n\n#### workers \n\n javaScript web,\nW3CWeb Worker  API\nWeb Worker \n\nWeb WorkerW3Cservice worker\n\n  \n\nService Worker    \n\n* \n* \n* \n* \n* \nPWAService WorkerPWA \n#### \nService Worker \n*  Service Worker  HTTPS   \n     Service Worker  host  localhost  127.0.0.1 \n* Service Worker  Cache API ()\n*  HTML5 fetch API\n*  Promise    \n  \n\n <img src='/img/pwa/2.png'/>\niOS  safariiOS11.3\nIEEdge     \n### 3.2 Cache  \n\nCacheService WorkerAPIService Worker\ncachecssjshtml  \ncachekey-valuekeyrequestvalueresponse   \n \n* caches.open(cacheName) cache   \n* cachesglobalcachePromise\n* cache.keys() cachevalue\n* cache.match(Request|url) cacherequestPromise  \n* cache.matchAllmatchrequestresponse\n* cache.add(Request|url) addrequesturlcache.addfetchrequestresponsecache\n* cache.addAllsw installcache.addAll\n* cache.put(Request, Response) cache.addfetchresponsecache\n* cache.delete(Request|url)      \n\n \n### 3.3 Service Worker         \n\nswjs  \n\n```js\n//promise\nfunction registerServiceWorker(){\n    // service worker\n    return navigator.serviceWorker.register('./sw1.js').then(registration => {\n        console.log('');\n        // \n        return registration;\n    })\n    .catch(err => {\n        console.error('', err);\n    });\n}\nwindow.onload = function () {\n    //\n    if (!('serviceWorker' in navigator)) {\n        return;\n    }\n    registerServiceWorker()\n}\n```   \n### 3.4       \n\nService worker web \n serice worker  service worker\nservice worker  service worker \n service worker ,  \n \n* service worker \n*   \n\n\n  \n  \n* Installing   \n            Service Worker  install  \n* Installed\n           Service Worker  Service Worker \n* Activating \n           Service Worker  worker \n* Activated   \n           activate  () fetch ()sync ()push ()\n* Redundant\n           \n         \nPWA\n \n* install \n \nevent.waitUntil() Promise  Promise  resolve \nself.skipWaiting()self  context  global  waiting  Service Worker  activate \n \n* activate \n \nevent.waitUntil() Promise  Promise  resolve \nself.clients.claim() activate ,  Service Worker    \n\n```js \nconst CURCACHE = 'CURCACHE_test_1'\nconst RUNTIME = 'runtime';\nconst CURCACHE_URLS = [\n    './',\n    '/asset/sw.jpg',\n    'index.js'\n]\nself.addEventListener('install',e=>{\n    e.waitUntil(\n      //\n        caches.open(CURCACHE).then(cache=>{\n            cache.addAll(CURCACHE_URLS)\n        }).then(\n            self.skipWaiting()\n        )\n    )\n})  \n  //\n  self.addEventListener('fetch', e => {\n    e.respondWith(\n      // \n      caches.match(e.request).then(function(response) {\n        if (response != null) {\n          //\n          return response\n        }\n        //\n        return fetch(e.request.url)\n      })\n    )\n  });\n```  \n#### service worker  \n\nservice worker    \n\n*  service worker    \n             \n*  service worker install\n* service worker service worker  waiting \n*  service worker  servicer worker \n*  service worker  activate   \n\n```js\nconst CURCACHE = 'precache_test_1'\n//keyprecache_test_2 CURCACHE\nself.addEventListener('activate', e => {\n  e.waitUntil(\n      //keys\n      caches.keys().then(cacheNames=>{\n        return Promise.all(\n          cacheNames.map(function(cacheName) {\n            //key,\n            if (cacheName !== CURCACHE) {\n              return caches.delete(cacheName);\n            }\n          })\n    )}).then(() => self.clients.claim())\n )\n}) \n```  \n\nservice workerservice worker  \n\n<img src='/img/pwa/3.png'>\nsw.jssw\n<img src='/img/pwa/4.png'>  \n   \n  \n##   \n\n PWA   \n\n### manifest.json  \n\n manifest.json \n \n```js\n{\n    //\n    \"name\": \"PQJ-PWA\",\n    //\n    \"short_name\":\"PQJ\",\n    \"description\": \"demo\",\n    //\n    \"start_url\": \"/index.html\",\n    //\n    \"icons\": {\n      \"128\": \"/asset/sw.jpg\"\n    },\n    \"developer\": {\n      \"name\": \"pqj\",\n      \"url\": \"\"\n    },\n    \"display\": \"standalone\",\n    \"background_color\": \"#287fc5\",\n    \"theme_color\": \"#fff\",\n    \"permissions\": {\n        \"desktop-notification\": {\n          \"description\": \"Needed for creating system notifications.\"\n        }\n      }\n}  \n```  \nhtml\n\n```js\n<link rel=\"manifest\" href=\"/mainfest.json\" />\n```  \nchrome(),icon\n  \n  \n###   \nservice worker   \n   \n \n* \n* service worker \n*   \n\n```js \nfunction getPermission(){\n    return new Promise((resolve, reject) => {\n        //\n        const permissionPromise = Notification.requestPermission(result => {\n            resolve(result);\n        });\n    }).then(result => {\n            //\n            if (result === 'granted') {\n                execute();\n            }\n            else {\n                console.log('no permission');\n            }\n        });\n} \n```  \n  \n\n```js\nfunction execute() {\n    // \n    registerServiceWorker().then(registration => {\n        // \n        registration.showNotification('Hello World!');\n    });\n}  \n```  \n###    \n####   \n[https://lavas.baidu.com/doc](https://lavas.baidu.com/doc)  \n[https://developer.mozilla.org/zh-CN/Apps/Progressive](https://developer.mozilla.org/zh-CN/Apps/Progressive)\n[](https://github.com/xiaoxiangdaiyu/PWA)PWAwebweb\npwa \n\n  \n\n","source":"_posts/pwa.md","raw":"---\ntitle: erPWA\ndate: 2018-05-09\n---\n## web   \nweb     \n<img src='/img/pwa/1.png'/>   \n\n* - \n* web  \n*  \n<!-- more -->\nweb app \n## PWA  \nPWA Progressive Web Apps(Web)web\n    \n \n* Reliable\n    \n* Fast\n    \n* (Engaging)\n       \n    \nPWA  PWA Checklist   \n\n  \n\n*  - \n*  -  Service Worker \n*  -  App Shell  Native App  Native App \n*  - \n*  -  HTTPS \n*  -  Service Worker \n*  - \n*  -  webapp \n*  -   \n\n\n,PWAweb  \n\n##   \n  \n\n* App Manifest\n* Service Worker\n* Notifications API\n* Push API  \n\nService WorkerPWAappapp \n### 3.1 service worker\n####   \n\n\n\n####    \nweb  \nAppCache(h5)\n Application Cache is a douchebag\n\n#### workers \n\n javaScript web,\nW3CWeb Worker  API\nWeb Worker \n\nWeb WorkerW3Cservice worker\n\n  \n\nService Worker    \n\n* \n* \n* \n* \n* \nPWAService WorkerPWA \n#### \nService Worker \n*  Service Worker  HTTPS   \n     Service Worker  host  localhost  127.0.0.1 \n* Service Worker  Cache API ()\n*  HTML5 fetch API\n*  Promise    \n  \n\n <img src='/img/pwa/2.png'/>\niOS  safariiOS11.3\nIEEdge     \n### 3.2 Cache  \n\nCacheService WorkerAPIService Worker\ncachecssjshtml  \ncachekey-valuekeyrequestvalueresponse   \n \n* caches.open(cacheName) cache   \n* cachesglobalcachePromise\n* cache.keys() cachevalue\n* cache.match(Request|url) cacherequestPromise  \n* cache.matchAllmatchrequestresponse\n* cache.add(Request|url) addrequesturlcache.addfetchrequestresponsecache\n* cache.addAllsw installcache.addAll\n* cache.put(Request, Response) cache.addfetchresponsecache\n* cache.delete(Request|url)      \n\n \n### 3.3 Service Worker         \n\nswjs  \n\n```js\n//promise\nfunction registerServiceWorker(){\n    // service worker\n    return navigator.serviceWorker.register('./sw1.js').then(registration => {\n        console.log('');\n        // \n        return registration;\n    })\n    .catch(err => {\n        console.error('', err);\n    });\n}\nwindow.onload = function () {\n    //\n    if (!('serviceWorker' in navigator)) {\n        return;\n    }\n    registerServiceWorker()\n}\n```   \n### 3.4       \n\nService worker web \n serice worker  service worker\nservice worker  service worker \n service worker ,  \n \n* service worker \n*   \n\n\n  \n  \n* Installing   \n            Service Worker  install  \n* Installed\n           Service Worker  Service Worker \n* Activating \n           Service Worker  worker \n* Activated   \n           activate  () fetch ()sync ()push ()\n* Redundant\n           \n         \nPWA\n \n* install \n \nevent.waitUntil() Promise  Promise  resolve \nself.skipWaiting()self  context  global  waiting  Service Worker  activate \n \n* activate \n \nevent.waitUntil() Promise  Promise  resolve \nself.clients.claim() activate ,  Service Worker    \n\n```js \nconst CURCACHE = 'CURCACHE_test_1'\nconst RUNTIME = 'runtime';\nconst CURCACHE_URLS = [\n    './',\n    '/asset/sw.jpg',\n    'index.js'\n]\nself.addEventListener('install',e=>{\n    e.waitUntil(\n      //\n        caches.open(CURCACHE).then(cache=>{\n            cache.addAll(CURCACHE_URLS)\n        }).then(\n            self.skipWaiting()\n        )\n    )\n})  \n  //\n  self.addEventListener('fetch', e => {\n    e.respondWith(\n      // \n      caches.match(e.request).then(function(response) {\n        if (response != null) {\n          //\n          return response\n        }\n        //\n        return fetch(e.request.url)\n      })\n    )\n  });\n```  \n#### service worker  \n\nservice worker    \n\n*  service worker    \n             \n*  service worker install\n* service worker service worker  waiting \n*  service worker  servicer worker \n*  service worker  activate   \n\n```js\nconst CURCACHE = 'precache_test_1'\n//keyprecache_test_2 CURCACHE\nself.addEventListener('activate', e => {\n  e.waitUntil(\n      //keys\n      caches.keys().then(cacheNames=>{\n        return Promise.all(\n          cacheNames.map(function(cacheName) {\n            //key,\n            if (cacheName !== CURCACHE) {\n              return caches.delete(cacheName);\n            }\n          })\n    )}).then(() => self.clients.claim())\n )\n}) \n```  \n\nservice workerservice worker  \n\n<img src='/img/pwa/3.png'>\nsw.jssw\n<img src='/img/pwa/4.png'>  \n   \n  \n##   \n\n PWA   \n\n### manifest.json  \n\n manifest.json \n \n```js\n{\n    //\n    \"name\": \"PQJ-PWA\",\n    //\n    \"short_name\":\"PQJ\",\n    \"description\": \"demo\",\n    //\n    \"start_url\": \"/index.html\",\n    //\n    \"icons\": {\n      \"128\": \"/asset/sw.jpg\"\n    },\n    \"developer\": {\n      \"name\": \"pqj\",\n      \"url\": \"\"\n    },\n    \"display\": \"standalone\",\n    \"background_color\": \"#287fc5\",\n    \"theme_color\": \"#fff\",\n    \"permissions\": {\n        \"desktop-notification\": {\n          \"description\": \"Needed for creating system notifications.\"\n        }\n      }\n}  \n```  \nhtml\n\n```js\n<link rel=\"manifest\" href=\"/mainfest.json\" />\n```  \nchrome(),icon\n  \n  \n###   \nservice worker   \n   \n \n* \n* service worker \n*   \n\n```js \nfunction getPermission(){\n    return new Promise((resolve, reject) => {\n        //\n        const permissionPromise = Notification.requestPermission(result => {\n            resolve(result);\n        });\n    }).then(result => {\n            //\n            if (result === 'granted') {\n                execute();\n            }\n            else {\n                console.log('no permission');\n            }\n        });\n} \n```  \n  \n\n```js\nfunction execute() {\n    // \n    registerServiceWorker().then(registration => {\n        // \n        registration.showNotification('Hello World!');\n    });\n}  \n```  \n###    \n####   \n[https://lavas.baidu.com/doc](https://lavas.baidu.com/doc)  \n[https://developer.mozilla.org/zh-CN/Apps/Progressive](https://developer.mozilla.org/zh-CN/Apps/Progressive)\n[](https://github.com/xiaoxiangdaiyu/PWA)PWAwebweb\npwa \n\n  \n\n","slug":"pwa","published":1,"updated":"2018-05-09T13:48:45.883Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7dis0008nl92qbs60fcd","content":"<h2 id=\"web-\"><a href=\"#web-\" class=\"headerlink\" title=\"web \"></a>web </h2><p>web<br><img src=\"/img/pwa/1.png\"><br></p>\n<ul>\n<li>- </li>\n<li>web  </li>\n<li><p> </p>\n<a id=\"more\"></a>\n<p>web app </p>\n<h2 id=\"PWA\"><a href=\"#PWA\" class=\"headerlink\" title=\"PWA\"></a>PWA</h2><p>PWA Progressive Web Apps(Web)web<br>    </p>\n</li>\n<li><p>Reliable<br>  </p>\n</li>\n<li>Fast<br>  </li>\n<li>(Engaging)<br>     </li>\n</ul>\n<p>PWA  PWA Checklist   </p>\n<p>  </p>\n<ul>\n<li> - </li>\n<li> -  Service Worker </li>\n<li> -  App Shell  Native App  Native App </li>\n<li> - </li>\n<li> -  HTTPS </li>\n<li> -  Service Worker </li>\n<li> - </li>\n<li> -  webapp </li>\n<li> -   </li>\n</ul>\n<p>,PWAweb  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<ul>\n<li>App Manifest</li>\n<li>Service Worker</li>\n<li>Notifications API</li>\n<li>Push API  </li>\n</ul>\n<p>Service WorkerPWAappapp </p>\n<h3 id=\"3-1-service-worker\"><a href=\"#3-1-service-worker\" class=\"headerlink\" title=\"3.1 service worker\"></a>3.1 service worker</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>web<br>AppCache(h5)<br> Application Cache is a douchebag<br></p>\n<h4 id=\"workers\"><a href=\"#workers\" class=\"headerlink\" title=\"workers\"></a>workers</h4><p><br> javaScript web,<br>W3CWeb Worker  API<br>Web Worker <br><br>Web WorkerW3Cservice worker<br><br>  </p>\n<p>Service Worker    </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><br>PWAService WorkerPWA <h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>Service Worker </li>\n<li> Service Worker  HTTPS <br>   Service Worker  host  localhost  127.0.0.1 </li>\n<li>Service Worker  Cache API ()</li>\n<li> HTML5 fetch API</li>\n<li><p> Promise <br>  </p>\n<p><img src=\"/img/pwa/2.png\"><br>iOS  safariiOS11.3<br>IEEdge     </p>\n<h3 id=\"3-2-Cache\"><a href=\"#3-2-Cache\" class=\"headerlink\" title=\"3.2 Cache\"></a>3.2 Cache</h3></li>\n</ul>\n<p>CacheService WorkerAPIService Worker<br>cachecssjshtml<br>cachekey-valuekeyrequestvalueresponse   </p>\n<ul>\n<li>caches.open(cacheName) cache   </li>\n<li>cachesglobalcachePromise</li>\n<li>cache.keys() cachevalue</li>\n<li>cache.match(Request|url) cacherequestPromise  </li>\n<li>cache.matchAllmatchrequestresponse</li>\n<li>cache.add(Request|url) addrequesturlcache.addfetchrequestresponsecache</li>\n<li>cache.addAllsw installcache.addAll</li>\n<li>cache.put(Request, Response) cache.addfetchresponsecache</li>\n<li>cache.delete(Request|url)      </li>\n</ul>\n<h3 id=\"3-3-Service-Worker\"><a href=\"#3-3-Service-Worker\" class=\"headerlink\" title=\"3.3 Service Worker\"></a>3.3 Service Worker</h3><p>swjs  </p>\n<pre><code class=\"js\"><span class=\"comment\">//promise</span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">registerServiceWorker</span>(<span class=\"params\"></span>)</span>{\n    <span class=\"comment\">// service worker</span>\n    <span class=\"keyword\">return</span> navigator.serviceWorker.register(<span class=\"string\">'./sw1.js'</span>).then(<span class=\"function\"><span class=\"params\">registration</span> =&gt;</span> {\n        <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>);\n        <span class=\"comment\">// </span>\n        <span class=\"keyword\">return</span> registration;\n    })\n    .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> {\n        <span class=\"built_in\">console</span>.error(<span class=\"string\">''</span>, err);\n    });\n}\n<span class=\"built_in\">window</span>.onload = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>{\n    <span class=\"comment\">//</span>\n    <span class=\"keyword\">if</span> (!(<span class=\"string\">'serviceWorker'</span> <span class=\"keyword\">in</span> navigator)) {\n        <span class=\"keyword\">return</span>;\n    }\n    registerServiceWorker()\n}\n</code></pre>\n<h3 id=\"3-4-\"><a href=\"#3-4-\" class=\"headerlink\" title=\"3.4 \"></a>3.4 </h3><p>Service worker web <br> serice worker  service worker<br>service worker  service worker <br> service worker ,  </p>\n<ul>\n<li>service worker </li>\n<li>  </li>\n</ul>\n<p>  </p>\n<ul>\n<li>Installing   <pre><code> Service Worker  install  \n</code></pre></li>\n<li>Installed<pre><code>Service Worker  Service Worker \n</code></pre></li>\n<li>Activating <pre><code> Service Worker  worker \n</code></pre></li>\n<li>Activated   <pre><code> activate  () fetch ()sync ()push ()\n</code></pre></li>\n<li>Redundant<pre><code>  \n</code></pre></li>\n</ul>\n<p>PWA</p>\n<ul>\n<li>install </li>\n</ul>\n<p>event.waitUntil() Promise  Promise  resolve <br>self.skipWaiting()self  context  global  waiting  Service Worker  activate </p>\n<ul>\n<li>activate </li>\n</ul>\n<p>event.waitUntil() Promise  Promise  resolve <br>self.clients.claim() activate ,  Service Worker    </p>\n<pre><code class=\"js\"><span class=\"keyword\">const</span> CURCACHE = <span class=\"string\">'CURCACHE_test_1'</span>\n<span class=\"keyword\">const</span> RUNTIME = <span class=\"string\">'runtime'</span>;\n<span class=\"keyword\">const</span> CURCACHE_URLS = [\n    <span class=\"string\">'./'</span>,\n    <span class=\"string\">'/asset/sw.jpg'</span>,\n    <span class=\"string\">'index.js'</span>\n]\nself.addEventListener(<span class=\"string\">'install'</span>,e=&gt;{\n    e.waitUntil(\n      <span class=\"comment\">//</span>\n        caches.open(CURCACHE).then(<span class=\"function\"><span class=\"params\">cache</span>=&gt;</span>{\n            cache.addAll(CURCACHE_URLS)\n        }).then(\n            self.skipWaiting()\n        )\n    )\n})  \n  <span class=\"comment\">//</span>\n  self.addEventListener(<span class=\"string\">'fetch'</span>, e =&gt; {\n    e.respondWith(\n      <span class=\"comment\">// </span>\n      caches.match(e.request).then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">response</span>) </span>{\n        <span class=\"keyword\">if</span> (response != <span class=\"literal\">null</span>) {\n          <span class=\"comment\">//</span>\n          <span class=\"keyword\">return</span> response\n        }\n        <span class=\"comment\">//</span>\n        <span class=\"keyword\">return</span> fetch(e.request.url)\n      })\n    )\n  });\n</code></pre>\n<h4 id=\"service-worker\"><a href=\"#service-worker\" class=\"headerlink\" title=\"service worker\"></a>service worker</h4><p>service worker    </p>\n<ul>\n<li> service worker    <pre><code>  \n</code></pre></li>\n<li> service worker install</li>\n<li>service worker service worker  waiting </li>\n<li> service worker  servicer worker </li>\n<li> service worker  activate   </li>\n</ul>\n<pre><code class=\"js\"><span class=\"keyword\">const</span> CURCACHE = <span class=\"string\">'precache_test_1'</span>\n<span class=\"comment\">//keyprecache_test_2 CURCACHE</span>\nself.addEventListener(<span class=\"string\">'activate'</span>, e =&gt; {\n  e.waitUntil(\n      <span class=\"comment\">//keys</span>\n      caches.keys().then(<span class=\"function\"><span class=\"params\">cacheNames</span>=&gt;</span>{\n        <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.all(\n          cacheNames.map(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">cacheName</span>) </span>{\n            <span class=\"comment\">//key,</span>\n            <span class=\"keyword\">if</span> (cacheName !== CURCACHE) {\n              <span class=\"keyword\">return</span> caches.delete(cacheName);\n            }\n          })\n    )}).then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> self.clients.claim())\n )\n})\n</code></pre>\n<p>service workerservice worker  </p>\n<p><img src=\"/img/pwa/3.png\"><br>sw.jssw<br><img src=\"/img/pwa/4.png\"><br>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> PWA   </p>\n<h3 id=\"manifest-json\"><a href=\"#manifest-json\" class=\"headerlink\" title=\"manifest.json\"></a>manifest.json</h3><p> manifest.json </p>\n<pre><code class=\"js\">{\n    <span class=\"comment\">//</span>\n    <span class=\"string\">\"name\"</span>: <span class=\"string\">\"PQJ-PWA\"</span>,\n    <span class=\"comment\">//</span>\n    <span class=\"string\">\"short_name\"</span>:<span class=\"string\">\"PQJ\"</span>,\n    <span class=\"string\">\"description\"</span>: <span class=\"string\">\"demo\"</span>,\n    <span class=\"comment\">//</span>\n    <span class=\"string\">\"start_url\"</span>: <span class=\"string\">\"/index.html\"</span>,\n    <span class=\"comment\">//</span>\n    <span class=\"string\">\"icons\"</span>: {\n      <span class=\"string\">\"128\"</span>: <span class=\"string\">\"/asset/sw.jpg\"</span>\n    },\n    <span class=\"string\">\"developer\"</span>: {\n      <span class=\"string\">\"name\"</span>: <span class=\"string\">\"pqj\"</span>,\n      <span class=\"string\">\"url\"</span>: <span class=\"string\">\"\"</span>\n    },\n    <span class=\"string\">\"display\"</span>: <span class=\"string\">\"standalone\"</span>,\n    <span class=\"string\">\"background_color\"</span>: <span class=\"string\">\"#287fc5\"</span>,\n    <span class=\"string\">\"theme_color\"</span>: <span class=\"string\">\"#fff\"</span>,\n    <span class=\"string\">\"permissions\"</span>: {\n        <span class=\"string\">\"desktop-notification\"</span>: {\n          <span class=\"string\">\"description\"</span>: <span class=\"string\">\"Needed for creating system notifications.\"</span>\n        }\n      }\n}\n</code></pre>\n<p>html</p>\n<pre><code class=\"js\">&lt;link rel=<span class=\"string\">\"manifest\"</span> href=<span class=\"string\">\"/mainfest.json\"</span> /&gt;\n</code></pre>\n<p>chrome(),icon<br>  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>service worker<br>   </p>\n<ul>\n<li></li>\n<li>service worker </li>\n<li>  </li>\n</ul>\n<pre><code class=\"js\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getPermission</span>(<span class=\"params\"></span>)</span>{\n    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> {\n        <span class=\"comment\">//</span>\n        <span class=\"keyword\">const</span> permissionPromise = Notification.requestPermission(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> {\n            resolve(result);\n        });\n    }).then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> {\n            <span class=\"comment\">//</span>\n            <span class=\"keyword\">if</span> (result === <span class=\"string\">'granted'</span>) {\n                execute();\n            }\n            <span class=\"keyword\">else</span> {\n                <span class=\"built_in\">console</span>.log(<span class=\"string\">'no permission'</span>);\n            }\n        });\n}\n</code></pre>\n<p>  </p>\n<pre><code class=\"js\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span>(<span class=\"params\"></span>) </span>{\n    <span class=\"comment\">// </span>\n    registerServiceWorker().then(<span class=\"function\"><span class=\"params\">registration</span> =&gt;</span> {\n        <span class=\"comment\">// </span>\n        registration.showNotification(<span class=\"string\">'Hello World!'</span>);\n    });\n}\n</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://lavas.baidu.com/doc\" target=\"_blank\" rel=\"noopener\">https://lavas.baidu.com/doc</a><br><a href=\"https://developer.mozilla.org/zh-CN/Apps/Progressive\" target=\"_blank\" rel=\"noopener\">https://developer.mozilla.org/zh-CN/Apps/Progressive</a><br><a href=\"https://github.com/xiaoxiangdaiyu/PWA\" target=\"_blank\" rel=\"noopener\"></a>PWAwebweb<br>pwa </p>\n","site":{"data":{}},"excerpt":"<h2 id=\"web-\"><a href=\"#web-\" class=\"headerlink\" title=\"web \"></a>web </h2><p>web<br><img src=\"/img/pwa/1.png\"><br></p>\n<ul>\n<li>- </li>\n<li>web  </li>\n<li><p> </p>","more":"<p>web app </p>\n<h2 id=\"PWA\"><a href=\"#PWA\" class=\"headerlink\" title=\"PWA\"></a>PWA</h2><p>PWA Progressive Web Apps(Web)web<br>    </p>\n</li>\n<li><p>Reliable<br>  </p>\n</li>\n<li>Fast<br>  </li>\n<li>(Engaging)<br>     </li>\n</ul>\n<p>PWA  PWA Checklist   </p>\n<p>  </p>\n<ul>\n<li> - </li>\n<li> -  Service Worker </li>\n<li> -  App Shell  Native App  Native App </li>\n<li> - </li>\n<li> -  HTTPS </li>\n<li> -  Service Worker </li>\n<li> - </li>\n<li> -  webapp </li>\n<li> -   </li>\n</ul>\n<p>,PWAweb  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<ul>\n<li>App Manifest</li>\n<li>Service Worker</li>\n<li>Notifications API</li>\n<li>Push API  </li>\n</ul>\n<p>Service WorkerPWAappapp </p>\n<h3 id=\"3-1-service-worker\"><a href=\"#3-1-service-worker\" class=\"headerlink\" title=\"3.1 service worker\"></a>3.1 service worker</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>web<br>AppCache(h5)<br> Application Cache is a douchebag<br></p>\n<h4 id=\"workers\"><a href=\"#workers\" class=\"headerlink\" title=\"workers\"></a>workers</h4><p><br> javaScript web,<br>W3CWeb Worker  API<br>Web Worker <br><br>Web WorkerW3Cservice worker<br><br>  </p>\n<p>Service Worker    </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><br>PWAService WorkerPWA <h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>Service Worker </li>\n<li> Service Worker  HTTPS <br>   Service Worker  host  localhost  127.0.0.1 </li>\n<li>Service Worker  Cache API ()</li>\n<li> HTML5 fetch API</li>\n<li><p> Promise <br>  </p>\n<p><img src=\"/img/pwa/2.png\"><br>iOS  safariiOS11.3<br>IEEdge     </p>\n<h3 id=\"3-2-Cache\"><a href=\"#3-2-Cache\" class=\"headerlink\" title=\"3.2 Cache\"></a>3.2 Cache</h3></li>\n</ul>\n<p>CacheService WorkerAPIService Worker<br>cachecssjshtml<br>cachekey-valuekeyrequestvalueresponse   </p>\n<ul>\n<li>caches.open(cacheName) cache   </li>\n<li>cachesglobalcachePromise</li>\n<li>cache.keys() cachevalue</li>\n<li>cache.match(Request|url) cacherequestPromise  </li>\n<li>cache.matchAllmatchrequestresponse</li>\n<li>cache.add(Request|url) addrequesturlcache.addfetchrequestresponsecache</li>\n<li>cache.addAllsw installcache.addAll</li>\n<li>cache.put(Request, Response) cache.addfetchresponsecache</li>\n<li>cache.delete(Request|url)      </li>\n</ul>\n<h3 id=\"3-3-Service-Worker\"><a href=\"#3-3-Service-Worker\" class=\"headerlink\" title=\"3.3 Service Worker\"></a>3.3 Service Worker</h3><p>swjs  </p>\n<pre><code class=\"js\"><span class=\"comment\">//promise</span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">registerServiceWorker</span>(<span class=\"params\"></span>)</span>{\n    <span class=\"comment\">// service worker</span>\n    <span class=\"keyword\">return</span> navigator.serviceWorker.register(<span class=\"string\">'./sw1.js'</span>).then(<span class=\"function\"><span class=\"params\">registration</span> =&gt;</span> {\n        <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>);\n        <span class=\"comment\">// </span>\n        <span class=\"keyword\">return</span> registration;\n    })\n    .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> {\n        <span class=\"built_in\">console</span>.error(<span class=\"string\">''</span>, err);\n    });\n}\n<span class=\"built_in\">window</span>.onload = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>{\n    <span class=\"comment\">//</span>\n    <span class=\"keyword\">if</span> (!(<span class=\"string\">'serviceWorker'</span> <span class=\"keyword\">in</span> navigator)) {\n        <span class=\"keyword\">return</span>;\n    }\n    registerServiceWorker()\n}\n</code></pre>\n<h3 id=\"3-4-\"><a href=\"#3-4-\" class=\"headerlink\" title=\"3.4 \"></a>3.4 </h3><p>Service worker web <br> serice worker  service worker<br>service worker  service worker <br> service worker ,  </p>\n<ul>\n<li>service worker </li>\n<li>  </li>\n</ul>\n<p>  </p>\n<ul>\n<li>Installing   <pre><code> Service Worker  install  \n</code></pre></li>\n<li>Installed<pre><code>Service Worker  Service Worker \n</code></pre></li>\n<li>Activating <pre><code> Service Worker  worker \n</code></pre></li>\n<li>Activated   <pre><code> activate  () fetch ()sync ()push ()\n</code></pre></li>\n<li>Redundant<pre><code>  \n</code></pre></li>\n</ul>\n<p>PWA</p>\n<ul>\n<li>install </li>\n</ul>\n<p>event.waitUntil() Promise  Promise  resolve <br>self.skipWaiting()self  context  global  waiting  Service Worker  activate </p>\n<ul>\n<li>activate </li>\n</ul>\n<p>event.waitUntil() Promise  Promise  resolve <br>self.clients.claim() activate ,  Service Worker    </p>\n<pre><code class=\"js\"><span class=\"keyword\">const</span> CURCACHE = <span class=\"string\">'CURCACHE_test_1'</span>\n<span class=\"keyword\">const</span> RUNTIME = <span class=\"string\">'runtime'</span>;\n<span class=\"keyword\">const</span> CURCACHE_URLS = [\n    <span class=\"string\">'./'</span>,\n    <span class=\"string\">'/asset/sw.jpg'</span>,\n    <span class=\"string\">'index.js'</span>\n]\nself.addEventListener(<span class=\"string\">'install'</span>,e=&gt;{\n    e.waitUntil(\n      <span class=\"comment\">//</span>\n        caches.open(CURCACHE).then(<span class=\"function\"><span class=\"params\">cache</span>=&gt;</span>{\n            cache.addAll(CURCACHE_URLS)\n        }).then(\n            self.skipWaiting()\n        )\n    )\n})  \n  <span class=\"comment\">//</span>\n  self.addEventListener(<span class=\"string\">'fetch'</span>, e =&gt; {\n    e.respondWith(\n      <span class=\"comment\">// </span>\n      caches.match(e.request).then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">response</span>) </span>{\n        <span class=\"keyword\">if</span> (response != <span class=\"literal\">null</span>) {\n          <span class=\"comment\">//</span>\n          <span class=\"keyword\">return</span> response\n        }\n        <span class=\"comment\">//</span>\n        <span class=\"keyword\">return</span> fetch(e.request.url)\n      })\n    )\n  });\n</code></pre>\n<h4 id=\"service-worker\"><a href=\"#service-worker\" class=\"headerlink\" title=\"service worker\"></a>service worker</h4><p>service worker    </p>\n<ul>\n<li> service worker    <pre><code>  \n</code></pre></li>\n<li> service worker install</li>\n<li>service worker service worker  waiting </li>\n<li> service worker  servicer worker </li>\n<li> service worker  activate   </li>\n</ul>\n<pre><code class=\"js\"><span class=\"keyword\">const</span> CURCACHE = <span class=\"string\">'precache_test_1'</span>\n<span class=\"comment\">//keyprecache_test_2 CURCACHE</span>\nself.addEventListener(<span class=\"string\">'activate'</span>, e =&gt; {\n  e.waitUntil(\n      <span class=\"comment\">//keys</span>\n      caches.keys().then(<span class=\"function\"><span class=\"params\">cacheNames</span>=&gt;</span>{\n        <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.all(\n          cacheNames.map(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">cacheName</span>) </span>{\n            <span class=\"comment\">//key,</span>\n            <span class=\"keyword\">if</span> (cacheName !== CURCACHE) {\n              <span class=\"keyword\">return</span> caches.delete(cacheName);\n            }\n          })\n    )}).then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> self.clients.claim())\n )\n})\n</code></pre>\n<p>service workerservice worker  </p>\n<p><img src=\"/img/pwa/3.png\"><br>sw.jssw<br><img src=\"/img/pwa/4.png\"><br>   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> PWA   </p>\n<h3 id=\"manifest-json\"><a href=\"#manifest-json\" class=\"headerlink\" title=\"manifest.json\"></a>manifest.json</h3><p> manifest.json </p>\n<pre><code class=\"js\">{\n    <span class=\"comment\">//</span>\n    <span class=\"string\">\"name\"</span>: <span class=\"string\">\"PQJ-PWA\"</span>,\n    <span class=\"comment\">//</span>\n    <span class=\"string\">\"short_name\"</span>:<span class=\"string\">\"PQJ\"</span>,\n    <span class=\"string\">\"description\"</span>: <span class=\"string\">\"demo\"</span>,\n    <span class=\"comment\">//</span>\n    <span class=\"string\">\"start_url\"</span>: <span class=\"string\">\"/index.html\"</span>,\n    <span class=\"comment\">//</span>\n    <span class=\"string\">\"icons\"</span>: {\n      <span class=\"string\">\"128\"</span>: <span class=\"string\">\"/asset/sw.jpg\"</span>\n    },\n    <span class=\"string\">\"developer\"</span>: {\n      <span class=\"string\">\"name\"</span>: <span class=\"string\">\"pqj\"</span>,\n      <span class=\"string\">\"url\"</span>: <span class=\"string\">\"\"</span>\n    },\n    <span class=\"string\">\"display\"</span>: <span class=\"string\">\"standalone\"</span>,\n    <span class=\"string\">\"background_color\"</span>: <span class=\"string\">\"#287fc5\"</span>,\n    <span class=\"string\">\"theme_color\"</span>: <span class=\"string\">\"#fff\"</span>,\n    <span class=\"string\">\"permissions\"</span>: {\n        <span class=\"string\">\"desktop-notification\"</span>: {\n          <span class=\"string\">\"description\"</span>: <span class=\"string\">\"Needed for creating system notifications.\"</span>\n        }\n      }\n}\n</code></pre>\n<p>html</p>\n<pre><code class=\"js\">&lt;link rel=<span class=\"string\">\"manifest\"</span> href=<span class=\"string\">\"/mainfest.json\"</span> /&gt;\n</code></pre>\n<p>chrome(),icon<br>  </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>service worker<br>   </p>\n<ul>\n<li></li>\n<li>service worker </li>\n<li>  </li>\n</ul>\n<pre><code class=\"js\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getPermission</span>(<span class=\"params\"></span>)</span>{\n    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> {\n        <span class=\"comment\">//</span>\n        <span class=\"keyword\">const</span> permissionPromise = Notification.requestPermission(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> {\n            resolve(result);\n        });\n    }).then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> {\n            <span class=\"comment\">//</span>\n            <span class=\"keyword\">if</span> (result === <span class=\"string\">'granted'</span>) {\n                execute();\n            }\n            <span class=\"keyword\">else</span> {\n                <span class=\"built_in\">console</span>.log(<span class=\"string\">'no permission'</span>);\n            }\n        });\n}\n</code></pre>\n<p>  </p>\n<pre><code class=\"js\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span>(<span class=\"params\"></span>) </span>{\n    <span class=\"comment\">// </span>\n    registerServiceWorker().then(<span class=\"function\"><span class=\"params\">registration</span> =&gt;</span> {\n        <span class=\"comment\">// </span>\n        registration.showNotification(<span class=\"string\">'Hello World!'</span>);\n    });\n}\n</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://lavas.baidu.com/doc\" target=\"_blank\" rel=\"noopener\">https://lavas.baidu.com/doc</a><br><a href=\"https://developer.mozilla.org/zh-CN/Apps/Progressive\" target=\"_blank\" rel=\"noopener\">https://developer.mozilla.org/zh-CN/Apps/Progressive</a><br><a href=\"https://github.com/xiaoxiangdaiyu/PWA\" target=\"_blank\" rel=\"noopener\"></a>PWAwebweb<br>pwa </p>"},{"title":"","date":"2018-05-06T16:00:00.000Z","_content":"## web app\n[https://docs.google.com/presentation/d/1hBIb0CshY9DlM1fkxSLXVSW3Srg3CxaxAbdocI67NCQ/edit#slide=id.g32e52b1ea6_1_0](https://docs.google.com/presentation/d/1hBIb0CshY9DlM1fkxSLXVSW3Srg3CxaxAbdocI67NCQ/edit#slide=id.g32e52b1ea6_1_0)\n<!-- more -->\n###  \n  \n###    \n  \njs\n<img src='/img/performance/1.png'> \n  \njs  \ncpujs(js)\n1. js\n2. js\n3. \n### 1.1 js\n####  \nES580%ES2015(80%+ES2015oppopvivio):   \n\n```js\n//ES2015\nbooks.map(b => b.title);\n//ES5\nbooks.map(function(b) { return b.title; }, this);\n//\n```\n#### /  \nUglifyJS & Closure Compiler \njs95%\n  \n* \n* \n* \n*  \n  \n\n* \n*   \n\n#### tree-shaking  \nwebpackrollup  \ntree-shakingexports  \n\n```js\n//tool \n//used\nexport function a(){\n    console.log('1')\n}\nexport function b(){\n    console.log('2')\n}\n//app.js\nimport {a} from './tool'\na()\n```   \n \nfunction b b\n#### ES2015tree-shaking  \nimport/export ()  \n#### tree-shaking  \n  \n*   \n* ES2015 \n*   \n       \n   \n####   \n  \n  \n####    \n300kb   \n   \n \n*   \n*  \n*     \n*   \n\n\n### 1.2 js   \n  \njs  \n\n|  |  | Async | Defer |\n| --- | --- | --- | --- |\n|  |  |  |  |\n|  |  |  | document |\n\n####   \n* js  \n* js   \nBundle jschunk  \n  \n* js  \n      \n      \n    \n* js   \n      \n      \n    \n\n### 1.3   \n#### htmlcss   \nvanilla JS(js)[ React  VanillaJS ](https://www.w3ctech.com/topic/1978)\n\nNetflix 50%TTI\n* jsReact\n*    \n\n#### server\nserver,ssrclient-side-render.  \nssr1/5\nssrssr\n\n##   \n  \n\n* :  (/)\n* : (ms)\n\n  \n(26)3.5Mb3.5/260.13s\n\n  \n\n|  | ms |\n| --- | :-- |\n| 5G | <=4 |\n| 4G | <=100 |\n| 3G | 100-500 |\n| 3G | 300-1000 |\n\n###    \n\n   \n  \n* \n*   \n*   \n\n### 2.1    \n\n####   \n13+   \n \n1. DNS () \n2. TLS ()\n3.       \n\n\n####   \n\nTCP slow-start  \n\n####     \n\n  \n50k100k   \n  \n####     \n\n*   \n* server-side client-side\n* 301302code    \n\n\n####   \n  \n    \n\n* Content-addressed URLs: \n      log13234d.jpglog.jpg    \n* max-age   \n\nFacebook60%  \n\n#### service workers  \n\nservice worker  \n  \n*  \n*   \n*   \n\n#### http2  \nHTTP2   \n### 2.2   \n  \n\n####    \n  \n \n<img src='/img/performance/2.png'> \n  \n####   \n    \n\n* Dns-prefresh  \n* preconnect\n* preconnect\n* Preload\n* Prefetch()  \n\n### 2.3    \n \n* Brotli    \n   gzip \n    \n      \n    \n* js  \n* \n23   \n \n###   \n   \n","source":"_posts/performance.md","raw":"---\ntitle: \ndate: 2018-05-07\n---\n## web app\n[https://docs.google.com/presentation/d/1hBIb0CshY9DlM1fkxSLXVSW3Srg3CxaxAbdocI67NCQ/edit#slide=id.g32e52b1ea6_1_0](https://docs.google.com/presentation/d/1hBIb0CshY9DlM1fkxSLXVSW3Srg3CxaxAbdocI67NCQ/edit#slide=id.g32e52b1ea6_1_0)\n<!-- more -->\n###  \n  \n###    \n  \njs\n<img src='/img/performance/1.png'> \n  \njs  \ncpujs(js)\n1. js\n2. js\n3. \n### 1.1 js\n####  \nES580%ES2015(80%+ES2015oppopvivio):   \n\n```js\n//ES2015\nbooks.map(b => b.title);\n//ES5\nbooks.map(function(b) { return b.title; }, this);\n//\n```\n#### /  \nUglifyJS & Closure Compiler \njs95%\n  \n* \n* \n* \n*  \n  \n\n* \n*   \n\n#### tree-shaking  \nwebpackrollup  \ntree-shakingexports  \n\n```js\n//tool \n//used\nexport function a(){\n    console.log('1')\n}\nexport function b(){\n    console.log('2')\n}\n//app.js\nimport {a} from './tool'\na()\n```   \n \nfunction b b\n#### ES2015tree-shaking  \nimport/export ()  \n#### tree-shaking  \n  \n*   \n* ES2015 \n*   \n       \n   \n####   \n  \n  \n####    \n300kb   \n   \n \n*   \n*  \n*     \n*   \n\n\n### 1.2 js   \n  \njs  \n\n|  |  | Async | Defer |\n| --- | --- | --- | --- |\n|  |  |  |  |\n|  |  |  | document |\n\n####   \n* js  \n* js   \nBundle jschunk  \n  \n* js  \n      \n      \n    \n* js   \n      \n      \n    \n\n### 1.3   \n#### htmlcss   \nvanilla JS(js)[ React  VanillaJS ](https://www.w3ctech.com/topic/1978)\n\nNetflix 50%TTI\n* jsReact\n*    \n\n#### server\nserver,ssrclient-side-render.  \nssr1/5\nssrssr\n\n##   \n  \n\n* :  (/)\n* : (ms)\n\n  \n(26)3.5Mb3.5/260.13s\n\n  \n\n|  | ms |\n| --- | :-- |\n| 5G | <=4 |\n| 4G | <=100 |\n| 3G | 100-500 |\n| 3G | 300-1000 |\n\n###    \n\n   \n  \n* \n*   \n*   \n\n### 2.1    \n\n####   \n13+   \n \n1. DNS () \n2. TLS ()\n3.       \n\n\n####   \n\nTCP slow-start  \n\n####     \n\n  \n50k100k   \n  \n####     \n\n*   \n* server-side client-side\n* 301302code    \n\n\n####   \n  \n    \n\n* Content-addressed URLs: \n      log13234d.jpglog.jpg    \n* max-age   \n\nFacebook60%  \n\n#### service workers  \n\nservice worker  \n  \n*  \n*   \n*   \n\n#### http2  \nHTTP2   \n### 2.2   \n  \n\n####    \n  \n \n<img src='/img/performance/2.png'> \n  \n####   \n    \n\n* Dns-prefresh  \n* preconnect\n* preconnect\n* Preload\n* Prefetch()  \n\n### 2.3    \n \n* Brotli    \n   gzip \n    \n      \n    \n* js  \n* \n23   \n \n###   \n   \n","slug":"performance","published":1,"updated":"2018-05-09T13:34:37.107Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7diw0009nl92mso19ddp","content":"<h2 id=\"web-app\"><a href=\"#web-app\" class=\"headerlink\" title=\"web app\"></a>web app</h2><p><a href=\"https://docs.google.com/presentation/d/1hBIb0CshY9DlM1fkxSLXVSW3Srg3CxaxAbdocI67NCQ/edit#slide=id.g32e52b1ea6_1_0\" target=\"_blank\" rel=\"noopener\">https://docs.google.com/presentation/d/1hBIb0CshY9DlM1fkxSLXVSW3Srg3CxaxAbdocI67NCQ/edit#slide=id.g32e52b1ea6_1_0</a><br><a id=\"more\"></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><p><br>js<br><img src=\"/img/performance/1.png\"><br><br>js<br>cpujs(js)</p>\n<ol>\n<li>js</li>\n<li>js</li>\n<li><h3 id=\"1-1-js\"><a href=\"#1-1-js\" class=\"headerlink\" title=\"1.1 js\"></a>1.1 js</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>ES580%ES2015(80%+ES2015oppopvivio):   </li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ES2015</span></span><br><span class=\"line\">books.map(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.title);</span><br><span class=\"line\"><span class=\"comment\">//ES5</span></span><br><span class=\"line\">books.map(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">b</span>) </span>&#123; <span class=\"keyword\">return</span> b.title; &#125;, <span class=\"keyword\">this</span>);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h4><p>UglifyJS &amp; Closure Compiler <br>js95%<br>  </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li><br><br></li>\n<li></li>\n<li>  </li>\n</ul>\n<h4 id=\"tree-shaking\"><a href=\"#tree-shaking\" class=\"headerlink\" title=\"tree-shaking\"></a>tree-shaking</h4><p>webpackrollup<br>tree-shakingexports  </p>\n<pre><code class=\"js\"><span class=\"comment\">//tool </span>\n<span class=\"comment\">//used</span>\n<span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">a</span>(<span class=\"params\"></span>)</span>{\n    <span class=\"built_in\">console</span>.log(<span class=\"string\">'1'</span>)\n}\n<span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">b</span>(<span class=\"params\"></span>)</span>{\n    <span class=\"built_in\">console</span>.log(<span class=\"string\">'2'</span>)\n}\n<span class=\"comment\">//app.js</span>\n<span class=\"keyword\">import</span> {a} <span class=\"keyword\">from</span> <span class=\"string\">'./tool'</span>\na()\n</code></pre>\n<p>function b b</p>\n<h4 id=\"ES2015tree-shaking\"><a href=\"#ES2015tree-shaking\" class=\"headerlink\" title=\"ES2015tree-shaking\"></a>ES2015tree-shaking</h4><p>import/export ()  </p>\n<h4 id=\"tree-shaking\"><a href=\"#tree-shaking\" class=\"headerlink\" title=\"tree-shaking\"></a>tree-shaking</h4><ul>\n<li>  </li>\n<li>ES2015 </li>\n<li><br>     </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>300kb<br>   </p>\n<ul>\n<li>  </li>\n<li> </li>\n<li>    </li>\n<li>  </li>\n</ul>\n<h3 id=\"1-2-js\"><a href=\"#1-2-js\" class=\"headerlink\" title=\"1.2 js\"></a>1.2 js</h3><p>js  </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th>Async</th>\n<th>Defer</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td>document</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>js  </li>\n<li>js<br>Bundle jschunk<br>  </li>\n<li>js<br>  <br>  <br>  </li>\n<li>js<br>  <br>  <br>  <br><h3 id=\"1-3-\"><a href=\"#1-3-\" class=\"headerlink\" title=\"1.3 \"></a>1.3 </h3><h4 id=\"htmlcss\"><a href=\"#htmlcss\" class=\"headerlink\" title=\"htmlcss\"></a>htmlcss</h4>vanilla JS(js)<a href=\"https://www.w3ctech.com/topic/1978\" target=\"_blank\" rel=\"noopener\"> React  VanillaJS </a><br><br>Netflix 50%TTI</li>\n<li>jsReact</li>\n<li>   </li>\n</ul>\n<h4 id=\"server\"><a href=\"#server\" class=\"headerlink\" title=\"server\"></a>server</h4><p>server,ssrclient-side-render.<br>ssr1/5<br>ssrssr</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<ul>\n<li>:  (/)</li>\n<li>: (ms)</li>\n</ul>\n<p>(26)3.5Mb3.5/260.13s<br><br>  </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th style=\"text-align:left\">ms</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>5G</td>\n<td style=\"text-align:left\">&lt;=4</td>\n</tr>\n<tr>\n<td>4G</td>\n<td style=\"text-align:left\">&lt;=100</td>\n</tr>\n<tr>\n<td>3G</td>\n<td style=\"text-align:left\">100-500</td>\n</tr>\n<tr>\n<td>3G</td>\n<td style=\"text-align:left\">300-1000</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>   </p>\n<ul>\n<li></li>\n<li>  </li>\n<li>  </li>\n</ul>\n<h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>13+   </p>\n<ol>\n<li>DNS () </li>\n<li>TLS ()</li>\n<li>      </li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>TCP slow-start  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>50k100k   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>  </li>\n<li>server-side client-side</li>\n<li>301302code    </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>    </p>\n<ul>\n<li>Content-addressed URLs: <pre><code>log13234d.jpglog.jpg    \n</code></pre></li>\n<li>max-age   </li>\n</ul>\n<p>Facebook60%  </p>\n<h4 id=\"service-workers\"><a href=\"#service-workers\" class=\"headerlink\" title=\"service workers\"></a>service workers</h4><p>service worker  </p>\n<ul>\n<li> </li>\n<li>  </li>\n<li>  </li>\n</ul>\n<h4 id=\"http2\"><a href=\"#http2\" class=\"headerlink\" title=\"http2\"></a>http2</h4><p>HTTP2   </p>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p>  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><br><img src=\"/img/performance/2.png\"> </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>    </p>\n<ul>\n<li>Dns-prefresh  </li>\n<li>preconnect</li>\n<li>preconnect</li>\n<li>Preload</li>\n<li>Prefetch()  </li>\n</ul>\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><ul>\n<li>Brotli<br> gzip<br>  <br>  <br>  </li>\n<li>js  </li>\n<li><br>23   </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>   </p>\n","site":{"data":{}},"excerpt":"<h2 id=\"web-app\"><a href=\"#web-app\" class=\"headerlink\" title=\"web app\"></a>web app</h2><p><a href=\"https://docs.google.com/presentation/d/1hBIb0CshY9DlM1fkxSLXVSW3Srg3CxaxAbdocI67NCQ/edit#slide=id.g32e52b1ea6_1_0\" target=\"_blank\" rel=\"noopener\">https://docs.google.com/presentation/d/1hBIb0CshY9DlM1fkxSLXVSW3Srg3CxaxAbdocI67NCQ/edit#slide=id.g32e52b1ea6_1_0</a><br>","more":"</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><p><br>js<br><img src=\"/img/performance/1.png\"><br><br>js<br>cpujs(js)</p>\n<ol>\n<li>js</li>\n<li>js</li>\n<li><h3 id=\"1-1-js\"><a href=\"#1-1-js\" class=\"headerlink\" title=\"1.1 js\"></a>1.1 js</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>ES580%ES2015(80%+ES2015oppopvivio):   </li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ES2015</span></span><br><span class=\"line\">books.map(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> b.title);</span><br><span class=\"line\"><span class=\"comment\">//ES5</span></span><br><span class=\"line\">books.map(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">b</span>) </span>&#123; <span class=\"keyword\">return</span> b.title; &#125;, <span class=\"keyword\">this</span>);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h4><p>UglifyJS &amp; Closure Compiler <br>js95%<br>  </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li><br><br></li>\n<li></li>\n<li>  </li>\n</ul>\n<h4 id=\"tree-shaking\"><a href=\"#tree-shaking\" class=\"headerlink\" title=\"tree-shaking\"></a>tree-shaking</h4><p>webpackrollup<br>tree-shakingexports  </p>\n<pre><code class=\"js\"><span class=\"comment\">//tool </span>\n<span class=\"comment\">//used</span>\n<span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">a</span>(<span class=\"params\"></span>)</span>{\n    <span class=\"built_in\">console</span>.log(<span class=\"string\">'1'</span>)\n}\n<span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">b</span>(<span class=\"params\"></span>)</span>{\n    <span class=\"built_in\">console</span>.log(<span class=\"string\">'2'</span>)\n}\n<span class=\"comment\">//app.js</span>\n<span class=\"keyword\">import</span> {a} <span class=\"keyword\">from</span> <span class=\"string\">'./tool'</span>\na()\n</code></pre>\n<p>function b b</p>\n<h4 id=\"ES2015tree-shaking\"><a href=\"#ES2015tree-shaking\" class=\"headerlink\" title=\"ES2015tree-shaking\"></a>ES2015tree-shaking</h4><p>import/export ()  </p>\n<h4 id=\"tree-shaking\"><a href=\"#tree-shaking\" class=\"headerlink\" title=\"tree-shaking\"></a>tree-shaking</h4><ul>\n<li>  </li>\n<li>ES2015 </li>\n<li><br>     </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>300kb<br>   </p>\n<ul>\n<li>  </li>\n<li> </li>\n<li>    </li>\n<li>  </li>\n</ul>\n<h3 id=\"1-2-js\"><a href=\"#1-2-js\" class=\"headerlink\" title=\"1.2 js\"></a>1.2 js</h3><p>js  </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th>Async</th>\n<th>Defer</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td>document</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>js  </li>\n<li>js<br>Bundle jschunk<br>  </li>\n<li>js<br>  <br>  <br>  </li>\n<li>js<br>  <br>  <br>  <br><h3 id=\"1-3-\"><a href=\"#1-3-\" class=\"headerlink\" title=\"1.3 \"></a>1.3 </h3><h4 id=\"htmlcss\"><a href=\"#htmlcss\" class=\"headerlink\" title=\"htmlcss\"></a>htmlcss</h4>vanilla JS(js)<a href=\"https://www.w3ctech.com/topic/1978\" target=\"_blank\" rel=\"noopener\"> React  VanillaJS </a><br><br>Netflix 50%TTI</li>\n<li>jsReact</li>\n<li>   </li>\n</ul>\n<h4 id=\"server\"><a href=\"#server\" class=\"headerlink\" title=\"server\"></a>server</h4><p>server,ssrclient-side-render.<br>ssr1/5<br>ssrssr</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<ul>\n<li>:  (/)</li>\n<li>: (ms)</li>\n</ul>\n<p>(26)3.5Mb3.5/260.13s<br><br>  </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th style=\"text-align:left\">ms</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>5G</td>\n<td style=\"text-align:left\">&lt;=4</td>\n</tr>\n<tr>\n<td>4G</td>\n<td style=\"text-align:left\">&lt;=100</td>\n</tr>\n<tr>\n<td>3G</td>\n<td style=\"text-align:left\">100-500</td>\n</tr>\n<tr>\n<td>3G</td>\n<td style=\"text-align:left\">300-1000</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>   </p>\n<ul>\n<li></li>\n<li>  </li>\n<li>  </li>\n</ul>\n<h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>13+   </p>\n<ol>\n<li>DNS () </li>\n<li>TLS ()</li>\n<li>      </li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>TCP slow-start  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>50k100k   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>  </li>\n<li>server-side client-side</li>\n<li>301302code    </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>    </p>\n<ul>\n<li>Content-addressed URLs: <pre><code>log13234d.jpglog.jpg    \n</code></pre></li>\n<li>max-age   </li>\n</ul>\n<p>Facebook60%  </p>\n<h4 id=\"service-workers\"><a href=\"#service-workers\" class=\"headerlink\" title=\"service workers\"></a>service workers</h4><p>service worker  </p>\n<ul>\n<li> </li>\n<li>  </li>\n<li>  </li>\n</ul>\n<h4 id=\"http2\"><a href=\"#http2\" class=\"headerlink\" title=\"http2\"></a>http2</h4><p>HTTP2   </p>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p>  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><br><img src=\"/img/performance/2.png\"> </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>    </p>\n<ul>\n<li>Dns-prefresh  </li>\n<li>preconnect</li>\n<li>preconnect</li>\n<li>Preload</li>\n<li>Prefetch()  </li>\n</ul>\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><ul>\n<li>Brotli<br> gzip<br>  <br>  <br>  </li>\n<li>js  </li>\n<li><br>23   </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>   </p>"},{"title":"","date":"2017-09-14T16:00:00.000Z","_content":"  \n<!-- more -->  \n\n##    \n* [nodeWebsocket](https://juejin.im/post/5a2bf66151882546d71f44b2)\n* [websocket-](https://juejin.im/post/5a05d89051882540f36305df)\n* [webpack plugin](https://juejin.im/post/59e8b724f265da431875dd5c)\n* [-iosfixed](https://juejin.im/post/59e725865188257e0c3246bf)\n* [webpack loader](https://juejin.im/post/59e6a5de518825469c7461da)\n* [nodeWebsocket](http://www.cnblogs.com/pqjwyn/p/8012197.html)\n* [nodeWebsocket](http://www.cnblogs.com/pqjwyn/p/8012197.html)\n* [nodeWebsocket](http://www.cnblogs.com/pqjwyn/p/8012197.html)","source":"_posts/review.md","raw":"---\ntitle: \ndate: 2017-09-15\n---\n  \n<!-- more -->  \n\n##    \n* [nodeWebsocket](https://juejin.im/post/5a2bf66151882546d71f44b2)\n* [websocket-](https://juejin.im/post/5a05d89051882540f36305df)\n* [webpack plugin](https://juejin.im/post/59e8b724f265da431875dd5c)\n* [-iosfixed](https://juejin.im/post/59e725865188257e0c3246bf)\n* [webpack loader](https://juejin.im/post/59e6a5de518825469c7461da)\n* [nodeWebsocket](http://www.cnblogs.com/pqjwyn/p/8012197.html)\n* [nodeWebsocket](http://www.cnblogs.com/pqjwyn/p/8012197.html)\n* [nodeWebsocket](http://www.cnblogs.com/pqjwyn/p/8012197.html)","slug":"review","published":1,"updated":"2017-12-15T11:55:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7dix000anl92svxkgv6d","content":"<p><br><a id=\"more\"></a>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://juejin.im/post/5a2bf66151882546d71f44b2\" target=\"_blank\" rel=\"noopener\">nodeWebsocket</a></li>\n<li><a href=\"https://juejin.im/post/5a05d89051882540f36305df\" target=\"_blank\" rel=\"noopener\">websocket-</a></li>\n<li><a href=\"https://juejin.im/post/59e8b724f265da431875dd5c\" target=\"_blank\" rel=\"noopener\">webpack plugin</a></li>\n<li><a href=\"https://juejin.im/post/59e725865188257e0c3246bf\" target=\"_blank\" rel=\"noopener\">-iosfixed</a></li>\n<li><a href=\"https://juejin.im/post/59e6a5de518825469c7461da\" target=\"_blank\" rel=\"noopener\">webpack loader</a></li>\n<li><a href=\"http://www.cnblogs.com/pqjwyn/p/8012197.html\" target=\"_blank\" rel=\"noopener\">nodeWebsocket</a></li>\n<li><a href=\"http://www.cnblogs.com/pqjwyn/p/8012197.html\" target=\"_blank\" rel=\"noopener\">nodeWebsocket</a></li>\n<li><a href=\"http://www.cnblogs.com/pqjwyn/p/8012197.html\" target=\"_blank\" rel=\"noopener\">nodeWebsocket</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p><br>","more":"</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://juejin.im/post/5a2bf66151882546d71f44b2\" target=\"_blank\" rel=\"noopener\">nodeWebsocket</a></li>\n<li><a href=\"https://juejin.im/post/5a05d89051882540f36305df\" target=\"_blank\" rel=\"noopener\">websocket-</a></li>\n<li><a href=\"https://juejin.im/post/59e8b724f265da431875dd5c\" target=\"_blank\" rel=\"noopener\">webpack plugin</a></li>\n<li><a href=\"https://juejin.im/post/59e725865188257e0c3246bf\" target=\"_blank\" rel=\"noopener\">-iosfixed</a></li>\n<li><a href=\"https://juejin.im/post/59e6a5de518825469c7461da\" target=\"_blank\" rel=\"noopener\">webpack loader</a></li>\n<li><a href=\"http://www.cnblogs.com/pqjwyn/p/8012197.html\" target=\"_blank\" rel=\"noopener\">nodeWebsocket</a></li>\n<li><a href=\"http://www.cnblogs.com/pqjwyn/p/8012197.html\" target=\"_blank\" rel=\"noopener\">nodeWebsocket</a></li>\n<li><a href=\"http://www.cnblogs.com/pqjwyn/p/8012197.html\" target=\"_blank\" rel=\"noopener\">nodeWebsocket</a></li>\n</ul>"},{"title":"css-PostCSS","date":"2017-12-21T16:00:00.000Z","_content":"postcss\n<!-- more -->\n## postcss  \n### css \n:  \n\n```css\n.div{\n    display: flex;\n}\n```\n   \npostcss:\n\n```css\n.div{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n``` \n  \n### css   \n \n```css\n    body{\n    color: #f0;\n    }\n```\n\n:    \n\n```\nsrc/er.css\n 2:12    Unexpected invalid hex color \"#f0\"   color-no-invalid-hex\n\n\n\n[18:27:28] 'css-lint' errored after 98 ms\n[18:27:28] Error in plugin 'gulp-stylelint'\nMessage:\n    Failed with 1 error\n```\n### css css4\ncss    \n```css\n:root { \n    --red: #d33;\n  }\n  a { \n      color: var(--red);\n  }\n```\nes2015postcss  \n\n```css\na{\n    color:#d33\n}\n```\npostcss\n\n## postcss  \n\npostcss  \njscss(A tool for transforming CSS with JavaScript)postcss\n1. postcssnpm install  \n2. postCss   \n   postcss  \n   \npostcss\n \n#### postcss   \n  \nless/sasspostcsscsspostcss  \njscssASTpostcsscsscss  \n   \n\n## postcss    \n\nless/sass csspostcss  \n\n#### css  \n\nlesspostcss \n\n1 less  \n\n```css\n.flex-block() {\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    display: flex;\n}\n.test{\n    .flex-block()\n}\n```\n2postcss\n\n```css\n.test{\n    display: flex;\n}\n```\nautoprefixer  \n?  \n\n```css\n.flex-block() {\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    display: flex;\n}\n.transform(){\n    //\n}\n.ccc(){\n}\n.test{\n    .flex-block()\n    .transform()\n    .ccc()\n}\n```\npostcss:  \n\n```css\n.test{\n    display: flex;\n    transform:rotate(7deg);\n}\n```\npostcss  \n\n## postcss   \n\npostcssnodecss(AST)ASTsourcemap(w3cplus)\n<img src='https://www.w3cplus.com/sites/default/files/blogs/2017/1707/figure-18.png'/>\n\nbabel  \n* \n* AST\n* \n*    \n\n#### postcss  \n  \npostcsswebpackgulp[](https://github.com/postcss/postcss#usage)  \n\n##   \n\npostCssless[](https://github.com/xiaoxiangdaiyu/postcss/tree/master/)\n\n####   \n[http://davidtheclark.com/its-time-for-everyone-to-learn-about-postcss/](http://davidtheclark.com/its-time-for-everyone-to-learn-about-postcss/)\n[http://julian.io/some-things-you-may-think-about-postcss-and-you-might-be-wrong/](http://julian.io/some-things-you-may-think-about-postcss-and-you-might-be-wrong/)\n","source":"_posts/css/postcss.md","raw":"---\ntitle: css-PostCSS\ndate: 2017-12-22\n---\npostcss\n<!-- more -->\n## postcss  \n### css \n:  \n\n```css\n.div{\n    display: flex;\n}\n```\n   \npostcss:\n\n```css\n.div{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n``` \n  \n### css   \n \n```css\n    body{\n    color: #f0;\n    }\n```\n\n:    \n\n```\nsrc/er.css\n 2:12    Unexpected invalid hex color \"#f0\"   color-no-invalid-hex\n\n\n\n[18:27:28] 'css-lint' errored after 98 ms\n[18:27:28] Error in plugin 'gulp-stylelint'\nMessage:\n    Failed with 1 error\n```\n### css css4\ncss    \n```css\n:root { \n    --red: #d33;\n  }\n  a { \n      color: var(--red);\n  }\n```\nes2015postcss  \n\n```css\na{\n    color:#d33\n}\n```\npostcss\n\n## postcss  \n\npostcss  \njscss(A tool for transforming CSS with JavaScript)postcss\n1. postcssnpm install  \n2. postCss   \n   postcss  \n   \npostcss\n \n#### postcss   \n  \nless/sasspostcsscsspostcss  \njscssASTpostcsscsscss  \n   \n\n## postcss    \n\nless/sass csspostcss  \n\n#### css  \n\nlesspostcss \n\n1 less  \n\n```css\n.flex-block() {\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    display: flex;\n}\n.test{\n    .flex-block()\n}\n```\n2postcss\n\n```css\n.test{\n    display: flex;\n}\n```\nautoprefixer  \n?  \n\n```css\n.flex-block() {\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    display: flex;\n}\n.transform(){\n    //\n}\n.ccc(){\n}\n.test{\n    .flex-block()\n    .transform()\n    .ccc()\n}\n```\npostcss:  \n\n```css\n.test{\n    display: flex;\n    transform:rotate(7deg);\n}\n```\npostcss  \n\n## postcss   \n\npostcssnodecss(AST)ASTsourcemap(w3cplus)\n<img src='https://www.w3cplus.com/sites/default/files/blogs/2017/1707/figure-18.png'/>\n\nbabel  \n* \n* AST\n* \n*    \n\n#### postcss  \n  \npostcsswebpackgulp[](https://github.com/postcss/postcss#usage)  \n\n##   \n\npostCssless[](https://github.com/xiaoxiangdaiyu/postcss/tree/master/)\n\n####   \n[http://davidtheclark.com/its-time-for-everyone-to-learn-about-postcss/](http://davidtheclark.com/its-time-for-everyone-to-learn-about-postcss/)\n[http://julian.io/some-things-you-may-think-about-postcss-and-you-might-be-wrong/](http://julian.io/some-things-you-may-think-about-postcss-and-you-might-be-wrong/)\n","slug":"css/postcss","published":1,"updated":"2017-12-22T14:15:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7dns000bnl92krh6km2q","content":"<p>postcss<br><a id=\"more\"></a></p>\n<h2 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h2><h3 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h3><p>:  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.div</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>postcss:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.div</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -webkit-box;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -ms-flexbox;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">``` </span><br><span class=\"line\">  </span><br><span class=\"line\">### <span class=\"selector-tag\">css</span>   </span><br><span class=\"line\"> </span><br><span class=\"line\">```<span class=\"selector-tag\">css</span></span><br><span class=\"line\">    <span class=\"selector-tag\">body</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#f0</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>:    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">src/er.css</span><br><span class=\"line\"> 2:12    Unexpected invalid hex color &quot;#f0&quot;   color-no-invalid-hex</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">[18:27:28] &apos;css-lint&apos; errored after 98 ms</span><br><span class=\"line\">[18:27:28] Error in plugin &apos;gulp-stylelint&apos;</span><br><span class=\"line\">Message:</span><br><span class=\"line\">    Failed with 1 error</span><br></pre></td></tr></table></figure>\n<h3 id=\"css-css4\"><a href=\"#css-css4\" class=\"headerlink\" title=\"css css4\"></a>css css4</h3><p>css<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-pseudo\">:root</span> &#123; </span><br><span class=\"line\">    <span class=\"attribute\">--red</span>: <span class=\"number\">#d33</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-tag\">a</span> &#123; </span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--red);</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure></p>\n<p>es2015postcss  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>:<span class=\"number\">#d33</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>postcss</p>\n<h2 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h2><p>postcss<br>jscss(A tool for transforming CSS with JavaScript)postcss</p>\n<ol>\n<li>postcssnpm install  </li>\n<li>postCss<br>postcss  </li>\n</ol>\n<p>postcss</p>\n<h4 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h4><p>less/sasspostcsscsspostcss<br>jscssASTpostcsscsscss<br>   </p>\n<h2 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h2><p>less/sass csspostcss  </p>\n<h4 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h4><p>lesspostcss </p>\n<p>1 less  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.flex-block</span>() &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -ms-flexbox;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -webkit-flex;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.test</span>&#123;</span><br><span class=\"line\">    .flex-block()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>2postcss</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.test</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>autoprefixer<br>?  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.flex-block</span>() &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -ms-flexbox;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -webkit-flex;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.transform</span>()&#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ccc</span>()&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.test</span>&#123;</span><br><span class=\"line\">    .flex-block()</span><br><span class=\"line\">    <span class=\"selector-class\">.transform</span>()</span><br><span class=\"line\">    <span class=\"selector-class\">.ccc</span>()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>postcss:  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.test</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>:<span class=\"built_in\">rotate</span>(7deg);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>postcss  </p>\n<h2 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h2><p>postcssnodecss(AST)ASTsourcemap(w3cplus)<br><img src=\"https://www.w3cplus.com/sites/default/files/blogs/2017/1707/figure-18.png\"></p>\n<p>babel  </p>\n<ul>\n<li></li>\n<li>AST</li>\n<li></li>\n<li>   </li>\n</ul>\n<h4 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h4><p>postcsswebpackgulp<a href=\"https://github.com/postcss/postcss#usage\" target=\"_blank\" rel=\"noopener\"></a>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>postCssless<a href=\"https://github.com/xiaoxiangdaiyu/postcss/tree/master/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://davidtheclark.com/its-time-for-everyone-to-learn-about-postcss/\" target=\"_blank\" rel=\"noopener\">http://davidtheclark.com/its-time-for-everyone-to-learn-about-postcss/</a><br><a href=\"http://julian.io/some-things-you-may-think-about-postcss-and-you-might-be-wrong/\" target=\"_blank\" rel=\"noopener\">http://julian.io/some-things-you-may-think-about-postcss-and-you-might-be-wrong/</a></p>\n","site":{"data":{}},"excerpt":"<p>postcss<br>","more":"</p>\n<h2 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h2><h3 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h3><p>:  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.div</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>postcss:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.div</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -webkit-box;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -ms-flexbox;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">``` </span><br><span class=\"line\">  </span><br><span class=\"line\">### <span class=\"selector-tag\">css</span>   </span><br><span class=\"line\"> </span><br><span class=\"line\">```<span class=\"selector-tag\">css</span></span><br><span class=\"line\">    <span class=\"selector-tag\">body</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#f0</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>:    </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">src/er.css</span><br><span class=\"line\"> 2:12    Unexpected invalid hex color &quot;#f0&quot;   color-no-invalid-hex</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">[18:27:28] &apos;css-lint&apos; errored after 98 ms</span><br><span class=\"line\">[18:27:28] Error in plugin &apos;gulp-stylelint&apos;</span><br><span class=\"line\">Message:</span><br><span class=\"line\">    Failed with 1 error</span><br></pre></td></tr></table></figure>\n<h3 id=\"css-css4\"><a href=\"#css-css4\" class=\"headerlink\" title=\"css css4\"></a>css css4</h3><p>css<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-pseudo\">:root</span> &#123; </span><br><span class=\"line\">    <span class=\"attribute\">--red</span>: <span class=\"number\">#d33</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-tag\">a</span> &#123; </span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--red);</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure></p>\n<p>es2015postcss  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>:<span class=\"number\">#d33</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>postcss</p>\n<h2 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h2><p>postcss<br>jscss(A tool for transforming CSS with JavaScript)postcss</p>\n<ol>\n<li>postcssnpm install  </li>\n<li>postCss<br>postcss  </li>\n</ol>\n<p>postcss</p>\n<h4 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h4><p>less/sasspostcsscsspostcss<br>jscssASTpostcsscsscss<br>   </p>\n<h2 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h2><p>less/sass csspostcss  </p>\n<h4 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h4><p>lesspostcss </p>\n<p>1 less  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.flex-block</span>() &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -ms-flexbox;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -webkit-flex;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.test</span>&#123;</span><br><span class=\"line\">    .flex-block()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>2postcss</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.test</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>autoprefixer<br>?  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.flex-block</span>() &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -ms-flexbox;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: -webkit-flex;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.transform</span>()&#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.ccc</span>()&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.test</span>&#123;</span><br><span class=\"line\">    .flex-block()</span><br><span class=\"line\">    <span class=\"selector-class\">.transform</span>()</span><br><span class=\"line\">    <span class=\"selector-class\">.ccc</span>()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>postcss:  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.test</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>:<span class=\"built_in\">rotate</span>(7deg);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>postcss  </p>\n<h2 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h2><p>postcssnodecss(AST)ASTsourcemap(w3cplus)<br><img src=\"https://www.w3cplus.com/sites/default/files/blogs/2017/1707/figure-18.png\"></p>\n<p>babel  </p>\n<ul>\n<li></li>\n<li>AST</li>\n<li></li>\n<li>   </li>\n</ul>\n<h4 id=\"postcss\"><a href=\"#postcss\" class=\"headerlink\" title=\"postcss\"></a>postcss</h4><p>postcsswebpackgulp<a href=\"https://github.com/postcss/postcss#usage\" target=\"_blank\" rel=\"noopener\"></a>  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>postCssless<a href=\"https://github.com/xiaoxiangdaiyu/postcss/tree/master/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"http://davidtheclark.com/its-time-for-everyone-to-learn-about-postcss/\" target=\"_blank\" rel=\"noopener\">http://davidtheclark.com/its-time-for-everyone-to-learn-about-postcss/</a><br><a href=\"http://julian.io/some-things-you-may-think-about-postcss-and-you-might-be-wrong/\" target=\"_blank\" rel=\"noopener\">http://julian.io/some-things-you-may-think-about-postcss-and-you-might-be-wrong/</a></p>"},{"title":"webpack loader","date":"2017-10-13T16:00:00.000Z","_content":"## webpack  \nwebpackwebpack  \n[webpack](http://www.cnblogs.com/pqjwyn/p/5380689.html) .  \nwebpackcssloader  \nloader   \n<!-- more -->\n####   \nloaderloader  \n[](https://webpack.js.org/contribute/writing-a-loader/)    \nloader  \n\n## loader  \n  \nloadernode.  \n####    \n\nloaderloader  \n\nloaderfunctionthis contextlaoder API   \n\nloaderreturn loaderthis.callback(err, values...)errorthis.callbackloader  \n\nloader1-2stringbufferjsSourceMapjs    \n\n#### :    \n\nloaderloader  \nloader1-2(JavaScriptSourceMap)  \nloaderloader  \n\nloader  \n  foo-loader==>bar-loader  \n```js\nmodule: {\n  loaders: [\n    {\n      test: /\\.js/,\n      loaders: [\n        'bar-loader',\n        'foo-loader'\n      ]\n    }\n  ]\n}\n```\n#### weboacknodemodulesloader   \n\nconfig:  \nnode_modules\n```js  \n    resolveLoader: {\n        modules: ['node_modules', path.resolve(__dirname, 'loaders')]\n    }\n```\n#### \npspath    \nloadernpm   \nmyloaderloaders  \n```js   \n     resolveLoader:{\n        modules: ['node_modules','loader']\n    }\n```\n## Examples     \n\nloader\n```js  \n    module.exports = function(source,map){\n    this.cacheable && this.cacheable()\n    this.value = source\n    return '/*copy@ xiaoxiangdaiyu*/'+JSON.stringify(source)\n    }\n```\n##   \n\nloader   \n   \n\n####     \n\nloadersloaderloader  \njs  \n\nhtml   \nloaderloader   \ntaskloader  \n* jade-loader: module   \n* apply-loader: module  \n* html-loade: htmlstring   \n \n#### moulde   \n\nloadermodulemodule  \n  \n```js\n    require(\"any-template-language-loader!./xyz.atl\");\n    var html = anyTemplateLanguage.render(\"xyz\");\n```\n#### loader  \n\nloaderscacheablecacheable   \nloader  \n```js  \n    // Cacheable identity loader\nmodule.exports = function(source) {\n\tthis.cacheable();\n\treturn source;\n};\n```\n####      \n\n* loader   \n* loader\n\n####    \n\nloader loader  \n\n```js  \n    var path = require(\"path\");\n    module.exports = function(source) {\n\tthis.cacheable();\n\tvar callback = this.async();\n\tvar headerPath = path.resolve(\"header.js\");\n\tthis.addDependency(headerPath);\n\tfs.readFile(headerPath, \"utf-8\", function(err, header) {\n\t\tif(err) return callback(err);\n\t\tcallback(null, header + \"\\n\" + source);\n\t});\n};\n```\n####   \n\ncss @import  url(...)  \n##### \n* 1require   \n* 2 this.resolve  \n\n#####    \n\n* 1css-loader: requirerequire@import url(...)  \n* 2less-loader: css-loaderlessmixinslessthis.resolvemodulealiasing, custom module directories  \n\nurlscssurl(file) ./file~.  \n```js  \n    url(file) -> require(\"./file\")\n    url(~module) -> require(\"module\")\n```\n####   \n\nextract common code    \nloaderruntime\n\n####   \n\nhashloader-utils stringifyRequest   \n  \n```js  \n    var loaderUtils = require(\"loader-utils\");\n    return \"var runtime = require(\" +\n    loaderUtils.stringifyRequest(this, \"!\" + require.resolve(\"module/runtime\")) +\n  \");\";\n```\n#### peerDependencies \n\npeerDependencypackage.jsonloaderpeerDependencyloader  \n\n####   \n\nloaderqueryless-loaderless-pluginloaderwebpackoptionsoptionloader\n\n```js  \n     // webpack.config.js\n    module.exports = {\n        ...\n    lessLoader: {\n        lessPlugins: [\n        new LessPluginCleanCSS({advanced: true})\n        ]\n    }\n};\n```\n####    \nwebpack loader [w-loader](https://github.com/xiaoxiangdaiyu/w-loader)   \n   \n","source":"_posts/webpack/loader.md","raw":"---\ntitle: webpack loader\ndate: 2017-10-14\n---\n## webpack  \nwebpackwebpack  \n[webpack](http://www.cnblogs.com/pqjwyn/p/5380689.html) .  \nwebpackcssloader  \nloader   \n<!-- more -->\n####   \nloaderloader  \n[](https://webpack.js.org/contribute/writing-a-loader/)    \nloader  \n\n## loader  \n  \nloadernode.  \n####    \n\nloaderloader  \n\nloaderfunctionthis contextlaoder API   \n\nloaderreturn loaderthis.callback(err, values...)errorthis.callbackloader  \n\nloader1-2stringbufferjsSourceMapjs    \n\n#### :    \n\nloaderloader  \nloader1-2(JavaScriptSourceMap)  \nloaderloader  \n\nloader  \n  foo-loader==>bar-loader  \n```js\nmodule: {\n  loaders: [\n    {\n      test: /\\.js/,\n      loaders: [\n        'bar-loader',\n        'foo-loader'\n      ]\n    }\n  ]\n}\n```\n#### weboacknodemodulesloader   \n\nconfig:  \nnode_modules\n```js  \n    resolveLoader: {\n        modules: ['node_modules', path.resolve(__dirname, 'loaders')]\n    }\n```\n#### \npspath    \nloadernpm   \nmyloaderloaders  \n```js   \n     resolveLoader:{\n        modules: ['node_modules','loader']\n    }\n```\n## Examples     \n\nloader\n```js  \n    module.exports = function(source,map){\n    this.cacheable && this.cacheable()\n    this.value = source\n    return '/*copy@ xiaoxiangdaiyu*/'+JSON.stringify(source)\n    }\n```\n##   \n\nloader   \n   \n\n####     \n\nloadersloaderloader  \njs  \n\nhtml   \nloaderloader   \ntaskloader  \n* jade-loader: module   \n* apply-loader: module  \n* html-loade: htmlstring   \n \n#### moulde   \n\nloadermodulemodule  \n  \n```js\n    require(\"any-template-language-loader!./xyz.atl\");\n    var html = anyTemplateLanguage.render(\"xyz\");\n```\n#### loader  \n\nloaderscacheablecacheable   \nloader  \n```js  \n    // Cacheable identity loader\nmodule.exports = function(source) {\n\tthis.cacheable();\n\treturn source;\n};\n```\n####      \n\n* loader   \n* loader\n\n####    \n\nloader loader  \n\n```js  \n    var path = require(\"path\");\n    module.exports = function(source) {\n\tthis.cacheable();\n\tvar callback = this.async();\n\tvar headerPath = path.resolve(\"header.js\");\n\tthis.addDependency(headerPath);\n\tfs.readFile(headerPath, \"utf-8\", function(err, header) {\n\t\tif(err) return callback(err);\n\t\tcallback(null, header + \"\\n\" + source);\n\t});\n};\n```\n####   \n\ncss @import  url(...)  \n##### \n* 1require   \n* 2 this.resolve  \n\n#####    \n\n* 1css-loader: requirerequire@import url(...)  \n* 2less-loader: css-loaderlessmixinslessthis.resolvemodulealiasing, custom module directories  \n\nurlscssurl(file) ./file~.  \n```js  \n    url(file) -> require(\"./file\")\n    url(~module) -> require(\"module\")\n```\n####   \n\nextract common code    \nloaderruntime\n\n####   \n\nhashloader-utils stringifyRequest   \n  \n```js  \n    var loaderUtils = require(\"loader-utils\");\n    return \"var runtime = require(\" +\n    loaderUtils.stringifyRequest(this, \"!\" + require.resolve(\"module/runtime\")) +\n  \");\";\n```\n#### peerDependencies \n\npeerDependencypackage.jsonloaderpeerDependencyloader  \n\n####   \n\nloaderqueryless-loaderless-pluginloaderwebpackoptionsoptionloader\n\n```js  \n     // webpack.config.js\n    module.exports = {\n        ...\n    lessLoader: {\n        lessPlugins: [\n        new LessPluginCleanCSS({advanced: true})\n        ]\n    }\n};\n```\n####    \nwebpack loader [w-loader](https://github.com/xiaoxiangdaiyu/w-loader)   \n   \n","slug":"webpack/loader","published":1,"updated":"2017-12-15T13:07:11.050Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7dnu000cnl92uzhf9lyu","content":"<h2 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h2><p>webpackwebpack<br><a href=\"http://www.cnblogs.com/pqjwyn/p/5380689.html\" target=\"_blank\" rel=\"noopener\">webpack</a> .<br>webpackcssloader<br>loader<br><a id=\"more\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loaderloader<br><a href=\"https://webpack.js.org/contribute/writing-a-loader/\" target=\"_blank\" rel=\"noopener\"></a><br>loader  </p>\n<h2 id=\"loader\"><a href=\"#loader\" class=\"headerlink\" title=\"loader\"></a>loader</h2><p>loadernode.  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loaderloader  </p>\n<p>loaderfunctionthis contextlaoder API   </p>\n<p>loaderreturn loaderthis.callback(err, values)errorthis.callbackloader  </p>\n<p>loader1-2stringbufferjsSourceMapjs    </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h4><p>loaderloader<br>loader1-2(JavaScriptSourceMap)<br>loaderloader  </p>\n<p>loader<br>  foo-loader==&gt;bar-loader<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">  loaders: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      test: <span class=\"regexp\">/\\.js/</span>,</span><br><span class=\"line\">      loaders: [</span><br><span class=\"line\">        <span class=\"string\">'bar-loader'</span>,</span><br><span class=\"line\">        <span class=\"string\">'foo-loader'</span></span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"weboacknodemodulesloader\"><a href=\"#weboacknodemodulesloader\" class=\"headerlink\" title=\"weboacknodemodulesloader\"></a>weboacknodemodulesloader</h4><p>config:<br>node_modules<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">resolveLoader: &#123;</span><br><span class=\"line\">    modules: [<span class=\"string\">'node_modules'</span>, path.resolve(__dirname, <span class=\"string\">'loaders'</span>)]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>pspath<br>loadernpm<br>myloaderloaders<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> resolveLoader:&#123;</span><br><span class=\"line\">    modules: [<span class=\"string\">'node_modules'</span>,<span class=\"string\">'loader'</span>]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Examples\"><a href=\"#Examples\" class=\"headerlink\" title=\"Examples\"></a>Examples</h2><p>loader<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">source,map</span>)</span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">this</span>.cacheable &amp;&amp; <span class=\"keyword\">this</span>.cacheable()</span><br><span class=\"line\"><span class=\"keyword\">this</span>.value = source</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"string\">'/*copy@ xiaoxiangdaiyu*/'</span>+<span class=\"built_in\">JSON</span>.stringify(source)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>loader<br>   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loadersloaderloader<br>js  </p>\n<p>html<br>loaderloader<br>taskloader  </p>\n<ul>\n<li>jade-loader: module   </li>\n<li>apply-loader: module  </li>\n<li>html-loade: htmlstring   </li>\n</ul>\n<h4 id=\"moulde\"><a href=\"#moulde\" class=\"headerlink\" title=\"moulde\"></a>moulde</h4><p>loadermodulemodule<br><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">\"any-template-language-loader!./xyz.atl\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> html = anyTemplateLanguage.render(<span class=\"string\">\"xyz\"</span>);</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"loader\"><a href=\"#loader\" class=\"headerlink\" title=\"loader\"></a>loader</h4><p>loaderscacheablecacheable<br>loader<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">// Cacheable identity loader</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">source</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.cacheable();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> source;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>loader   </li>\n<li>loader</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loader loader  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">\"path\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">source</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.cacheable();</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> callback = <span class=\"keyword\">this</span>.async();</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> headerPath = path.resolve(<span class=\"string\">\"header.js\"</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.addDependency(headerPath);</span><br><span class=\"line\">\tfs.readFile(headerPath, <span class=\"string\">\"utf-8\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err, header</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(err) <span class=\"keyword\">return</span> callback(err);</span><br><span class=\"line\">\t\tcallback(<span class=\"literal\">null</span>, header + <span class=\"string\">\"\\n\"</span> + source);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>css @import  url()  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>1require   </li>\n<li>2 this.resolve  </li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>1css-loader: requirerequire@import url()  </li>\n<li>2less-loader: css-loaderlessmixinslessthis.resolvemodulealiasing, custom module directories  </li>\n</ul>\n<p>urlscssurl(file) ./file~.<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url(file) -&gt; <span class=\"built_in\">require</span>(<span class=\"string\">\"./file\"</span>)</span><br><span class=\"line\">url(~<span class=\"built_in\">module</span>) -&gt; <span class=\"built_in\">require</span>(<span class=\"string\">\"module\"</span>)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>extract common code  <br>loaderruntime</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>hashloader-utils stringifyRequest<br><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"keyword\">var</span> loaderUtils = <span class=\"built_in\">require</span>(<span class=\"string\">\"loader-utils\"</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">\"var runtime = require(\"</span> +</span><br><span class=\"line\">  loaderUtils.stringifyRequest(<span class=\"keyword\">this</span>, <span class=\"string\">\"!\"</span> + <span class=\"built_in\">require</span>.resolve(<span class=\"string\">\"module/runtime\"</span>)) +</span><br><span class=\"line\"><span class=\"string\">\");\"</span>;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"peerDependencies\"><a href=\"#peerDependencies\" class=\"headerlink\" title=\"peerDependencies\"></a>peerDependencies</h4><p>peerDependencypackage.jsonloaderpeerDependencyloader  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loaderqueryless-loaderless-pluginloaderwebpackoptionsoptionloader</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     <span class=\"comment\">// webpack.config.js</span></span><br><span class=\"line\">    <span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">    lessLoader: &#123;</span><br><span class=\"line\">        lessPlugins: [</span><br><span class=\"line\">        <span class=\"keyword\">new</span> LessPluginCleanCSS(&#123;<span class=\"attr\">advanced</span>: <span class=\"literal\">true</span>&#125;)</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>webpack loader <a href=\"https://github.com/xiaoxiangdaiyu/w-loader\" target=\"_blank\" rel=\"noopener\">w-loader</a><br>   </p>\n","site":{"data":{}},"excerpt":"<h2 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h2><p>webpackwebpack<br><a href=\"http://www.cnblogs.com/pqjwyn/p/5380689.html\" target=\"_blank\" rel=\"noopener\">webpack</a> .<br>webpackcssloader<br>loader<br>","more":"</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loaderloader<br><a href=\"https://webpack.js.org/contribute/writing-a-loader/\" target=\"_blank\" rel=\"noopener\"></a><br>loader  </p>\n<h2 id=\"loader\"><a href=\"#loader\" class=\"headerlink\" title=\"loader\"></a>loader</h2><p>loadernode.  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loaderloader  </p>\n<p>loaderfunctionthis contextlaoder API   </p>\n<p>loaderreturn loaderthis.callback(err, values)errorthis.callbackloader  </p>\n<p>loader1-2stringbufferjsSourceMapjs    </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h4><p>loaderloader<br>loader1-2(JavaScriptSourceMap)<br>loaderloader  </p>\n<p>loader<br>  foo-loader==&gt;bar-loader<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">  loaders: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      test: <span class=\"regexp\">/\\.js/</span>,</span><br><span class=\"line\">      loaders: [</span><br><span class=\"line\">        <span class=\"string\">'bar-loader'</span>,</span><br><span class=\"line\">        <span class=\"string\">'foo-loader'</span></span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"weboacknodemodulesloader\"><a href=\"#weboacknodemodulesloader\" class=\"headerlink\" title=\"weboacknodemodulesloader\"></a>weboacknodemodulesloader</h4><p>config:<br>node_modules<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">resolveLoader: &#123;</span><br><span class=\"line\">    modules: [<span class=\"string\">'node_modules'</span>, path.resolve(__dirname, <span class=\"string\">'loaders'</span>)]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>pspath<br>loadernpm<br>myloaderloaders<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> resolveLoader:&#123;</span><br><span class=\"line\">    modules: [<span class=\"string\">'node_modules'</span>,<span class=\"string\">'loader'</span>]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Examples\"><a href=\"#Examples\" class=\"headerlink\" title=\"Examples\"></a>Examples</h2><p>loader<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">source,map</span>)</span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">this</span>.cacheable &amp;&amp; <span class=\"keyword\">this</span>.cacheable()</span><br><span class=\"line\"><span class=\"keyword\">this</span>.value = source</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"string\">'/*copy@ xiaoxiangdaiyu*/'</span>+<span class=\"built_in\">JSON</span>.stringify(source)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>loader<br>   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loadersloaderloader<br>js  </p>\n<p>html<br>loaderloader<br>taskloader  </p>\n<ul>\n<li>jade-loader: module   </li>\n<li>apply-loader: module  </li>\n<li>html-loade: htmlstring   </li>\n</ul>\n<h4 id=\"moulde\"><a href=\"#moulde\" class=\"headerlink\" title=\"moulde\"></a>moulde</h4><p>loadermodulemodule<br><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">\"any-template-language-loader!./xyz.atl\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> html = anyTemplateLanguage.render(<span class=\"string\">\"xyz\"</span>);</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"loader\"><a href=\"#loader\" class=\"headerlink\" title=\"loader\"></a>loader</h4><p>loaderscacheablecacheable<br>loader<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">// Cacheable identity loader</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">source</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.cacheable();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> source;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>loader   </li>\n<li>loader</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loader loader  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">\"path\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">source</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.cacheable();</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> callback = <span class=\"keyword\">this</span>.async();</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> headerPath = path.resolve(<span class=\"string\">\"header.js\"</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.addDependency(headerPath);</span><br><span class=\"line\">\tfs.readFile(headerPath, <span class=\"string\">\"utf-8\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err, header</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(err) <span class=\"keyword\">return</span> callback(err);</span><br><span class=\"line\">\t\tcallback(<span class=\"literal\">null</span>, header + <span class=\"string\">\"\\n\"</span> + source);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>css @import  url()  </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>1require   </li>\n<li>2 this.resolve  </li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>1css-loader: requirerequire@import url()  </li>\n<li>2less-loader: css-loaderlessmixinslessthis.resolvemodulealiasing, custom module directories  </li>\n</ul>\n<p>urlscssurl(file) ./file~.<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url(file) -&gt; <span class=\"built_in\">require</span>(<span class=\"string\">\"./file\"</span>)</span><br><span class=\"line\">url(~<span class=\"built_in\">module</span>) -&gt; <span class=\"built_in\">require</span>(<span class=\"string\">\"module\"</span>)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>extract common code  <br>loaderruntime</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>hashloader-utils stringifyRequest<br><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"keyword\">var</span> loaderUtils = <span class=\"built_in\">require</span>(<span class=\"string\">\"loader-utils\"</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">\"var runtime = require(\"</span> +</span><br><span class=\"line\">  loaderUtils.stringifyRequest(<span class=\"keyword\">this</span>, <span class=\"string\">\"!\"</span> + <span class=\"built_in\">require</span>.resolve(<span class=\"string\">\"module/runtime\"</span>)) +</span><br><span class=\"line\"><span class=\"string\">\");\"</span>;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"peerDependencies\"><a href=\"#peerDependencies\" class=\"headerlink\" title=\"peerDependencies\"></a>peerDependencies</h4><p>peerDependencypackage.jsonloaderpeerDependencyloader  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>loaderqueryless-loaderless-pluginloaderwebpackoptionsoptionloader</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     <span class=\"comment\">// webpack.config.js</span></span><br><span class=\"line\">    <span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">    lessLoader: &#123;</span><br><span class=\"line\">        lessPlugins: [</span><br><span class=\"line\">        <span class=\"keyword\">new</span> LessPluginCleanCSS(&#123;<span class=\"attr\">advanced</span>: <span class=\"literal\">true</span>&#125;)</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>webpack loader <a href=\"https://github.com/xiaoxiangdaiyu/w-loader\" target=\"_blank\" rel=\"noopener\">w-loader</a><br>   </p>"},{"title":"webpackcode splitting","date":"2018-01-26T02:55:57.000Z","_content":"webpack  \n<!-- more -->\nn  \n  \n code splitting \n## code splitting \n   \n\n   \n     \n   webpack\n## webpack   \nwebpack\n1. Entry Points: \n2. Prevent Duplication:\n3. Dynamic Imports: \n\n\n\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd777da3adc1?w=738&h=254&f=jpeg&s=19970)  \n\n(commonjs):  \n\n```js\n//a.js\nvar react = require('react')\nvar tool = require('./tool')\nvar b = require('./b')\nfunction load(){\n    b()\n    tool()\n    console.log('')\n}\nload()\n//b.js\nvar react = require('react')\nvar tool = require('./tool')\nfunction b(){\n    tool()\n    console.log('bjs')\n}\nmodule.exports = b;\n//tool.js\nvar react = require('react')\nfunction tool(){\n    console.log('tooljs')\n}\nmodule.exports = tool;\n```  \n\n:\n\n```js\nvar webpack = require('webpack');module.exports = {\n    entry: './codesplitting/c1/a.js',\n    output: {\n        path: __dirname,\n        filename: '/dist/index.js'\n    }\n    //*****\n}\n```\n2047,\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd777e941ac1?w=1280&h=402&f=png&s=119875)  \n\nreact  \n### Entry Points\n\nb.js:\n\n```js\n    entry: {\n        index:'./codesplitting/c1/a.js',\n        other:'./codesplitting/c1/b.js'\n    },\n    output: {\n        path: path.resolve(__dirname, './dist'),\n        filename: '[name].js'\n    }\n    //***\n```\na.js,b\n:\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd77812b0d89?w=1170&h=342&f=png&s=129329)  \n  \ndistreacttool.js  \n  \n  \n\n\n### Prevent Duplication  \nwebpack[CommonsChunkPlugin](https://webpack.js.org/plugins/commons-chunk-plugin/)\n\n```js\n{\n    //chunkcommon,string\n    //namenames\n    name:string,\n    names:[],\n    //\n    //'[name].js'\n    //name\n    filename:string,\n     //\n    //Infinity\n    minChunks:2  \n}\n```\nwebpackvendorcommon\n\n```js\nentry: {\n        index:'./codesplitting/c1/a.js',\n        other:'./codesplitting/c1/b.js',\n        //\n        vendor:['react'],\n        //common\n        common:['./codesplitting/c1/tool']\n    },\n    //***\n    plugins: [\n        new webpack.optimize.CommonsChunkPlugin({\n            names:[\"common\", \"vendor\"],\n            filename: \"[name].js\"\n        })  \n    ]\n```  \n\n\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd7786a1c7a1?w=958&h=266&f=png&s=95165)\n\nindexotherreact  \n  \n  \n### Dynamic Imports  \nwebpack   \n\n1)ECMAScriptimport()   \n\n2)webpack  require.ensure   \n\n(babel...),ajsdi.js  \n\n```js\n    //,\n    if(true){\n        require.ensure([],function(require){\n            var di = require('./di')\n        })\n    }\n    //js\n    function di(){\n        tool()\n        console.log('')\n    }\n    module.exports = di;\n```\n2.2.js,di.js\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd77c0c64a7d?w=1086&h=266&f=png&s=94861)\n\n(dev server)\nindex.js\n\n```js\n      var react = __webpack_require__(2)\n\t   var tool = __webpack_require__(1)  \n\t   /****8*****/\n      //\n\t    if(true){\n\t        __webpack_require__.e/* nsure */(2, function(require){\n\t            var di = __webpack_require__(13)\n\t        })\n\t    }\n```\n\nrequire,require.ensure __webpack_require__.e\n\n```js  \n   \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n\t\t// \"0\" is the signal for \"already loaded\"\n\t\tif(installedChunks[chunkId] === 0)\n\t\t\treturn callback.call(null, __webpack_require__);\n\n\t\t// an array means \"currently loading\".\n\t\tif(installedChunks[chunkId] !== undefined) {\n\t\t\tinstalledChunks[chunkId].push(callback);\n\t\t} else {\n\t\t\t// start chunk loading\n\t\t\tinstalledChunks[chunkId] = [callback];\n\t\t\tvar head = document.getElementsByTagName('head')[0];\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.type = 'text/javascript';\n\t\t\tscript.charset = 'utf-8';\n\t\t\tscript.async = true;\n\n\t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"0\":\"common\",\"1\":\"index\",\"3\":\"other\"}[chunkId]||chunkId) + \".js\";\n\t\t\thead.appendChild(script);\n\t\t}\n\t};\n```  \nscriptscript\n#### \n[github](https://github.com/xiaoxiangdaiyu/webpack_demo/tree/master/codesplitting)","source":"_posts/webpack/code-splitting.md","raw":"---\ntitle: webpackcode splitting\ndate: 2018-01-26 10:55:57\ntags: webpack\n---\nwebpack  \n<!-- more -->\nn  \n  \n code splitting \n## code splitting \n   \n\n   \n     \n   webpack\n## webpack   \nwebpack\n1. Entry Points: \n2. Prevent Duplication:\n3. Dynamic Imports: \n\n\n\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd777da3adc1?w=738&h=254&f=jpeg&s=19970)  \n\n(commonjs):  \n\n```js\n//a.js\nvar react = require('react')\nvar tool = require('./tool')\nvar b = require('./b')\nfunction load(){\n    b()\n    tool()\n    console.log('')\n}\nload()\n//b.js\nvar react = require('react')\nvar tool = require('./tool')\nfunction b(){\n    tool()\n    console.log('bjs')\n}\nmodule.exports = b;\n//tool.js\nvar react = require('react')\nfunction tool(){\n    console.log('tooljs')\n}\nmodule.exports = tool;\n```  \n\n:\n\n```js\nvar webpack = require('webpack');module.exports = {\n    entry: './codesplitting/c1/a.js',\n    output: {\n        path: __dirname,\n        filename: '/dist/index.js'\n    }\n    //*****\n}\n```\n2047,\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd777e941ac1?w=1280&h=402&f=png&s=119875)  \n\nreact  \n### Entry Points\n\nb.js:\n\n```js\n    entry: {\n        index:'./codesplitting/c1/a.js',\n        other:'./codesplitting/c1/b.js'\n    },\n    output: {\n        path: path.resolve(__dirname, './dist'),\n        filename: '[name].js'\n    }\n    //***\n```\na.js,b\n:\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd77812b0d89?w=1170&h=342&f=png&s=129329)  \n  \ndistreacttool.js  \n  \n  \n\n\n### Prevent Duplication  \nwebpack[CommonsChunkPlugin](https://webpack.js.org/plugins/commons-chunk-plugin/)\n\n```js\n{\n    //chunkcommon,string\n    //namenames\n    name:string,\n    names:[],\n    //\n    //'[name].js'\n    //name\n    filename:string,\n     //\n    //Infinity\n    minChunks:2  \n}\n```\nwebpackvendorcommon\n\n```js\nentry: {\n        index:'./codesplitting/c1/a.js',\n        other:'./codesplitting/c1/b.js',\n        //\n        vendor:['react'],\n        //common\n        common:['./codesplitting/c1/tool']\n    },\n    //***\n    plugins: [\n        new webpack.optimize.CommonsChunkPlugin({\n            names:[\"common\", \"vendor\"],\n            filename: \"[name].js\"\n        })  \n    ]\n```  \n\n\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd7786a1c7a1?w=958&h=266&f=png&s=95165)\n\nindexotherreact  \n  \n  \n### Dynamic Imports  \nwebpack   \n\n1)ECMAScriptimport()   \n\n2)webpack  require.ensure   \n\n(babel...),ajsdi.js  \n\n```js\n    //,\n    if(true){\n        require.ensure([],function(require){\n            var di = require('./di')\n        })\n    }\n    //js\n    function di(){\n        tool()\n        console.log('')\n    }\n    module.exports = di;\n```\n2.2.js,di.js\n![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd77c0c64a7d?w=1086&h=266&f=png&s=94861)\n\n(dev server)\nindex.js\n\n```js\n      var react = __webpack_require__(2)\n\t   var tool = __webpack_require__(1)  \n\t   /****8*****/\n      //\n\t    if(true){\n\t        __webpack_require__.e/* nsure */(2, function(require){\n\t            var di = __webpack_require__(13)\n\t        })\n\t    }\n```\n\nrequire,require.ensure __webpack_require__.e\n\n```js  \n   \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n\t\t// \"0\" is the signal for \"already loaded\"\n\t\tif(installedChunks[chunkId] === 0)\n\t\t\treturn callback.call(null, __webpack_require__);\n\n\t\t// an array means \"currently loading\".\n\t\tif(installedChunks[chunkId] !== undefined) {\n\t\t\tinstalledChunks[chunkId].push(callback);\n\t\t} else {\n\t\t\t// start chunk loading\n\t\t\tinstalledChunks[chunkId] = [callback];\n\t\t\tvar head = document.getElementsByTagName('head')[0];\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.type = 'text/javascript';\n\t\t\tscript.charset = 'utf-8';\n\t\t\tscript.async = true;\n\n\t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"0\":\"common\",\"1\":\"index\",\"3\":\"other\"}[chunkId]||chunkId) + \".js\";\n\t\t\thead.appendChild(script);\n\t\t}\n\t};\n```  \nscriptscript\n#### \n[github](https://github.com/xiaoxiangdaiyu/webpack_demo/tree/master/codesplitting)","slug":"webpack/code-splitting","published":1,"updated":"2018-01-26T05:01:56.646Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7dnw000dnl92kx25xek3","content":"<p>webpack<br><a id=\"more\"></a><br>n<br><br> code splitting </p>\n<h2 id=\"code-splitting\"><a href=\"#code-splitting\" class=\"headerlink\" title=\"code splitting\"></a>code splitting</h2><p><br></p>\n<p>   <br>   webpack</p>\n<h2 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h2><p>webpack</p>\n<ol>\n<li>Entry Points: </li>\n<li>Prevent Duplication:</li>\n<li>Dynamic Imports:<br></li>\n</ol>\n<p><br><img src=\"https://user-gold-cdn.xitu.io/2018/1/25/1612dd777da3adc1?w=738&amp;h=254&amp;f=jpeg&amp;s=19970\" alt=\"\">  </p>\n<p>(commonjs):  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//a.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> react = <span class=\"built_in\">require</span>(<span class=\"string\">'react'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> tool = <span class=\"built_in\">require</span>(<span class=\"string\">'./tool'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"built_in\">require</span>(<span class=\"string\">'./b'</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">load</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    b()</span><br><span class=\"line\">    tool()</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">load()</span><br><span class=\"line\"><span class=\"comment\">//b.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> react = <span class=\"built_in\">require</span>(<span class=\"string\">'react'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> tool = <span class=\"built_in\">require</span>(<span class=\"string\">'./tool'</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">b</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    tool()</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'bjs'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = b;</span><br><span class=\"line\"><span class=\"comment\">//tool.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> react = <span class=\"built_in\">require</span>(<span class=\"string\">'react'</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tool</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'tooljs'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = tool;</span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`  </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">:</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span>js</span><br><span class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);<span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">    entry: <span class=\"string\">'./codesplitting/c1/a.js'</span>,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: __dirname,</span><br><span class=\"line\">        filename: <span class=\"string\">'/dist/index.js'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//*****</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>2047,<br><img src=\"https://user-gold-cdn.xitu.io/2018/1/25/1612dd777e941ac1?w=1280&amp;h=402&amp;f=png&amp;s=119875\" alt=\"\">  </p>\n<p>react  </p>\n<h3 id=\"Entry-Points\"><a href=\"#Entry-Points\" class=\"headerlink\" title=\"Entry Points\"></a>Entry Points</h3><p>b.js:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">entry: &#123;</span><br><span class=\"line\">    index:<span class=\"string\">'./codesplitting/c1/a.js'</span>,</span><br><span class=\"line\">    other:<span class=\"string\">'./codesplitting/c1/b.js'</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">output: &#123;</span><br><span class=\"line\">    path: path.resolve(__dirname, <span class=\"string\">'./dist'</span>),</span><br><span class=\"line\">    filename: <span class=\"string\">'[name].js'</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//***</span></span><br></pre></td></tr></table></figure>\n<p>a.js,b<br>:<br><img src=\"https://user-gold-cdn.xitu.io/2018/1/25/1612dd77812b0d89?w=1170&amp;h=342&amp;f=png&amp;s=129329\" alt=\"\"><br><br>distreacttool.js<br><br><br></p>\n<h3 id=\"Prevent-Duplication\"><a href=\"#Prevent-Duplication\" class=\"headerlink\" title=\"Prevent Duplication\"></a>Prevent Duplication</h3><p>webpack<a href=\"https://webpack.js.org/plugins/commons-chunk-plugin/\" target=\"_blank\" rel=\"noopener\">CommonsChunkPlugin</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//chunkcommon,string</span></span><br><span class=\"line\">    <span class=\"comment\">//namenames</span></span><br><span class=\"line\">    name:string,</span><br><span class=\"line\">    names:[],</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">//'[name].js'</span></span><br><span class=\"line\">    <span class=\"comment\">//name</span></span><br><span class=\"line\">    filename:string,</span><br><span class=\"line\">     <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">//Infinity</span></span><br><span class=\"line\">    minChunks:<span class=\"number\">2</span>  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>webpackvendorcommon</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">entry: &#123;</span><br><span class=\"line\">        index:<span class=\"string\">'./codesplitting/c1/a.js'</span>,</span><br><span class=\"line\">        other:<span class=\"string\">'./codesplitting/c1/b.js'</span>,</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        vendor:[<span class=\"string\">'react'</span>],</span><br><span class=\"line\">        <span class=\"comment\">//common</span></span><br><span class=\"line\">        common:[<span class=\"string\">'./codesplitting/c1/tool'</span>]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">//***</span></span><br><span class=\"line\">    plugins: [</span><br><span class=\"line\">        <span class=\"keyword\">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class=\"line\">            names:[<span class=\"string\">\"common\"</span>, <span class=\"string\">\"vendor\"</span>],</span><br><span class=\"line\">            filename: <span class=\"string\">\"[name].js\"</span></span><br><span class=\"line\">        &#125;)  </span><br><span class=\"line\">    ]</span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`  </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd7786a1c7a1?w=958&amp;h=266&amp;f=png&amp;s=95165)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">indexotherreact  </span></span><br><span class=\"line\"><span class=\"string\">  </span></span><br><span class=\"line\"><span class=\"string\">  </span></span><br><span class=\"line\"><span class=\"string\">### Dynamic Imports  </span></span><br><span class=\"line\"><span class=\"string\">webpack   </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">1)ECMAScriptimport()   </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">2)webpack  require.ensure   </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">(babel...),ajsdi.js  </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span>js</span><br><span class=\"line\">    <span class=\"comment\">//,</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">require</span>.ensure([],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">require</span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> di = <span class=\"built_in\">require</span>(<span class=\"string\">'./di'</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//js</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">di</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        tool()</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">module</span>.exports = di;</span><br></pre></td></tr></table></figure>\n<p>2.2.js,di.js<br><img src=\"https://user-gold-cdn.xitu.io/2018/1/25/1612dd77c0c64a7d?w=1086&amp;h=266&amp;f=png&amp;s=94861\" alt=\"\"></p>\n<p>(dev server)<br>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"keyword\">var</span> react = __webpack_require__(<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> tool = __webpack_require__(<span class=\"number\">1</span>)  </span><br><span class=\"line\"><span class=\"comment\">/****8*****/</span></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\"> <span class=\"keyword\">if</span>(<span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\">     __webpack_require__.e<span class=\"comment\">/* nsure */</span>(<span class=\"number\">2</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">require</span>)</span>&#123;</span><br><span class=\"line\">         <span class=\"keyword\">var</span> di = __webpack_require__(<span class=\"number\">13</span>)</span><br><span class=\"line\">     &#125;)</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<p>require,require.ensure <strong>webpack_require</strong>.e</p>\n<pre><code class=\"js\">   __webpack_require__.e = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">requireEnsure</span>(<span class=\"params\">chunkId, callback</span>) </span>{\n    <span class=\"comment\">// \"0\" is the signal for \"already loaded\"</span>\n    <span class=\"keyword\">if</span>(installedChunks[chunkId] === <span class=\"number\">0</span>)\n        <span class=\"keyword\">return</span> callback.call(<span class=\"literal\">null</span>, __webpack_require__);\n\n    <span class=\"comment\">// an array means \"currently loading\".</span>\n    <span class=\"keyword\">if</span>(installedChunks[chunkId] !== <span class=\"literal\">undefined</span>) {\n        installedChunks[chunkId].push(callback);\n    } <span class=\"keyword\">else</span> {\n        <span class=\"comment\">// start chunk loading</span>\n        installedChunks[chunkId] = [callback];\n        <span class=\"keyword\">var</span> head = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">'head'</span>)[<span class=\"number\">0</span>];\n        <span class=\"keyword\">var</span> script = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'script'</span>);\n        script.type = <span class=\"string\">'text/javascript'</span>;\n        script.charset = <span class=\"string\">'utf-8'</span>;\n        script.async = <span class=\"literal\">true</span>;\n\n        script.src = __webpack_require__.p + <span class=\"string\">\"\"</span> + chunkId + <span class=\"string\">\".\"</span> + ({<span class=\"string\">\"0\"</span>:<span class=\"string\">\"common\"</span>,<span class=\"string\">\"1\"</span>:<span class=\"string\">\"index\"</span>,<span class=\"string\">\"3\"</span>:<span class=\"string\">\"other\"</span>}[chunkId]||chunkId) + <span class=\"string\">\".js\"</span>;\n        head.appendChild(script);\n    }\n};\n</code></pre>\n<p>scriptscript</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://github.com/xiaoxiangdaiyu/webpack_demo/tree/master/codesplitting\" target=\"_blank\" rel=\"noopener\">github</a></p>\n","site":{"data":{}},"excerpt":"<p>webpack<br>","more":"<br>n<br><br> code splitting </p>\n<h2 id=\"code-splitting\"><a href=\"#code-splitting\" class=\"headerlink\" title=\"code splitting\"></a>code splitting</h2><p><br></p>\n<p>   <br>   webpack</p>\n<h2 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h2><p>webpack</p>\n<ol>\n<li>Entry Points: </li>\n<li>Prevent Duplication:</li>\n<li>Dynamic Imports:<br></li>\n</ol>\n<p><br><img src=\"https://user-gold-cdn.xitu.io/2018/1/25/1612dd777da3adc1?w=738&amp;h=254&amp;f=jpeg&amp;s=19970\" alt=\"\">  </p>\n<p>(commonjs):  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//a.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> react = <span class=\"built_in\">require</span>(<span class=\"string\">'react'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> tool = <span class=\"built_in\">require</span>(<span class=\"string\">'./tool'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"built_in\">require</span>(<span class=\"string\">'./b'</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">load</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    b()</span><br><span class=\"line\">    tool()</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">load()</span><br><span class=\"line\"><span class=\"comment\">//b.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> react = <span class=\"built_in\">require</span>(<span class=\"string\">'react'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> tool = <span class=\"built_in\">require</span>(<span class=\"string\">'./tool'</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">b</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    tool()</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'bjs'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = b;</span><br><span class=\"line\"><span class=\"comment\">//tool.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> react = <span class=\"built_in\">require</span>(<span class=\"string\">'react'</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tool</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'tooljs'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = tool;</span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`  </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">:</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span>js</span><br><span class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);<span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">    entry: <span class=\"string\">'./codesplitting/c1/a.js'</span>,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: __dirname,</span><br><span class=\"line\">        filename: <span class=\"string\">'/dist/index.js'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//*****</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>2047,<br><img src=\"https://user-gold-cdn.xitu.io/2018/1/25/1612dd777e941ac1?w=1280&amp;h=402&amp;f=png&amp;s=119875\" alt=\"\">  </p>\n<p>react  </p>\n<h3 id=\"Entry-Points\"><a href=\"#Entry-Points\" class=\"headerlink\" title=\"Entry Points\"></a>Entry Points</h3><p>b.js:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">entry: &#123;</span><br><span class=\"line\">    index:<span class=\"string\">'./codesplitting/c1/a.js'</span>,</span><br><span class=\"line\">    other:<span class=\"string\">'./codesplitting/c1/b.js'</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">output: &#123;</span><br><span class=\"line\">    path: path.resolve(__dirname, <span class=\"string\">'./dist'</span>),</span><br><span class=\"line\">    filename: <span class=\"string\">'[name].js'</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//***</span></span><br></pre></td></tr></table></figure>\n<p>a.js,b<br>:<br><img src=\"https://user-gold-cdn.xitu.io/2018/1/25/1612dd77812b0d89?w=1170&amp;h=342&amp;f=png&amp;s=129329\" alt=\"\"><br><br>distreacttool.js<br><br><br></p>\n<h3 id=\"Prevent-Duplication\"><a href=\"#Prevent-Duplication\" class=\"headerlink\" title=\"Prevent Duplication\"></a>Prevent Duplication</h3><p>webpack<a href=\"https://webpack.js.org/plugins/commons-chunk-plugin/\" target=\"_blank\" rel=\"noopener\">CommonsChunkPlugin</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//chunkcommon,string</span></span><br><span class=\"line\">    <span class=\"comment\">//namenames</span></span><br><span class=\"line\">    name:string,</span><br><span class=\"line\">    names:[],</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">//'[name].js'</span></span><br><span class=\"line\">    <span class=\"comment\">//name</span></span><br><span class=\"line\">    filename:string,</span><br><span class=\"line\">     <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">//Infinity</span></span><br><span class=\"line\">    minChunks:<span class=\"number\">2</span>  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>webpackvendorcommon</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">entry: &#123;</span><br><span class=\"line\">        index:<span class=\"string\">'./codesplitting/c1/a.js'</span>,</span><br><span class=\"line\">        other:<span class=\"string\">'./codesplitting/c1/b.js'</span>,</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        vendor:[<span class=\"string\">'react'</span>],</span><br><span class=\"line\">        <span class=\"comment\">//common</span></span><br><span class=\"line\">        common:[<span class=\"string\">'./codesplitting/c1/tool'</span>]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">//***</span></span><br><span class=\"line\">    plugins: [</span><br><span class=\"line\">        <span class=\"keyword\">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class=\"line\">            names:[<span class=\"string\">\"common\"</span>, <span class=\"string\">\"vendor\"</span>],</span><br><span class=\"line\">            filename: <span class=\"string\">\"[name].js\"</span></span><br><span class=\"line\">        &#125;)  </span><br><span class=\"line\">    ]</span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`  </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">![](https://user-gold-cdn.xitu.io/2018/1/25/1612dd7786a1c7a1?w=958&amp;h=266&amp;f=png&amp;s=95165)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">indexotherreact  </span></span><br><span class=\"line\"><span class=\"string\">  </span></span><br><span class=\"line\"><span class=\"string\">  </span></span><br><span class=\"line\"><span class=\"string\">### Dynamic Imports  </span></span><br><span class=\"line\"><span class=\"string\">webpack   </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">1)ECMAScriptimport()   </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">2)webpack  require.ensure   </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">(babel...),ajsdi.js  </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span>js</span><br><span class=\"line\">    <span class=\"comment\">//,</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">require</span>.ensure([],<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">require</span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> di = <span class=\"built_in\">require</span>(<span class=\"string\">'./di'</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//js</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">di</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        tool()</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">module</span>.exports = di;</span><br></pre></td></tr></table></figure>\n<p>2.2.js,di.js<br><img src=\"https://user-gold-cdn.xitu.io/2018/1/25/1612dd77c0c64a7d?w=1086&amp;h=266&amp;f=png&amp;s=94861\" alt=\"\"></p>\n<p>(dev server)<br>index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"keyword\">var</span> react = __webpack_require__(<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> tool = __webpack_require__(<span class=\"number\">1</span>)  </span><br><span class=\"line\"><span class=\"comment\">/****8*****/</span></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\"> <span class=\"keyword\">if</span>(<span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\">     __webpack_require__.e<span class=\"comment\">/* nsure */</span>(<span class=\"number\">2</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">require</span>)</span>&#123;</span><br><span class=\"line\">         <span class=\"keyword\">var</span> di = __webpack_require__(<span class=\"number\">13</span>)</span><br><span class=\"line\">     &#125;)</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<p>require,require.ensure <strong>webpack_require</strong>.e</p>\n<pre><code class=\"js\">   __webpack_require__.e = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">requireEnsure</span>(<span class=\"params\">chunkId, callback</span>) </span>{\n    <span class=\"comment\">// \"0\" is the signal for \"already loaded\"</span>\n    <span class=\"keyword\">if</span>(installedChunks[chunkId] === <span class=\"number\">0</span>)\n        <span class=\"keyword\">return</span> callback.call(<span class=\"literal\">null</span>, __webpack_require__);\n\n    <span class=\"comment\">// an array means \"currently loading\".</span>\n    <span class=\"keyword\">if</span>(installedChunks[chunkId] !== <span class=\"literal\">undefined</span>) {\n        installedChunks[chunkId].push(callback);\n    } <span class=\"keyword\">else</span> {\n        <span class=\"comment\">// start chunk loading</span>\n        installedChunks[chunkId] = [callback];\n        <span class=\"keyword\">var</span> head = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">'head'</span>)[<span class=\"number\">0</span>];\n        <span class=\"keyword\">var</span> script = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'script'</span>);\n        script.type = <span class=\"string\">'text/javascript'</span>;\n        script.charset = <span class=\"string\">'utf-8'</span>;\n        script.async = <span class=\"literal\">true</span>;\n\n        script.src = __webpack_require__.p + <span class=\"string\">\"\"</span> + chunkId + <span class=\"string\">\".\"</span> + ({<span class=\"string\">\"0\"</span>:<span class=\"string\">\"common\"</span>,<span class=\"string\">\"1\"</span>:<span class=\"string\">\"index\"</span>,<span class=\"string\">\"3\"</span>:<span class=\"string\">\"other\"</span>}[chunkId]||chunkId) + <span class=\"string\">\".js\"</span>;\n        head.appendChild(script);\n    }\n};\n</code></pre>\n<p>scriptscript</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://github.com/xiaoxiangdaiyu/webpack_demo/tree/master/codesplitting\" target=\"_blank\" rel=\"noopener\">github</a></p>"},{"title":"webpack plugin","date":"2017-10-22T16:00:00.000Z","_content":"[webpack loader](https://github.com/xiaoxiangdaiyu/w-loader/blob/master/loader/DOC.md) webpackplugin  \nloader[](https://webpack.js.org/contribute/writing-a-plugin/)  \n<!-- more -->\n## loaderplugin   \n\n*  loader : webpackjsloader loaderloader   \n*  pluginloaderswebpackloaderplugin\n   \n\n## plugin  \n\nwebpackbuildwebpackloaderswebpack       \n\n##    \n\nwebpack  \n* js   \n* apply  \n* webpack  \n* webpack  \n* webpack\n```js\n// A named JavaScript function.\nfunction MyExampleWebpackPlugin() {\n   //\n};\n// Defines `apply` method in it's prototype.\nMyExampleWebpackPlugin.prototype.apply = function(compiler) {\n  // Specifies webpack's event hook to attach itself.\n  compiler.plugin('webpacksEventHook', function(compilation /* Manipulates webpack internal instance specific data. */, callback) {\n    console.log(\"This is an example plugin!!!\");\n    // Invokes webpack provided callback after functionality is complete.\n    callback();\n  });\n};    \n```\n##      \n\ncompiler compilationwebpack   \n\nwebpackwebpackoptionsloaderspluginswebpackwebpack\n\ncompilationwebpack compilationcompilation   \n\nwebpack (compilation)   \n* [Compiler Source](https://github.com/webpack/webpack/blob/master/lib/Compiler.js)  \n* [Compilation Source](https://github.com/webpack/webpack/blob/master/lib/Compilation.js)   \n\n##    \n\napplyapplywebpackapplywebpack compilercompiler  \n \n```js\nfunction HelloWorldPlugin(options) {\n  // Setup the plugin instance with options...\n}\n\nHelloWorldPlugin.prototype.apply = function(compiler) {\n  compiler.plugin('done', function() {\n    console.log('Hello World!');\n  });\n};\n\nmodule.exports = HelloWorldPlugin;   \n```\n webpack config plugins   \n\n```js\nvar HelloWorldPlugin = require('hello-world');\n\nvar webpackConfig = {\n  // ... config settings here ...\n  plugins: [\n    new HelloWorldPlugin({options: true})\n  ]\n};\n```\n##     \n\ncompilationcompilations   \n\n```js\nfunction HelloCompilationPlugin(options) {}\n\nHelloCompilationPlugin.prototype.apply = function(compiler) {\n\n  // Setup callback for accessing a compilation:\n  compiler.plugin(\"compilation\", function(compilation) {\n\n    // Now setup callbacks for accessing compilation steps:\n    compilation.plugin(\"optimize\", function() {\n      console.log(\"Assets are being optimized.\");\n    });\n  });\n};\n\nmodule.exports = HelloCompilationPlugin;\n```\n[plugin](https://doc.webpack-china.org/api/plugins/) \n\n##     \n\n\n\n```js\nfunction HelloAsyncPlugin(options) {}\n\nHelloAsyncPlugin.prototype.apply = function(compiler) {\n  compiler.plugin(\"emit\", function(compilation, callback) {\n\n    // Do something async...\n    setTimeout(function() {\n      console.log(\"Done with async work...\");\n      callback();\n    }, 1000);\n\n  });\n};\n\nmodule.exports = HelloAsyncPlugin;\n```\n##   \n\nwebpack  \n\nfilelist.md\n \n```js\nfunction FileListPlugin(options) {}\n\nFileListPlugin.prototype.apply = function(compiler) {\n  compiler.plugin('emit', function(compilation, callback) {\n    // Create a header string for the generated file:\n    var filelist = 'In this build:\\n\\n';\n\n    // Loop through all compiled assets,\n    // adding a new line item for each filename.\n    for (var filename in compilation.assets) {\n      filelist += ('- '+ filename +'\\n');\n    }\n\n    // Insert this list into the webpack build as a new file asset:\n    compilation.assets['filelist.md'] = {\n      source: function() {\n        return filelist;\n      },\n      size: function() {\n        return filelist.length;\n      }\n    };\n\n    callback();\n  });\n};\n\nmodule.exports = FileListPlugin;\n```\n##    \n\n  \n\n####  \n\n  \n```js\napplyPlugins(name: string, args: any...)\n\napplyPluginsBailResult(name: string, args: any...)  \n```\nargs\"compile\", \"this-compilation\"  \n\n####  \n\nwaterfall Plugins   \n```js\napplyPluginsWaterfall(name: string, init: any, args: any...)\n```\n####    \n\n\n```js\napplyPluginsAsync(name: string, args: any..., callback: (err?: Error) -> void)\n```\nargs(err?: Error) -> voidhandlerhandlers\"emit\", \"run\"\n\n####     \n\n  \n\n```js\napplyPluginsAsyncWaterfall(name: string, init: any, callback: (err: Error, result: any) -> void)\n```\nhandlervalue(err?: Error) -> voidnextValuehandlerhandlerinithandlerhandlererrerrhandler\"before-resolve\" and \"after-resolve\"   \n\n####   \n\n   \n```js\napplyPluginsAsyncSeries(name: string, args: any..., callback: (err: Error, result: any) -> void)\n```\n####    \nwebpack plugin [w-loader](https://github.com/xiaoxiangdaiyu/w-loader)   \n   ","source":"_posts/webpack/plugin.md","raw":"---\ntitle: webpack plugin\ndate: 2017-10-23\n---\n[webpack loader](https://github.com/xiaoxiangdaiyu/w-loader/blob/master/loader/DOC.md) webpackplugin  \nloader[](https://webpack.js.org/contribute/writing-a-plugin/)  \n<!-- more -->\n## loaderplugin   \n\n*  loader : webpackjsloader loaderloader   \n*  pluginloaderswebpackloaderplugin\n   \n\n## plugin  \n\nwebpackbuildwebpackloaderswebpack       \n\n##    \n\nwebpack  \n* js   \n* apply  \n* webpack  \n* webpack  \n* webpack\n```js\n// A named JavaScript function.\nfunction MyExampleWebpackPlugin() {\n   //\n};\n// Defines `apply` method in it's prototype.\nMyExampleWebpackPlugin.prototype.apply = function(compiler) {\n  // Specifies webpack's event hook to attach itself.\n  compiler.plugin('webpacksEventHook', function(compilation /* Manipulates webpack internal instance specific data. */, callback) {\n    console.log(\"This is an example plugin!!!\");\n    // Invokes webpack provided callback after functionality is complete.\n    callback();\n  });\n};    \n```\n##      \n\ncompiler compilationwebpack   \n\nwebpackwebpackoptionsloaderspluginswebpackwebpack\n\ncompilationwebpack compilationcompilation   \n\nwebpack (compilation)   \n* [Compiler Source](https://github.com/webpack/webpack/blob/master/lib/Compiler.js)  \n* [Compilation Source](https://github.com/webpack/webpack/blob/master/lib/Compilation.js)   \n\n##    \n\napplyapplywebpackapplywebpack compilercompiler  \n \n```js\nfunction HelloWorldPlugin(options) {\n  // Setup the plugin instance with options...\n}\n\nHelloWorldPlugin.prototype.apply = function(compiler) {\n  compiler.plugin('done', function() {\n    console.log('Hello World!');\n  });\n};\n\nmodule.exports = HelloWorldPlugin;   \n```\n webpack config plugins   \n\n```js\nvar HelloWorldPlugin = require('hello-world');\n\nvar webpackConfig = {\n  // ... config settings here ...\n  plugins: [\n    new HelloWorldPlugin({options: true})\n  ]\n};\n```\n##     \n\ncompilationcompilations   \n\n```js\nfunction HelloCompilationPlugin(options) {}\n\nHelloCompilationPlugin.prototype.apply = function(compiler) {\n\n  // Setup callback for accessing a compilation:\n  compiler.plugin(\"compilation\", function(compilation) {\n\n    // Now setup callbacks for accessing compilation steps:\n    compilation.plugin(\"optimize\", function() {\n      console.log(\"Assets are being optimized.\");\n    });\n  });\n};\n\nmodule.exports = HelloCompilationPlugin;\n```\n[plugin](https://doc.webpack-china.org/api/plugins/) \n\n##     \n\n\n\n```js\nfunction HelloAsyncPlugin(options) {}\n\nHelloAsyncPlugin.prototype.apply = function(compiler) {\n  compiler.plugin(\"emit\", function(compilation, callback) {\n\n    // Do something async...\n    setTimeout(function() {\n      console.log(\"Done with async work...\");\n      callback();\n    }, 1000);\n\n  });\n};\n\nmodule.exports = HelloAsyncPlugin;\n```\n##   \n\nwebpack  \n\nfilelist.md\n \n```js\nfunction FileListPlugin(options) {}\n\nFileListPlugin.prototype.apply = function(compiler) {\n  compiler.plugin('emit', function(compilation, callback) {\n    // Create a header string for the generated file:\n    var filelist = 'In this build:\\n\\n';\n\n    // Loop through all compiled assets,\n    // adding a new line item for each filename.\n    for (var filename in compilation.assets) {\n      filelist += ('- '+ filename +'\\n');\n    }\n\n    // Insert this list into the webpack build as a new file asset:\n    compilation.assets['filelist.md'] = {\n      source: function() {\n        return filelist;\n      },\n      size: function() {\n        return filelist.length;\n      }\n    };\n\n    callback();\n  });\n};\n\nmodule.exports = FileListPlugin;\n```\n##    \n\n  \n\n####  \n\n  \n```js\napplyPlugins(name: string, args: any...)\n\napplyPluginsBailResult(name: string, args: any...)  \n```\nargs\"compile\", \"this-compilation\"  \n\n####  \n\nwaterfall Plugins   \n```js\napplyPluginsWaterfall(name: string, init: any, args: any...)\n```\n####    \n\n\n```js\napplyPluginsAsync(name: string, args: any..., callback: (err?: Error) -> void)\n```\nargs(err?: Error) -> voidhandlerhandlers\"emit\", \"run\"\n\n####     \n\n  \n\n```js\napplyPluginsAsyncWaterfall(name: string, init: any, callback: (err: Error, result: any) -> void)\n```\nhandlervalue(err?: Error) -> voidnextValuehandlerhandlerinithandlerhandlererrerrhandler\"before-resolve\" and \"after-resolve\"   \n\n####   \n\n   \n```js\napplyPluginsAsyncSeries(name: string, args: any..., callback: (err: Error, result: any) -> void)\n```\n####    \nwebpack plugin [w-loader](https://github.com/xiaoxiangdaiyu/w-loader)   \n   ","slug":"webpack/plugin","published":1,"updated":"2017-12-15T13:05:18.713Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7do0000enl92htk29nko","content":"<p><a href=\"https://github.com/xiaoxiangdaiyu/w-loader/blob/master/loader/DOC.md\" target=\"_blank\" rel=\"noopener\">webpack loader</a> webpackplugin<br>loader<a href=\"https://webpack.js.org/contribute/writing-a-plugin/\" target=\"_blank\" rel=\"noopener\"></a><br><a id=\"more\"></a></p>\n<h2 id=\"loaderplugin\"><a href=\"#loaderplugin\" class=\"headerlink\" title=\"loaderplugin\"></a>loaderplugin</h2><ul>\n<li>loader : webpackjsloader loaderloader   </li>\n<li>pluginloaderswebpackloaderplugin</li>\n</ul>\n<h2 id=\"plugin\"><a href=\"#plugin\" class=\"headerlink\" title=\"plugin\"></a>plugin</h2><p>webpackbuildwebpackloaderswebpack       </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>webpack  </p>\n<ul>\n<li>js   </li>\n<li>apply  </li>\n<li>webpack  </li>\n<li>webpack  </li>\n<li>webpack<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// A named JavaScript function.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyExampleWebpackPlugin</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">//</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// Defines `apply` method in it's prototype.</span></span><br><span class=\"line\">MyExampleWebpackPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Specifies webpack's event hook to attach itself.</span></span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">'webpacksEventHook'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compilation <span class=\"regexp\">/* Manipulates webpack internal instance specific data. */</span>, callback</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"This is an example plugin!!!\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">// Invokes webpack provided callback after functionality is complete.</span></span><br><span class=\"line\">    callback();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>compiler compilationwebpack   </p>\n<p>webpackwebpackoptionsloaderspluginswebpackwebpack</p>\n<p>compilationwebpack compilationcompilation   </p>\n<p>webpack (compilation)   </p>\n<ul>\n<li><a href=\"https://github.com/webpack/webpack/blob/master/lib/Compiler.js\" target=\"_blank\" rel=\"noopener\">Compiler Source</a>  </li>\n<li><a href=\"https://github.com/webpack/webpack/blob/master/lib/Compilation.js\" target=\"_blank\" rel=\"noopener\">Compilation Source</a>   </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>applyapplywebpackapplywebpack compilercompiler  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">HelloWorldPlugin</span>(<span class=\"params\">options</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Setup the plugin instance with options...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">HelloWorldPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">'done'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Hello World!'</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = HelloWorldPlugin;</span><br></pre></td></tr></table></figure>\n<p> webpack config plugins   </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> HelloWorldPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'hello-world'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> webpackConfig = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ... config settings here ...</span></span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> HelloWorldPlugin(&#123;<span class=\"attr\">options</span>: <span class=\"literal\">true</span>&#125;)</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>compilationcompilations   </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">HelloCompilationPlugin</span>(<span class=\"params\">options</span>) </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">HelloCompilationPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Setup callback for accessing a compilation:</span></span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">\"compilation\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compilation</span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Now setup callbacks for accessing compilation steps:</span></span><br><span class=\"line\">    compilation.plugin(<span class=\"string\">\"optimize\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Assets are being optimized.\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = HelloCompilationPlugin;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://doc.webpack-china.org/api/plugins/\" target=\"_blank\" rel=\"noopener\">plugin</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">HelloAsyncPlugin</span>(<span class=\"params\">options</span>) </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">HelloAsyncPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">\"emit\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compilation, callback</span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Do something async...</span></span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Done with async work...\"</span>);</span><br><span class=\"line\">      callback();</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = HelloAsyncPlugin;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>webpack  </p>\n<p>filelist.md</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">FileListPlugin</span>(<span class=\"params\">options</span>) </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FileListPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">'emit'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compilation, callback</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Create a header string for the generated file:</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> filelist = <span class=\"string\">'In this build:\\n\\n'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Loop through all compiled assets,</span></span><br><span class=\"line\">    <span class=\"comment\">// adding a new line item for each filename.</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> filename <span class=\"keyword\">in</span> compilation.assets) &#123;</span><br><span class=\"line\">      filelist += (<span class=\"string\">'- '</span>+ filename +<span class=\"string\">'\\n'</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Insert this list into the webpack build as a new file asset:</span></span><br><span class=\"line\">    compilation.assets[<span class=\"string\">'filelist.md'</span>] = &#123;</span><br><span class=\"line\">      source: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> filelist;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      size: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> filelist.length;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    callback();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = FileListPlugin;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPlugins(name: string, <span class=\"attr\">args</span>: any...)</span><br><span class=\"line\"></span><br><span class=\"line\">applyPluginsBailResult(name: string, <span class=\"attr\">args</span>: any...)</span><br></pre></td></tr></table></figure></p>\n<p>argscompile, this-compilation  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>waterfall Plugins <br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPluginsWaterfall(name: string, <span class=\"attr\">init</span>: any, <span class=\"attr\">args</span>: any...)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPluginsAsync(name: string, <span class=\"attr\">args</span>: any..., <span class=\"attr\">callback</span>: (err?: <span class=\"built_in\">Error</span>) -&gt; <span class=\"keyword\">void</span>)</span><br></pre></td></tr></table></figure></p>\n<p>args(err?: Error) -&gt; voidhandlerhandlersemit, run</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPluginsAsyncWaterfall(name: string, <span class=\"attr\">init</span>: any, <span class=\"attr\">callback</span>: (err: <span class=\"built_in\">Error</span>, <span class=\"attr\">result</span>: any) -&gt; <span class=\"keyword\">void</span>)</span><br></pre></td></tr></table></figure>\n<p>handlervalue(err?: Error) -&gt; voidnextValuehandlerhandlerinithandlerhandlererrerrhandlerbefore-resolve and after-resolve   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPluginsAsyncSeries(name: string, <span class=\"attr\">args</span>: any..., <span class=\"attr\">callback</span>: (err: <span class=\"built_in\">Error</span>, <span class=\"attr\">result</span>: any) -&gt; <span class=\"keyword\">void</span>)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>webpack plugin <a href=\"https://github.com/xiaoxiangdaiyu/w-loader\" target=\"_blank\" rel=\"noopener\">w-loader</a><br>   </p>\n","site":{"data":{}},"excerpt":"<p><a href=\"https://github.com/xiaoxiangdaiyu/w-loader/blob/master/loader/DOC.md\" target=\"_blank\" rel=\"noopener\">webpack loader</a> webpackplugin<br>loader<a href=\"https://webpack.js.org/contribute/writing-a-plugin/\" target=\"_blank\" rel=\"noopener\"></a><br>","more":"</p>\n<h2 id=\"loaderplugin\"><a href=\"#loaderplugin\" class=\"headerlink\" title=\"loaderplugin\"></a>loaderplugin</h2><ul>\n<li>loader : webpackjsloader loaderloader   </li>\n<li>pluginloaderswebpackloaderplugin</li>\n</ul>\n<h2 id=\"plugin\"><a href=\"#plugin\" class=\"headerlink\" title=\"plugin\"></a>plugin</h2><p>webpackbuildwebpackloaderswebpack       </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>webpack  </p>\n<ul>\n<li>js   </li>\n<li>apply  </li>\n<li>webpack  </li>\n<li>webpack  </li>\n<li>webpack<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// A named JavaScript function.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyExampleWebpackPlugin</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">//</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// Defines `apply` method in it's prototype.</span></span><br><span class=\"line\">MyExampleWebpackPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Specifies webpack's event hook to attach itself.</span></span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">'webpacksEventHook'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compilation <span class=\"regexp\">/* Manipulates webpack internal instance specific data. */</span>, callback</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"This is an example plugin!!!\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">// Invokes webpack provided callback after functionality is complete.</span></span><br><span class=\"line\">    callback();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>compiler compilationwebpack   </p>\n<p>webpackwebpackoptionsloaderspluginswebpackwebpack</p>\n<p>compilationwebpack compilationcompilation   </p>\n<p>webpack (compilation)   </p>\n<ul>\n<li><a href=\"https://github.com/webpack/webpack/blob/master/lib/Compiler.js\" target=\"_blank\" rel=\"noopener\">Compiler Source</a>  </li>\n<li><a href=\"https://github.com/webpack/webpack/blob/master/lib/Compilation.js\" target=\"_blank\" rel=\"noopener\">Compilation Source</a>   </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>applyapplywebpackapplywebpack compilercompiler  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">HelloWorldPlugin</span>(<span class=\"params\">options</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Setup the plugin instance with options...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">HelloWorldPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">'done'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Hello World!'</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = HelloWorldPlugin;</span><br></pre></td></tr></table></figure>\n<p> webpack config plugins   </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> HelloWorldPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'hello-world'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> webpackConfig = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ... config settings here ...</span></span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> HelloWorldPlugin(&#123;<span class=\"attr\">options</span>: <span class=\"literal\">true</span>&#125;)</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>compilationcompilations   </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">HelloCompilationPlugin</span>(<span class=\"params\">options</span>) </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">HelloCompilationPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Setup callback for accessing a compilation:</span></span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">\"compilation\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compilation</span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Now setup callbacks for accessing compilation steps:</span></span><br><span class=\"line\">    compilation.plugin(<span class=\"string\">\"optimize\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Assets are being optimized.\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = HelloCompilationPlugin;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://doc.webpack-china.org/api/plugins/\" target=\"_blank\" rel=\"noopener\">plugin</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">HelloAsyncPlugin</span>(<span class=\"params\">options</span>) </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">HelloAsyncPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">\"emit\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compilation, callback</span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Do something async...</span></span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Done with async work...\"</span>);</span><br><span class=\"line\">      callback();</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = HelloAsyncPlugin;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>webpack  </p>\n<p>filelist.md</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">FileListPlugin</span>(<span class=\"params\">options</span>) </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FileListPlugin.prototype.apply = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compiler</span>) </span>&#123;</span><br><span class=\"line\">  compiler.plugin(<span class=\"string\">'emit'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">compilation, callback</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Create a header string for the generated file:</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> filelist = <span class=\"string\">'In this build:\\n\\n'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Loop through all compiled assets,</span></span><br><span class=\"line\">    <span class=\"comment\">// adding a new line item for each filename.</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> filename <span class=\"keyword\">in</span> compilation.assets) &#123;</span><br><span class=\"line\">      filelist += (<span class=\"string\">'- '</span>+ filename +<span class=\"string\">'\\n'</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Insert this list into the webpack build as a new file asset:</span></span><br><span class=\"line\">    compilation.assets[<span class=\"string\">'filelist.md'</span>] = &#123;</span><br><span class=\"line\">      source: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> filelist;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      size: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> filelist.length;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    callback();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = FileListPlugin;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPlugins(name: string, <span class=\"attr\">args</span>: any...)</span><br><span class=\"line\"></span><br><span class=\"line\">applyPluginsBailResult(name: string, <span class=\"attr\">args</span>: any...)</span><br></pre></td></tr></table></figure></p>\n<p>argscompile, this-compilation  </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>waterfall Plugins <br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPluginsWaterfall(name: string, <span class=\"attr\">init</span>: any, <span class=\"attr\">args</span>: any...)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPluginsAsync(name: string, <span class=\"attr\">args</span>: any..., <span class=\"attr\">callback</span>: (err?: <span class=\"built_in\">Error</span>) -&gt; <span class=\"keyword\">void</span>)</span><br></pre></td></tr></table></figure></p>\n<p>args(err?: Error) -&gt; voidhandlerhandlersemit, run</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPluginsAsyncWaterfall(name: string, <span class=\"attr\">init</span>: any, <span class=\"attr\">callback</span>: (err: <span class=\"built_in\">Error</span>, <span class=\"attr\">result</span>: any) -&gt; <span class=\"keyword\">void</span>)</span><br></pre></td></tr></table></figure>\n<p>handlervalue(err?: Error) -&gt; voidnextValuehandlerhandlerinithandlerhandlererrerrhandlerbefore-resolve and after-resolve   </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">applyPluginsAsyncSeries(name: string, <span class=\"attr\">args</span>: any..., <span class=\"attr\">callback</span>: (err: <span class=\"built_in\">Error</span>, <span class=\"attr\">result</span>: any) -&gt; <span class=\"keyword\">void</span>)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>webpack plugin <a href=\"https://github.com/xiaoxiangdaiyu/w-loader\" target=\"_blank\" rel=\"noopener\">w-loader</a><br>   </p>"},{"title":"websocket-","date":"2017-11-06T02:50:06.000Z","_content":"Writing WebSocket serversMDN[Writing WebSocket servers](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers)\n<!-- more -->\n## websocket\nWebSocket tcpWebsocket   \n\nWebSocket serverBerkeley socketsc(++)PythonPHPJavaScript(node.js)   \n\nhttpTCP sockets WebSocket server   \n\n WebSocket serverWebSocket servers servers(),HTTP server WebSocketWebSocket serverWebSocket servercookie   \n## websocket     \n\nTCPsocketsocket()example.com8000socket server/chatGET   \n\n80443443(TLS/SSL)Websocket  \nWebSocketswebHTTPWS  \n\n##    \n\nWebsocketHTTP(HTTP1.1GET)     \n```\n    GET /chat HTTP/1.1\n    Host: example.com:8000\n    Upgrade: websocket\n    Connection: Upgrade\n    Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==\n    Sec-WebSocket-Version: 13 \n```\n\n[Miscellaneous](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#Miscellaneous)headersUser-Agent, Referer, Cookie, or authenticationWebSocket \n\nheader'400 Bad Request'socketHTTP()WebSocketsSec-WebSocket-Version (V13,)Sec-WebSocket-Key    \n\n###   \n\n* Origin header,headeroriginorigin403 Forbiddenorigin  \n* (/chat)WebSocket example.com/chatapp/game[]()   \n* HTTP codecode7.4   \n\n##   \n\nHTTP header\\r\\n\\r\\n \n\n```\n    HTTP/1.1 101 Switching Protocols\n    Upgrade: websocket\n    Connection: Upgrade\n    Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=\n```\n\n[Miscellaneous](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#Miscellaneous)Sec-WebSocket-Accept Sec-WebSocket-Key Sec-WebSocket-Key \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\"SHA-1 hashbase64   \n\n###   \n\nwebsocketWebsockethttp   \n\nkey\"dGhlIHNhbXBsZSBub25jZQ==\"Accept\"s3pPLMBiTxaQ9kYGzzhZRbK+xOo=\"   \n\nheaderSet-Cookie   \n\n##   \n\nWebsocketsocketsIP(Denial-of-Service )  \n\n## FramesEdit   \n\nwebsocketX (32)\n \n     \n##   \n  \n  \n```  \n    :  \n\n      0                   1                   2                   3\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n     +-+-+-+-+-------+-+-------------+-------------------------------+\n     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |\n     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |\n     |N|V|V|V|       |S|             |   (if payload len==126/127)   |\n     | |1|2|3|       |K|             |                               |\n     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +\n     |     Extended payload length continued, if payload len == 127  |\n     + - - - - - - - - - - - - - - - +-------------------------------+\n     |                               |Masking-key, if MASK set to 1  |\n     +-------------------------------+-------------------------------+\n     | Masking-key (continued)       |          Payload Data         |\n     +-------------------------------- - - - - - - - - - - - - - - - +\n     :                     Payload Data continued ...                :\n     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +\n     |                     Payload Data continued ...                |\n     +---------------------------------------------------------------+\n\n```\n\n\nMASK (:)1(5.1)masksocketRSV1-3   \n\nopcode  \n* 0x0 \n* 0x1 text(UTF-8)  \n* 0x2  \n* 0x3-0x7 0xB-0xF WebSockets   \n\nFIN 0   \n\n##   \n\n  \n1. 9-151251262,1273   \n2. 16  \n3. 64    \n\n\n##   \n\nMASK()432keykeysocketkeyoctetstexti%4(i4)js() \n\n```js\n    var DECODED = \"\";\n    for (var i = 0; i < ENCODED.length; i++) {\n        DECODED[i] = ENCODED[i] ^ MASK[i % 4];\n    }\n```\n\n\n## \n\nFINopcodeopcodes0x0-0x2  \n\nopcode0x1text0x20x0textFINopcode\n    \n```\nClient: FIN=1, opcode=0x1, msg=\"hello\"\nServer: () Hi.\nClient: FIN=0, opcode=0x1, msg=\"and a\"\nServer: ()\nClient: FIN=0, opcode=0x0, msg=\"happy new\"\nServer: ()\nClient: FIN=1, opcode=0x0, msg=\"year!\"\nServer: () Happy new year to you too!\n```\n \n:(FIN=1opcode!=0x0)text(opcode=0x1)(FIN=0)(opcode=0x0)FIN=1  \n\n## WebSockets pingpong  \n\npingpingpong  \n\npingpongPingsopcode0x9pong0xApingpong(pingpong125)pingpong\n\npongpingpong  \n##   \n\n\n\n##   \n\nWebSocket headerswebsocket websocket\n\n###  \n\nwebsockets \n\n###   \n\nxmlXMLWebSocket(client & server),  \n  \n\n```\nGET /chat HTTP/1.1\n...\nSec-WebSocket-Protocol: soap, wamp\n//   \n...\nSec-WebSocket-Protocol: soap\nSec-WebSocket-Protocol: wamp\n```\n\nsoapwamp\n\n```\nSec-WebSocket-Protocol: soap\n```\n\n\nSec-Websocket-ProtocolSec-WebSocket-Protocol     \n\njsonJSONJSON\n\n\ndomainapp:Sec-WebSocket-Protocol: chat.example.com  \n##  \nwebsocket[](https://github.com/xiaoxiangdaiyu/chartroom/tree/master/src/websocket) nodewebsocket\n##   \nMDN[Writing WebSocket servers](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers)","source":"_posts/websocket/frame.md","raw":"---\ntitle: websocket- \ndate: 2017-11-06 10:50:06\n---\nWriting WebSocket serversMDN[Writing WebSocket servers](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers)\n<!-- more -->\n## websocket\nWebSocket tcpWebsocket   \n\nWebSocket serverBerkeley socketsc(++)PythonPHPJavaScript(node.js)   \n\nhttpTCP sockets WebSocket server   \n\n WebSocket serverWebSocket servers servers(),HTTP server WebSocketWebSocket serverWebSocket servercookie   \n## websocket     \n\nTCPsocketsocket()example.com8000socket server/chatGET   \n\n80443443(TLS/SSL)Websocket  \nWebSocketswebHTTPWS  \n\n##    \n\nWebsocketHTTP(HTTP1.1GET)     \n```\n    GET /chat HTTP/1.1\n    Host: example.com:8000\n    Upgrade: websocket\n    Connection: Upgrade\n    Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==\n    Sec-WebSocket-Version: 13 \n```\n\n[Miscellaneous](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#Miscellaneous)headersUser-Agent, Referer, Cookie, or authenticationWebSocket \n\nheader'400 Bad Request'socketHTTP()WebSocketsSec-WebSocket-Version (V13,)Sec-WebSocket-Key    \n\n###   \n\n* Origin header,headeroriginorigin403 Forbiddenorigin  \n* (/chat)WebSocket example.com/chatapp/game[]()   \n* HTTP codecode7.4   \n\n##   \n\nHTTP header\\r\\n\\r\\n \n\n```\n    HTTP/1.1 101 Switching Protocols\n    Upgrade: websocket\n    Connection: Upgrade\n    Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=\n```\n\n[Miscellaneous](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#Miscellaneous)Sec-WebSocket-Accept Sec-WebSocket-Key Sec-WebSocket-Key \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\"SHA-1 hashbase64   \n\n###   \n\nwebsocketWebsockethttp   \n\nkey\"dGhlIHNhbXBsZSBub25jZQ==\"Accept\"s3pPLMBiTxaQ9kYGzzhZRbK+xOo=\"   \n\nheaderSet-Cookie   \n\n##   \n\nWebsocketsocketsIP(Denial-of-Service )  \n\n## FramesEdit   \n\nwebsocketX (32)\n \n     \n##   \n  \n  \n```  \n    :  \n\n      0                   1                   2                   3\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n     +-+-+-+-+-------+-+-------------+-------------------------------+\n     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |\n     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |\n     |N|V|V|V|       |S|             |   (if payload len==126/127)   |\n     | |1|2|3|       |K|             |                               |\n     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +\n     |     Extended payload length continued, if payload len == 127  |\n     + - - - - - - - - - - - - - - - +-------------------------------+\n     |                               |Masking-key, if MASK set to 1  |\n     +-------------------------------+-------------------------------+\n     | Masking-key (continued)       |          Payload Data         |\n     +-------------------------------- - - - - - - - - - - - - - - - +\n     :                     Payload Data continued ...                :\n     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +\n     |                     Payload Data continued ...                |\n     +---------------------------------------------------------------+\n\n```\n\n\nMASK (:)1(5.1)masksocketRSV1-3   \n\nopcode  \n* 0x0 \n* 0x1 text(UTF-8)  \n* 0x2  \n* 0x3-0x7 0xB-0xF WebSockets   \n\nFIN 0   \n\n##   \n\n  \n1. 9-151251262,1273   \n2. 16  \n3. 64    \n\n\n##   \n\nMASK()432keykeysocketkeyoctetstexti%4(i4)js() \n\n```js\n    var DECODED = \"\";\n    for (var i = 0; i < ENCODED.length; i++) {\n        DECODED[i] = ENCODED[i] ^ MASK[i % 4];\n    }\n```\n\n\n## \n\nFINopcodeopcodes0x0-0x2  \n\nopcode0x1text0x20x0textFINopcode\n    \n```\nClient: FIN=1, opcode=0x1, msg=\"hello\"\nServer: () Hi.\nClient: FIN=0, opcode=0x1, msg=\"and a\"\nServer: ()\nClient: FIN=0, opcode=0x0, msg=\"happy new\"\nServer: ()\nClient: FIN=1, opcode=0x0, msg=\"year!\"\nServer: () Happy new year to you too!\n```\n \n:(FIN=1opcode!=0x0)text(opcode=0x1)(FIN=0)(opcode=0x0)FIN=1  \n\n## WebSockets pingpong  \n\npingpingpong  \n\npingpongPingsopcode0x9pong0xApingpong(pingpong125)pingpong\n\npongpingpong  \n##   \n\n\n\n##   \n\nWebSocket headerswebsocket websocket\n\n###  \n\nwebsockets \n\n###   \n\nxmlXMLWebSocket(client & server),  \n  \n\n```\nGET /chat HTTP/1.1\n...\nSec-WebSocket-Protocol: soap, wamp\n//   \n...\nSec-WebSocket-Protocol: soap\nSec-WebSocket-Protocol: wamp\n```\n\nsoapwamp\n\n```\nSec-WebSocket-Protocol: soap\n```\n\n\nSec-Websocket-ProtocolSec-WebSocket-Protocol     \n\njsonJSONJSON\n\n\ndomainapp:Sec-WebSocket-Protocol: chat.example.com  \n##  \nwebsocket[](https://github.com/xiaoxiangdaiyu/chartroom/tree/master/src/websocket) nodewebsocket\n##   \nMDN[Writing WebSocket servers](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers)","slug":"websocket/frame","published":1,"updated":"2017-12-15T12:55:38.416Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7doj000gnl92mtewh7km","content":"<p>Writing WebSocket serversMDN<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers\" target=\"_blank\" rel=\"noopener\">Writing WebSocket servers</a><br><a id=\"more\"></a></p>\n<h2 id=\"websocket\"><a href=\"#websocket\" class=\"headerlink\" title=\"websocket\"></a>websocket</h2><p>WebSocket tcpWebsocket   </p>\n<p>WebSocket serverBerkeley socketsc(++)PythonPHPJavaScript(node.js)   </p>\n<p>httpTCP sockets WebSocket server   </p>\n<p> WebSocket serverWebSocket servers servers(),HTTP server WebSocketWebSocket serverWebSocket servercookie   </p>\n<h2 id=\"websocket-\"><a href=\"#websocket-\" class=\"headerlink\" title=\"websocket \"></a>websocket </h2><p>TCPsocketsocket()example.com8000socket server/chatGET   </p>\n<p>80443443(TLS/SSL)Websocket<br>WebSocketswebHTTPWS  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>WebsocketHTTP(HTTP1.1GET)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /chat HTTP/1.1</span><br><span class=\"line\">Host: example.com:8000</span><br><span class=\"line\">Upgrade: websocket</span><br><span class=\"line\">Connection: Upgrade</span><br><span class=\"line\">Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==</span><br><span class=\"line\">Sec-WebSocket-Version: 13</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#Miscellaneous\" target=\"_blank\" rel=\"noopener\">Miscellaneous</a>headersUser-Agent, Referer, Cookie, or authenticationWebSocket </p>\n<p>header400 Bad RequestsocketHTTP()WebSocketsSec-WebSocket-Version (V13,)Sec-WebSocket-Key    </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>Origin header,headeroriginorigin403 Forbiddenorigin  </li>\n<li>(/chat)WebSocket example.com/chatapp/game<a href=\"\"></a>   </li>\n<li>HTTP codecode7.4   </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HTTP header\\r\\n\\r\\n </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 101 Switching Protocols</span><br><span class=\"line\">Upgrade: websocket</span><br><span class=\"line\">Connection: Upgrade</span><br><span class=\"line\">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#Miscellaneous\" target=\"_blank\" rel=\"noopener\">Miscellaneous</a>Sec-WebSocket-Accept Sec-WebSocket-Key Sec-WebSocket-Key 258EAFA5-E914-47DA-95CA-C5AB0DC85B11SHA-1 hashbase64   </p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><p>websocketWebsockethttp   </p>\n<p>keydGhlIHNhbXBsZSBub25jZQ==Accepts3pPLMBiTxaQ9kYGzzhZRbK+xOo=   </p>\n<p>headerSet-Cookie   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>WebsocketsocketsIP(Denial-of-Service )  </p>\n<h2 id=\"FramesEdit-\"><a href=\"#FramesEdit-\" class=\"headerlink\" title=\"FramesEdit \"></a>FramesEdit </h2><p>websocketX (32)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    :  </span><br><span class=\"line\"></span><br><span class=\"line\">      0                   1                   2                   3</span><br><span class=\"line\">      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class=\"line\">     +-+-+-+-+-------+-+-------------+-------------------------------+</span><br><span class=\"line\">     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |</span><br><span class=\"line\">     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |</span><br><span class=\"line\">     |N|V|V|V|       |S|             |   (if payload len==126/127)   |</span><br><span class=\"line\">     | |1|2|3|       |K|             |                               |</span><br><span class=\"line\">     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     |     Extended payload length continued, if payload len == 127  |</span><br><span class=\"line\">     + - - - - - - - - - - - - - - - +-------------------------------+</span><br><span class=\"line\">     |                               |Masking-key, if MASK set to 1  |</span><br><span class=\"line\">     +-------------------------------+-------------------------------+</span><br><span class=\"line\">     | Masking-key (continued)       |          Payload Data         |</span><br><span class=\"line\">     +-------------------------------- - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     :                     Payload Data continued ...                :</span><br><span class=\"line\">     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     |                     Payload Data continued ...                |</span><br><span class=\"line\">     +---------------------------------------------------------------+</span><br></pre></td></tr></table></figure>\n<p>MASK (:)1(5.1)masksocketRSV1-3   </p>\n<p>opcode  </p>\n<ul>\n<li>0x0 </li>\n<li>0x1 text(UTF-8)  </li>\n<li>0x2  </li>\n<li>0x3-0x7 0xB-0xF WebSockets   </li>\n</ul>\n<p>FIN 0   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<ol>\n<li>9-151251262,1273   </li>\n<li>16  </li>\n<li>64    </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>MASK()432keykeysocketkeyoctetstexti%4(i4)js() </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> DECODED = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; ENCODED.length; i++) &#123;</span><br><span class=\"line\">    DECODED[i] = ENCODED[i] ^ MASK[i % <span class=\"number\">4</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FINopcodeopcodes0x0-0x2  </p>\n<p>opcode0x1text0x20x0textFINopcode</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Client: FIN=1, opcode=0x1, msg=&quot;hello&quot;</span><br><span class=\"line\">Server: () Hi.</span><br><span class=\"line\">Client: FIN=0, opcode=0x1, msg=&quot;and a&quot;</span><br><span class=\"line\">Server: ()</span><br><span class=\"line\">Client: FIN=0, opcode=0x0, msg=&quot;happy new&quot;</span><br><span class=\"line\">Server: ()</span><br><span class=\"line\">Client: FIN=1, opcode=0x0, msg=&quot;year!&quot;</span><br><span class=\"line\">Server: () Happy new year to you too!</span><br></pre></td></tr></table></figure>\n<p>:(FIN=1opcode!=0x0)text(opcode=0x1)(FIN=0)(opcode=0x0)FIN=1  </p>\n<h2 id=\"WebSockets-pingpong\"><a href=\"#WebSockets-pingpong\" class=\"headerlink\" title=\"WebSockets pingpong\"></a>WebSockets pingpong</h2><p>pingpingpong  </p>\n<p>pingpongPingsopcode0x9pong0xApingpong(pingpong125)pingpong</p>\n<p>pongpingpong  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>WebSocket headerswebsocket websocket</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>websockets </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>xmlXMLWebSocket(client &amp; server),<br>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /chat HTTP/1.1</span><br><span class=\"line\">...</span><br><span class=\"line\">Sec-WebSocket-Protocol: soap, wamp</span><br><span class=\"line\">//   </span><br><span class=\"line\">...</span><br><span class=\"line\">Sec-WebSocket-Protocol: soap</span><br><span class=\"line\">Sec-WebSocket-Protocol: wamp</span><br></pre></td></tr></table></figure>\n<p>soapwamp</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Sec-WebSocket-Protocol: soap</span><br></pre></td></tr></table></figure>\n<p>Sec-Websocket-ProtocolSec-WebSocket-Protocol     </p>\n<p>jsonJSONJSON</p>\n<p>domainapp:Sec-WebSocket-Protocol: chat.example.com  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>websocket<a href=\"https://github.com/xiaoxiangdaiyu/chartroom/tree/master/src/websocket\" target=\"_blank\" rel=\"noopener\"></a> nodewebsocket</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>MDN<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers\" target=\"_blank\" rel=\"noopener\">Writing WebSocket servers</a></p>\n","site":{"data":{}},"excerpt":"<p>Writing WebSocket serversMDN<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers\" target=\"_blank\" rel=\"noopener\">Writing WebSocket servers</a><br>","more":"</p>\n<h2 id=\"websocket\"><a href=\"#websocket\" class=\"headerlink\" title=\"websocket\"></a>websocket</h2><p>WebSocket tcpWebsocket   </p>\n<p>WebSocket serverBerkeley socketsc(++)PythonPHPJavaScript(node.js)   </p>\n<p>httpTCP sockets WebSocket server   </p>\n<p> WebSocket serverWebSocket servers servers(),HTTP server WebSocketWebSocket serverWebSocket servercookie   </p>\n<h2 id=\"websocket-\"><a href=\"#websocket-\" class=\"headerlink\" title=\"websocket \"></a>websocket </h2><p>TCPsocketsocket()example.com8000socket server/chatGET   </p>\n<p>80443443(TLS/SSL)Websocket<br>WebSocketswebHTTPWS  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>WebsocketHTTP(HTTP1.1GET)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /chat HTTP/1.1</span><br><span class=\"line\">Host: example.com:8000</span><br><span class=\"line\">Upgrade: websocket</span><br><span class=\"line\">Connection: Upgrade</span><br><span class=\"line\">Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==</span><br><span class=\"line\">Sec-WebSocket-Version: 13</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#Miscellaneous\" target=\"_blank\" rel=\"noopener\">Miscellaneous</a>headersUser-Agent, Referer, Cookie, or authenticationWebSocket </p>\n<p>header400 Bad RequestsocketHTTP()WebSocketsSec-WebSocket-Version (V13,)Sec-WebSocket-Key    </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>Origin header,headeroriginorigin403 Forbiddenorigin  </li>\n<li>(/chat)WebSocket example.com/chatapp/game<a href=\"\"></a>   </li>\n<li>HTTP codecode7.4   </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HTTP header\\r\\n\\r\\n </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 101 Switching Protocols</span><br><span class=\"line\">Upgrade: websocket</span><br><span class=\"line\">Connection: Upgrade</span><br><span class=\"line\">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#Miscellaneous\" target=\"_blank\" rel=\"noopener\">Miscellaneous</a>Sec-WebSocket-Accept Sec-WebSocket-Key Sec-WebSocket-Key 258EAFA5-E914-47DA-95CA-C5AB0DC85B11SHA-1 hashbase64   </p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><p>websocketWebsockethttp   </p>\n<p>keydGhlIHNhbXBsZSBub25jZQ==Accepts3pPLMBiTxaQ9kYGzzhZRbK+xOo=   </p>\n<p>headerSet-Cookie   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>WebsocketsocketsIP(Denial-of-Service )  </p>\n<h2 id=\"FramesEdit-\"><a href=\"#FramesEdit-\" class=\"headerlink\" title=\"FramesEdit \"></a>FramesEdit </h2><p>websocketX (32)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    :  </span><br><span class=\"line\"></span><br><span class=\"line\">      0                   1                   2                   3</span><br><span class=\"line\">      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class=\"line\">     +-+-+-+-+-------+-+-------------+-------------------------------+</span><br><span class=\"line\">     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |</span><br><span class=\"line\">     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |</span><br><span class=\"line\">     |N|V|V|V|       |S|             |   (if payload len==126/127)   |</span><br><span class=\"line\">     | |1|2|3|       |K|             |                               |</span><br><span class=\"line\">     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     |     Extended payload length continued, if payload len == 127  |</span><br><span class=\"line\">     + - - - - - - - - - - - - - - - +-------------------------------+</span><br><span class=\"line\">     |                               |Masking-key, if MASK set to 1  |</span><br><span class=\"line\">     +-------------------------------+-------------------------------+</span><br><span class=\"line\">     | Masking-key (continued)       |          Payload Data         |</span><br><span class=\"line\">     +-------------------------------- - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     :                     Payload Data continued ...                :</span><br><span class=\"line\">     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     |                     Payload Data continued ...                |</span><br><span class=\"line\">     +---------------------------------------------------------------+</span><br></pre></td></tr></table></figure>\n<p>MASK (:)1(5.1)masksocketRSV1-3   </p>\n<p>opcode  </p>\n<ul>\n<li>0x0 </li>\n<li>0x1 text(UTF-8)  </li>\n<li>0x2  </li>\n<li>0x3-0x7 0xB-0xF WebSockets   </li>\n</ul>\n<p>FIN 0   </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  </p>\n<ol>\n<li>9-151251262,1273   </li>\n<li>16  </li>\n<li>64    </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>MASK()432keykeysocketkeyoctetstexti%4(i4)js() </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> DECODED = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; ENCODED.length; i++) &#123;</span><br><span class=\"line\">    DECODED[i] = ENCODED[i] ^ MASK[i % <span class=\"number\">4</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FINopcodeopcodes0x0-0x2  </p>\n<p>opcode0x1text0x20x0textFINopcode</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Client: FIN=1, opcode=0x1, msg=&quot;hello&quot;</span><br><span class=\"line\">Server: () Hi.</span><br><span class=\"line\">Client: FIN=0, opcode=0x1, msg=&quot;and a&quot;</span><br><span class=\"line\">Server: ()</span><br><span class=\"line\">Client: FIN=0, opcode=0x0, msg=&quot;happy new&quot;</span><br><span class=\"line\">Server: ()</span><br><span class=\"line\">Client: FIN=1, opcode=0x0, msg=&quot;year!&quot;</span><br><span class=\"line\">Server: () Happy new year to you too!</span><br></pre></td></tr></table></figure>\n<p>:(FIN=1opcode!=0x0)text(opcode=0x1)(FIN=0)(opcode=0x0)FIN=1  </p>\n<h2 id=\"WebSockets-pingpong\"><a href=\"#WebSockets-pingpong\" class=\"headerlink\" title=\"WebSockets pingpong\"></a>WebSockets pingpong</h2><p>pingpingpong  </p>\n<p>pingpongPingsopcode0x9pong0xApingpong(pingpong125)pingpong</p>\n<p>pongpingpong  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>WebSocket headerswebsocket websocket</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>websockets </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>xmlXMLWebSocket(client &amp; server),<br>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /chat HTTP/1.1</span><br><span class=\"line\">...</span><br><span class=\"line\">Sec-WebSocket-Protocol: soap, wamp</span><br><span class=\"line\">//   </span><br><span class=\"line\">...</span><br><span class=\"line\">Sec-WebSocket-Protocol: soap</span><br><span class=\"line\">Sec-WebSocket-Protocol: wamp</span><br></pre></td></tr></table></figure>\n<p>soapwamp</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Sec-WebSocket-Protocol: soap</span><br></pre></td></tr></table></figure>\n<p>Sec-Websocket-ProtocolSec-WebSocket-Protocol     </p>\n<p>jsonJSONJSON</p>\n<p>domainapp:Sec-WebSocket-Protocol: chat.example.com  </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>websocket<a href=\"https://github.com/xiaoxiangdaiyu/chartroom/tree/master/src/websocket\" target=\"_blank\" rel=\"noopener\"></a> nodewebsocket</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>MDN<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers\" target=\"_blank\" rel=\"noopener\">Writing WebSocket servers</a></p>"},{"title":"websocket-node","date":"2017-11-21T16:00:00.000Z","_content":"[websocket- ](https://github.com/xiaoxiangdaiyu/chartroom/blob/master/src/websocket/README.md)\n<!-- more -->\n## Websockt \nwebsocketwebsocket()   \n\n1. \n2.  \n3. \n4. \n5.   \n\n24\n##    \n\nwebsocketWebsocket \n### \n\nHTTP   \n \n    \n```\nGET / HTTP/1.1  //HTTP1.1GET\nHost: localhost:8081 //\nConnection: Upgrade \nPragma: no-cache\nCache-Control: no-cache\nUpgrade: websocket //websocket\nOrigin: http://192.168.132.170:8000\nSec-WebSocket-Version: 13 //\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36\nAccept-Encoding: gzip, deflate, br\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\nCookie: optimizelyEndUserId=oeu1505722530441r0.5993643212774391; _ga=GA1.1.557695983.1505722531\nSec-WebSocket-Key: /2R6uuzPqLT/6z8fnZfN3w==   //\nSec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\n```\n  \n\n* HTTP1.1GET\n* Connection: Upgrade  \n* Upgrade: websocket //websocket  \n* Sec-WebSocket-Key    \n\n  \n\n   \n### \n\nwebsocket  \n  \n1. http\n2. websocket \n\n####   \n\n```\n    HTTP/1.1 101 Switching Protocols\n    Upgrade: websocket\n    Connection: Upgrade\n    Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=\n```\nheader\\r\\n\\r\\n \n\nSec-WebSocket-Accept Sec-WebSocket-Key  \nSec-WebSocket-Key \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\"SHA-1 hashbase64\n\n  \n```js\n// \nvar ws_key = '258EAFA5-E914-47DA-95CA-C5AB0DC85B11';\n// key\nfunction getAccpectKey(rSWKey) {\n    return crypto.createHash('sha1').update(rSWKey + ws_key).digest('base64')\n}\nfunction handShake(socket, headers) {\n    var reqSWKey = headers['Sec-WebSocket-Key'],\n        resSWKey = getAccpectKey(reqSWKey)\n    socket.write('HTTP/1.1 101 Switching Protocols\\r\\n');\n    socket.write('Upgrade: websocket\\r\\n');\n    socket.write('Connection: Upgrade\\r\\n');\n    socket.write('Sec-WebSocket-Accept: ' + resSWKey + '\\r\\n');\n    socket.write('\\r\\n');\n}\n```\n\nwebsocketonopenwebsocket\n\n###   \n#### \n  \n\n```  \n    :  \n\n      0                   1                   2                   3\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n     +-+-+-+-+-------+-+-------------+-------------------------------+\n     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |\n     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |\n     |N|V|V|V|       |S|             |   (if payload len==126/127)   |\n     | |1|2|3|       |K|             |                               |\n     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +\n     |     Extended payload length continued, if payload len == 127  |\n     + - - - - - - - - - - - - - - - +-------------------------------+\n     |                               |Masking-key, if MASK set to 1  |\n     +-------------------------------+-------------------------------+\n     | Masking-key (continued)       |          Payload Data         |\n     +-------------------------------- - - - - - - - - - - - - - - - +\n     :                     Payload Data continued ...                :\n     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +\n     |                     Payload Data continued ...                |\n     +---------------------------------------------------------------+\n\n```\n\n  \n\n1. MASK1   \n\n2. opcode  \n    * 0x0 \n    * 0x1 text(UTF-8)  \n    * 0x2  \n    * 0x3-0x7 0xB-0xF WebSockets   \n\n3. FIN 0\n4. Payload len  \n    * Payload len<126, \n    * 126,1252\n    * 127,655358 \n      \n\n####   \n  \n  \n1.   \n2. \n\n    \n\n```js\n// \nfunction decodeFrame(buffer) {\n    /**\n     * >>> 7 7\n     * 10010030  ====>   00000001\n     * &   11    \n     * 1500001111  ,0\n     * 11011000 & 00001111  ===  00001000\n     *  \n     */\n    var fBite = buffer[0],\n        /**\n         * Fin\n         * 1\n         * 0  \n         */\n        Fin = fBite >>> 7,\n        /**\n         * opcodeopcodefBite4-7\n         * &   11    \n         * 1500001111  ,0\n         */\n        opcode = buffer[0] & 15,\n        /**\n         *  \n         */\n        len = buffer[1] & 127,\n        // 1\n        Mask = buffer[1] >>> 7,\n        maskKey = null\n    // \n    //1252\n    if (len == 126) {\n        len = buffer.readUInt16BE(2)\n    } else if (len == 127) {\n        // 655358\n        len = buffer.readUInt64BE(2)\n    }\n    // \n    Mask && (maskKey = buffer.slice(2,5))\n    /**\n     *  \n     * octetstexti%4(i4)\n     */\n    if(Mask){\n        for (var i = 2;i<len ;i++){\n            buffer[i] = maskKey[(i - 2) % 4] ^ buffer[i];\n        }\n    }\n    var data = buffer.slice(2)\n    return {\n        Fin:Fin,\n        opcode:opcode,\n        data:data\n    }\n}\n```    \n\n#### \n \n()\n\n```js\n// \nfunction encodeFrame(data){\n    var len = Buffer.byteLength(data),\n        // 264\n        payload_len = len > 65535 ?10:(len > 125 ? 4 : 2),\n        buf = new Buffer(len+payload_len)\n    /**\n     * 0x81 = 10000001 \n     *Fin 1 opcode001 mask 0 \n     *  txt\n     */\n    buf[0] = 0x81  \n    /**\n     * payload_len\n     */        \n    if(payload_len == 2){\n        buf[1] = len\n    }else if(payload_len == 4){\n        buf[1] = 126;\n        buf.writeUInt16BE(payload_len, 2);\n    }else {\n        buf[1] = 127;\n        buf.writeUInt32BE(payload_len >>> 32, 2);\n        buf.writeUInt32BE(payload_len & 0xFFFFFFFF, 6);\n    }  \n    buf.write(data, payload_len);\n    return buf;\n}    \n```    \n\n####   \nopcode  9pingpong\nPingsopcode0x9pong0xA   \n\n```js\n// ping\nif(opcode == 9){\n   console.log(\"ping\");\n   /**\n    * ping pong125\n    * 10001010+\n    * pong125\n    */\n    socke.write(Buffer.concat([new Buffer([0x8A, data.length]), data]))\n}\n```  \n\n##  \nwebsocket[](https://github.com/xiaoxiangdaiyu/chartroom/blob/master/src/websocket/ws.js)websocket\n","source":"_posts/websocket/node.md","raw":"---\ntitle: websocket-node  \ndate: 2017-11-22\n---\n[websocket- ](https://github.com/xiaoxiangdaiyu/chartroom/blob/master/src/websocket/README.md)\n<!-- more -->\n## Websockt \nwebsocketwebsocket()   \n\n1. \n2.  \n3. \n4. \n5.   \n\n24\n##    \n\nwebsocketWebsocket \n### \n\nHTTP   \n \n    \n```\nGET / HTTP/1.1  //HTTP1.1GET\nHost: localhost:8081 //\nConnection: Upgrade \nPragma: no-cache\nCache-Control: no-cache\nUpgrade: websocket //websocket\nOrigin: http://192.168.132.170:8000\nSec-WebSocket-Version: 13 //\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36\nAccept-Encoding: gzip, deflate, br\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\nCookie: optimizelyEndUserId=oeu1505722530441r0.5993643212774391; _ga=GA1.1.557695983.1505722531\nSec-WebSocket-Key: /2R6uuzPqLT/6z8fnZfN3w==   //\nSec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\n```\n  \n\n* HTTP1.1GET\n* Connection: Upgrade  \n* Upgrade: websocket //websocket  \n* Sec-WebSocket-Key    \n\n  \n\n   \n### \n\nwebsocket  \n  \n1. http\n2. websocket \n\n####   \n\n```\n    HTTP/1.1 101 Switching Protocols\n    Upgrade: websocket\n    Connection: Upgrade\n    Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=\n```\nheader\\r\\n\\r\\n \n\nSec-WebSocket-Accept Sec-WebSocket-Key  \nSec-WebSocket-Key \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\"SHA-1 hashbase64\n\n  \n```js\n// \nvar ws_key = '258EAFA5-E914-47DA-95CA-C5AB0DC85B11';\n// key\nfunction getAccpectKey(rSWKey) {\n    return crypto.createHash('sha1').update(rSWKey + ws_key).digest('base64')\n}\nfunction handShake(socket, headers) {\n    var reqSWKey = headers['Sec-WebSocket-Key'],\n        resSWKey = getAccpectKey(reqSWKey)\n    socket.write('HTTP/1.1 101 Switching Protocols\\r\\n');\n    socket.write('Upgrade: websocket\\r\\n');\n    socket.write('Connection: Upgrade\\r\\n');\n    socket.write('Sec-WebSocket-Accept: ' + resSWKey + '\\r\\n');\n    socket.write('\\r\\n');\n}\n```\n\nwebsocketonopenwebsocket\n\n###   \n#### \n  \n\n```  \n    :  \n\n      0                   1                   2                   3\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n     +-+-+-+-+-------+-+-------------+-------------------------------+\n     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |\n     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |\n     |N|V|V|V|       |S|             |   (if payload len==126/127)   |\n     | |1|2|3|       |K|             |                               |\n     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +\n     |     Extended payload length continued, if payload len == 127  |\n     + - - - - - - - - - - - - - - - +-------------------------------+\n     |                               |Masking-key, if MASK set to 1  |\n     +-------------------------------+-------------------------------+\n     | Masking-key (continued)       |          Payload Data         |\n     +-------------------------------- - - - - - - - - - - - - - - - +\n     :                     Payload Data continued ...                :\n     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +\n     |                     Payload Data continued ...                |\n     +---------------------------------------------------------------+\n\n```\n\n  \n\n1. MASK1   \n\n2. opcode  \n    * 0x0 \n    * 0x1 text(UTF-8)  \n    * 0x2  \n    * 0x3-0x7 0xB-0xF WebSockets   \n\n3. FIN 0\n4. Payload len  \n    * Payload len<126, \n    * 126,1252\n    * 127,655358 \n      \n\n####   \n  \n  \n1.   \n2. \n\n    \n\n```js\n// \nfunction decodeFrame(buffer) {\n    /**\n     * >>> 7 7\n     * 10010030  ====>   00000001\n     * &   11    \n     * 1500001111  ,0\n     * 11011000 & 00001111  ===  00001000\n     *  \n     */\n    var fBite = buffer[0],\n        /**\n         * Fin\n         * 1\n         * 0  \n         */\n        Fin = fBite >>> 7,\n        /**\n         * opcodeopcodefBite4-7\n         * &   11    \n         * 1500001111  ,0\n         */\n        opcode = buffer[0] & 15,\n        /**\n         *  \n         */\n        len = buffer[1] & 127,\n        // 1\n        Mask = buffer[1] >>> 7,\n        maskKey = null\n    // \n    //1252\n    if (len == 126) {\n        len = buffer.readUInt16BE(2)\n    } else if (len == 127) {\n        // 655358\n        len = buffer.readUInt64BE(2)\n    }\n    // \n    Mask && (maskKey = buffer.slice(2,5))\n    /**\n     *  \n     * octetstexti%4(i4)\n     */\n    if(Mask){\n        for (var i = 2;i<len ;i++){\n            buffer[i] = maskKey[(i - 2) % 4] ^ buffer[i];\n        }\n    }\n    var data = buffer.slice(2)\n    return {\n        Fin:Fin,\n        opcode:opcode,\n        data:data\n    }\n}\n```    \n\n#### \n \n()\n\n```js\n// \nfunction encodeFrame(data){\n    var len = Buffer.byteLength(data),\n        // 264\n        payload_len = len > 65535 ?10:(len > 125 ? 4 : 2),\n        buf = new Buffer(len+payload_len)\n    /**\n     * 0x81 = 10000001 \n     *Fin 1 opcode001 mask 0 \n     *  txt\n     */\n    buf[0] = 0x81  \n    /**\n     * payload_len\n     */        \n    if(payload_len == 2){\n        buf[1] = len\n    }else if(payload_len == 4){\n        buf[1] = 126;\n        buf.writeUInt16BE(payload_len, 2);\n    }else {\n        buf[1] = 127;\n        buf.writeUInt32BE(payload_len >>> 32, 2);\n        buf.writeUInt32BE(payload_len & 0xFFFFFFFF, 6);\n    }  \n    buf.write(data, payload_len);\n    return buf;\n}    \n```    \n\n####   \nopcode  9pingpong\nPingsopcode0x9pong0xA   \n\n```js\n// ping\nif(opcode == 9){\n   console.log(\"ping\");\n   /**\n    * ping pong125\n    * 10001010+\n    * pong125\n    */\n    socke.write(Buffer.concat([new Buffer([0x8A, data.length]), data]))\n}\n```  \n\n##  \nwebsocket[](https://github.com/xiaoxiangdaiyu/chartroom/blob/master/src/websocket/ws.js)websocket\n","slug":"websocket/node","published":1,"updated":"2017-12-15T13:02:08.688Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhjw7dom000hnl929177tomn","content":"<p><a href=\"https://github.com/xiaoxiangdaiyu/chartroom/blob/master/src/websocket/README.md\" target=\"_blank\" rel=\"noopener\">websocket- </a><br><a id=\"more\"></a></p>\n<h2 id=\"Websockt-\"><a href=\"#Websockt-\" class=\"headerlink\" title=\"Websockt \"></a>Websockt </h2><p>websocketwebsocket()   </p>\n<ol>\n<li></li>\n<li> </li>\n<li></li>\n<li></li>\n<li>  </li>\n</ol>\n<p>24</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>websocketWebsocket </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>HTTP   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET / HTTP/1.1  //HTTP1.1GET</span><br><span class=\"line\">Host: localhost:8081 //</span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Pragma: no-cache</span><br><span class=\"line\">Cache-Control: no-cache</span><br><span class=\"line\">Upgrade: websocket //websocket</span><br><span class=\"line\">Origin: http://192.168.132.170:8000</span><br><span class=\"line\">Sec-WebSocket-Version: 13 //</span><br><span class=\"line\">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36</span><br><span class=\"line\">Accept-Encoding: gzip, deflate, br</span><br><span class=\"line\">Accept-Language: zh-CN,zh;q=0.9,en;q=0.8</span><br><span class=\"line\">Cookie: optimizelyEndUserId=oeu1505722530441r0.5993643212774391; _ga=GA1.1.557695983.1505722531</span><br><span class=\"line\">Sec-WebSocket-Key: /2R6uuzPqLT/6z8fnZfN3w==   //</span><br><span class=\"line\">Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ul>\n<li>HTTP1.1GET</li>\n<li>Connection: Upgrade  </li>\n<li>Upgrade: websocket //websocket  </li>\n<li>Sec-WebSocket-Key    </li>\n</ul>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>websocket  </p>\n<ol>\n<li>http</li>\n<li>websocket </li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 101 Switching Protocols</span><br><span class=\"line\">Upgrade: websocket</span><br><span class=\"line\">Connection: Upgrade</span><br><span class=\"line\">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=</span><br></pre></td></tr></table></figure>\n<p>header\\r\\n\\r\\n </p>\n<p>Sec-WebSocket-Accept Sec-WebSocket-Key<br>Sec-WebSocket-Key 258EAFA5-E914-47DA-95CA-C5AB0DC85B11SHA-1 hashbase64<br></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> ws_key = <span class=\"string\">'258EAFA5-E914-47DA-95CA-C5AB0DC85B11'</span>;</span><br><span class=\"line\"><span class=\"comment\">// key</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getAccpectKey</span>(<span class=\"params\">rSWKey</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> crypto.createHash(<span class=\"string\">'sha1'</span>).update(rSWKey + ws_key).digest(<span class=\"string\">'base64'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handShake</span>(<span class=\"params\">socket, headers</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> reqSWKey = headers[<span class=\"string\">'Sec-WebSocket-Key'</span>],</span><br><span class=\"line\">        resSWKey = getAccpectKey(reqSWKey)</span><br><span class=\"line\">    socket.write(<span class=\"string\">'HTTP/1.1 101 Switching Protocols\\r\\n'</span>);</span><br><span class=\"line\">    socket.write(<span class=\"string\">'Upgrade: websocket\\r\\n'</span>);</span><br><span class=\"line\">    socket.write(<span class=\"string\">'Connection: Upgrade\\r\\n'</span>);</span><br><span class=\"line\">    socket.write(<span class=\"string\">'Sec-WebSocket-Accept: '</span> + resSWKey + <span class=\"string\">'\\r\\n'</span>);</span><br><span class=\"line\">    socket.write(<span class=\"string\">'\\r\\n'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>websocketonopenwebsocket</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    :  </span><br><span class=\"line\"></span><br><span class=\"line\">      0                   1                   2                   3</span><br><span class=\"line\">      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class=\"line\">     +-+-+-+-+-------+-+-------------+-------------------------------+</span><br><span class=\"line\">     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |</span><br><span class=\"line\">     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |</span><br><span class=\"line\">     |N|V|V|V|       |S|             |   (if payload len==126/127)   |</span><br><span class=\"line\">     | |1|2|3|       |K|             |                               |</span><br><span class=\"line\">     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     |     Extended payload length continued, if payload len == 127  |</span><br><span class=\"line\">     + - - - - - - - - - - - - - - - +-------------------------------+</span><br><span class=\"line\">     |                               |Masking-key, if MASK set to 1  |</span><br><span class=\"line\">     +-------------------------------+-------------------------------+</span><br><span class=\"line\">     | Masking-key (continued)       |          Payload Data         |</span><br><span class=\"line\">     +-------------------------------- - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     :                     Payload Data continued ...                :</span><br><span class=\"line\">     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     |                     Payload Data continued ...                |</span><br><span class=\"line\">     +---------------------------------------------------------------+</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ol>\n<li><p>MASK1   </p>\n</li>\n<li><p>opcode  </p>\n<ul>\n<li>0x0 </li>\n<li>0x1 text(UTF-8)  </li>\n<li>0x2  </li>\n<li>0x3-0x7 0xB-0xF WebSockets   </li>\n</ul>\n</li>\n<li><p>FIN 0</p>\n</li>\n<li>Payload len  <ul>\n<li>Payload len&lt;126, </li>\n<li>126,1252</li>\n<li>127,655358 </li>\n</ul>\n</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<ol>\n<li>  </li>\n<li></li>\n</ol>\n<p>    </p>\n<pre><code class=\"js\"><span class=\"comment\">// </span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">decodeFrame</span>(<span class=\"params\">buffer</span>) </span>{\n    <span class=\"comment\">/**</span>\n<span class=\"comment\">     * &gt;&gt;&gt; 7 7</span>\n<span class=\"comment\">     * 10010030  ====&gt;   00000001</span>\n<span class=\"comment\">     * &amp;   11    </span>\n<span class=\"comment\">     * 1500001111  ,0</span>\n<span class=\"comment\">     * 11011000 &amp; 00001111  ===  00001000</span>\n<span class=\"comment\">     *  </span>\n<span class=\"comment\">     */</span>\n    <span class=\"keyword\">var</span> fBite = buffer[<span class=\"number\">0</span>],\n        <span class=\"comment\">/**</span>\n<span class=\"comment\">         * Fin</span>\n<span class=\"comment\">         * 1</span>\n<span class=\"comment\">         * 0  </span>\n<span class=\"comment\">         */</span>\n        Fin = fBite &gt;&gt;&gt; <span class=\"number\">7</span>,\n        <span class=\"comment\">/**</span>\n<span class=\"comment\">         * opcodeopcodefBite4-7</span>\n<span class=\"comment\">         * &amp;   11    </span>\n<span class=\"comment\">         * 1500001111  ,0</span>\n<span class=\"comment\">         */</span>\n        opcode = buffer[<span class=\"number\">0</span>] &amp; <span class=\"number\">15</span>,\n        <span class=\"comment\">/**</span>\n<span class=\"comment\">         *  </span>\n<span class=\"comment\">         */</span>\n        len = buffer[<span class=\"number\">1</span>] &amp; <span class=\"number\">127</span>,\n        <span class=\"comment\">// 1</span>\n        Mask = buffer[<span class=\"number\">1</span>] &gt;&gt;&gt; <span class=\"number\">7</span>,\n        maskKey = <span class=\"literal\">null</span>\n    <span class=\"comment\">// </span>\n    <span class=\"comment\">//1252</span>\n    <span class=\"keyword\">if</span> (len == <span class=\"number\">126</span>) {\n        len = buffer.readUInt16BE(<span class=\"number\">2</span>)\n    } <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (len == <span class=\"number\">127</span>) {\n        <span class=\"comment\">// 655358</span>\n        len = buffer.readUInt64BE(<span class=\"number\">2</span>)\n    }\n    <span class=\"comment\">// </span>\n    Mask &amp;&amp; (maskKey = buffer.slice(<span class=\"number\">2</span>,<span class=\"number\">5</span>))\n    <span class=\"comment\">/**</span>\n<span class=\"comment\">     *  </span>\n<span class=\"comment\">     * octetstexti%4(i4)</span>\n<span class=\"comment\">     */</span>\n    <span class=\"keyword\">if</span>(Mask){\n        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">2</span>;i&lt;len ;i++){\n            buffer[i] = maskKey[(i - <span class=\"number\">2</span>) % <span class=\"number\">4</span>] ^ buffer[i];\n        }\n    }\n    <span class=\"keyword\">var</span> data = buffer.slice(<span class=\"number\">2</span>)\n    <span class=\"keyword\">return</span> {\n        Fin:Fin,\n        opcode:opcode,\n        data:data\n    }\n}\n</code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>()</p>\n<pre><code class=\"js\"><span class=\"comment\">// </span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">encodeFrame</span>(<span class=\"params\">data</span>)</span>{\n    <span class=\"keyword\">var</span> len = Buffer.byteLength(data),\n        <span class=\"comment\">// 264</span>\n        payload_len = len &gt; <span class=\"number\">65535</span> ?<span class=\"number\">10</span>:(len &gt; <span class=\"number\">125</span> ? <span class=\"number\">4</span> : <span class=\"number\">2</span>),\n        buf = <span class=\"keyword\">new</span> Buffer(len+payload_len)\n    <span class=\"comment\">/**</span>\n<span class=\"comment\">     * 0x81 = 10000001 </span>\n<span class=\"comment\">     *Fin 1 opcode001 mask 0 </span>\n<span class=\"comment\">     *  txt</span>\n<span class=\"comment\">     */</span>\n    buf[<span class=\"number\">0</span>] = <span class=\"number\">0x81</span>  \n    <span class=\"comment\">/**</span>\n<span class=\"comment\">     * payload_len</span>\n<span class=\"comment\">     */</span>        \n    <span class=\"keyword\">if</span>(payload_len == <span class=\"number\">2</span>){\n        buf[<span class=\"number\">1</span>] = len\n    }<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(payload_len == <span class=\"number\">4</span>){\n        buf[<span class=\"number\">1</span>] = <span class=\"number\">126</span>;\n        buf.writeUInt16BE(payload_len, <span class=\"number\">2</span>);\n    }<span class=\"keyword\">else</span> {\n        buf[<span class=\"number\">1</span>] = <span class=\"number\">127</span>;\n        buf.writeUInt32BE(payload_len &gt;&gt;&gt; <span class=\"number\">32</span>, <span class=\"number\">2</span>);\n        buf.writeUInt32BE(payload_len &amp; <span class=\"number\">0xFFFFFFFF</span>, <span class=\"number\">6</span>);\n    }  \n    buf.write(data, payload_len);\n    <span class=\"keyword\">return</span> buf;\n}\n</code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>opcode  9pingpong<br>Pingsopcode0x9pong0xA   </p>\n<pre><code class=\"js\"><span class=\"comment\">// ping</span>\n<span class=\"keyword\">if</span>(opcode == <span class=\"number\">9</span>){\n   <span class=\"built_in\">console</span>.log(<span class=\"string\">\"ping\"</span>);\n   <span class=\"comment\">/**</span>\n<span class=\"comment\">    * ping pong125</span>\n<span class=\"comment\">    * 10001010+</span>\n<span class=\"comment\">    * pong125</span>\n<span class=\"comment\">    */</span>\n    socke.write(Buffer.concat([<span class=\"keyword\">new</span> Buffer([<span class=\"number\">0x8A</span>, data.length]), data]))\n}\n</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>websocket<a href=\"https://github.com/xiaoxiangdaiyu/chartroom/blob/master/src/websocket/ws.js\" target=\"_blank\" rel=\"noopener\"></a>websocket</p>\n","site":{"data":{}},"excerpt":"<p><a href=\"https://github.com/xiaoxiangdaiyu/chartroom/blob/master/src/websocket/README.md\" target=\"_blank\" rel=\"noopener\">websocket- </a><br>","more":"</p>\n<h2 id=\"Websockt-\"><a href=\"#Websockt-\" class=\"headerlink\" title=\"Websockt \"></a>Websockt </h2><p>websocketwebsocket()   </p>\n<ol>\n<li></li>\n<li> </li>\n<li></li>\n<li></li>\n<li>  </li>\n</ol>\n<p>24</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>websocketWebsocket </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>HTTP   </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET / HTTP/1.1  //HTTP1.1GET</span><br><span class=\"line\">Host: localhost:8081 //</span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Pragma: no-cache</span><br><span class=\"line\">Cache-Control: no-cache</span><br><span class=\"line\">Upgrade: websocket //websocket</span><br><span class=\"line\">Origin: http://192.168.132.170:8000</span><br><span class=\"line\">Sec-WebSocket-Version: 13 //</span><br><span class=\"line\">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36</span><br><span class=\"line\">Accept-Encoding: gzip, deflate, br</span><br><span class=\"line\">Accept-Language: zh-CN,zh;q=0.9,en;q=0.8</span><br><span class=\"line\">Cookie: optimizelyEndUserId=oeu1505722530441r0.5993643212774391; _ga=GA1.1.557695983.1505722531</span><br><span class=\"line\">Sec-WebSocket-Key: /2R6uuzPqLT/6z8fnZfN3w==   //</span><br><span class=\"line\">Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ul>\n<li>HTTP1.1GET</li>\n<li>Connection: Upgrade  </li>\n<li>Upgrade: websocket //websocket  </li>\n<li>Sec-WebSocket-Key    </li>\n</ul>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>websocket  </p>\n<ol>\n<li>http</li>\n<li>websocket </li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 101 Switching Protocols</span><br><span class=\"line\">Upgrade: websocket</span><br><span class=\"line\">Connection: Upgrade</span><br><span class=\"line\">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=</span><br></pre></td></tr></table></figure>\n<p>header\\r\\n\\r\\n </p>\n<p>Sec-WebSocket-Accept Sec-WebSocket-Key<br>Sec-WebSocket-Key 258EAFA5-E914-47DA-95CA-C5AB0DC85B11SHA-1 hashbase64<br></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> ws_key = <span class=\"string\">'258EAFA5-E914-47DA-95CA-C5AB0DC85B11'</span>;</span><br><span class=\"line\"><span class=\"comment\">// key</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getAccpectKey</span>(<span class=\"params\">rSWKey</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> crypto.createHash(<span class=\"string\">'sha1'</span>).update(rSWKey + ws_key).digest(<span class=\"string\">'base64'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handShake</span>(<span class=\"params\">socket, headers</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> reqSWKey = headers[<span class=\"string\">'Sec-WebSocket-Key'</span>],</span><br><span class=\"line\">        resSWKey = getAccpectKey(reqSWKey)</span><br><span class=\"line\">    socket.write(<span class=\"string\">'HTTP/1.1 101 Switching Protocols\\r\\n'</span>);</span><br><span class=\"line\">    socket.write(<span class=\"string\">'Upgrade: websocket\\r\\n'</span>);</span><br><span class=\"line\">    socket.write(<span class=\"string\">'Connection: Upgrade\\r\\n'</span>);</span><br><span class=\"line\">    socket.write(<span class=\"string\">'Sec-WebSocket-Accept: '</span> + resSWKey + <span class=\"string\">'\\r\\n'</span>);</span><br><span class=\"line\">    socket.write(<span class=\"string\">'\\r\\n'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>websocketonopenwebsocket</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    :  </span><br><span class=\"line\"></span><br><span class=\"line\">      0                   1                   2                   3</span><br><span class=\"line\">      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class=\"line\">     +-+-+-+-+-------+-+-------------+-------------------------------+</span><br><span class=\"line\">     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |</span><br><span class=\"line\">     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |</span><br><span class=\"line\">     |N|V|V|V|       |S|             |   (if payload len==126/127)   |</span><br><span class=\"line\">     | |1|2|3|       |K|             |                               |</span><br><span class=\"line\">     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     |     Extended payload length continued, if payload len == 127  |</span><br><span class=\"line\">     + - - - - - - - - - - - - - - - +-------------------------------+</span><br><span class=\"line\">     |                               |Masking-key, if MASK set to 1  |</span><br><span class=\"line\">     +-------------------------------+-------------------------------+</span><br><span class=\"line\">     | Masking-key (continued)       |          Payload Data         |</span><br><span class=\"line\">     +-------------------------------- - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     :                     Payload Data continued ...                :</span><br><span class=\"line\">     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +</span><br><span class=\"line\">     |                     Payload Data continued ...                |</span><br><span class=\"line\">     +---------------------------------------------------------------+</span><br></pre></td></tr></table></figure>\n<p>  </p>\n<ol>\n<li><p>MASK1   </p>\n</li>\n<li><p>opcode  </p>\n<ul>\n<li>0x0 </li>\n<li>0x1 text(UTF-8)  </li>\n<li>0x2  </li>\n<li>0x3-0x7 0xB-0xF WebSockets   </li>\n</ul>\n</li>\n<li><p>FIN 0</p>\n</li>\n<li>Payload len  <ul>\n<li>Payload len&lt;126, </li>\n<li>126,1252</li>\n<li>127,655358 </li>\n</ul>\n</li>\n</ol>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><p>  </p>\n<ol>\n<li>  </li>\n<li></li>\n</ol>\n<p>    </p>\n<pre><code class=\"js\"><span class=\"comment\">// </span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">decodeFrame</span>(<span class=\"params\">buffer</span>) </span>{\n    <span class=\"comment\">/**</span>\n<span class=\"comment\">     * &gt;&gt;&gt; 7 7</span>\n<span class=\"comment\">     * 10010030  ====&gt;   00000001</span>\n<span class=\"comment\">     * &amp;   11    </span>\n<span class=\"comment\">     * 1500001111  ,0</span>\n<span class=\"comment\">     * 11011000 &amp; 00001111  ===  00001000</span>\n<span class=\"comment\">     *  </span>\n<span class=\"comment\">     */</span>\n    <span class=\"keyword\">var</span> fBite = buffer[<span class=\"number\">0</span>],\n        <span class=\"comment\">/**</span>\n<span class=\"comment\">         * Fin</span>\n<span class=\"comment\">         * 1</span>\n<span class=\"comment\">         * 0  </span>\n<span class=\"comment\">         */</span>\n        Fin = fBite &gt;&gt;&gt; <span class=\"number\">7</span>,\n        <span class=\"comment\">/**</span>\n<span class=\"comment\">         * opcodeopcodefBite4-7</span>\n<span class=\"comment\">         * &amp;   11    </span>\n<span class=\"comment\">         * 1500001111  ,0</span>\n<span class=\"comment\">         */</span>\n        opcode = buffer[<span class=\"number\">0</span>] &amp; <span class=\"number\">15</span>,\n        <span class=\"comment\">/**</span>\n<span class=\"comment\">         *  </span>\n<span class=\"comment\">         */</span>\n        len = buffer[<span class=\"number\">1</span>] &amp; <span class=\"number\">127</span>,\n        <span class=\"comment\">// 1</span>\n        Mask = buffer[<span class=\"number\">1</span>] &gt;&gt;&gt; <span class=\"number\">7</span>,\n        maskKey = <span class=\"literal\">null</span>\n    <span class=\"comment\">// </span>\n    <span class=\"comment\">//1252</span>\n    <span class=\"keyword\">if</span> (len == <span class=\"number\">126</span>) {\n        len = buffer.readUInt16BE(<span class=\"number\">2</span>)\n    } <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (len == <span class=\"number\">127</span>) {\n        <span class=\"comment\">// 655358</span>\n        len = buffer.readUInt64BE(<span class=\"number\">2</span>)\n    }\n    <span class=\"comment\">// </span>\n    Mask &amp;&amp; (maskKey = buffer.slice(<span class=\"number\">2</span>,<span class=\"number\">5</span>))\n    <span class=\"comment\">/**</span>\n<span class=\"comment\">     *  </span>\n<span class=\"comment\">     * octetstexti%4(i4)</span>\n<span class=\"comment\">     */</span>\n    <span class=\"keyword\">if</span>(Mask){\n        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">2</span>;i&lt;len ;i++){\n            buffer[i] = maskKey[(i - <span class=\"number\">2</span>) % <span class=\"number\">4</span>] ^ buffer[i];\n        }\n    }\n    <span class=\"keyword\">var</span> data = buffer.slice(<span class=\"number\">2</span>)\n    <span class=\"keyword\">return</span> {\n        Fin:Fin,\n        opcode:opcode,\n        data:data\n    }\n}\n</code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>()</p>\n<pre><code class=\"js\"><span class=\"comment\">// </span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">encodeFrame</span>(<span class=\"params\">data</span>)</span>{\n    <span class=\"keyword\">var</span> len = Buffer.byteLength(data),\n        <span class=\"comment\">// 264</span>\n        payload_len = len &gt; <span class=\"number\">65535</span> ?<span class=\"number\">10</span>:(len &gt; <span class=\"number\">125</span> ? <span class=\"number\">4</span> : <span class=\"number\">2</span>),\n        buf = <span class=\"keyword\">new</span> Buffer(len+payload_len)\n    <span class=\"comment\">/**</span>\n<span class=\"comment\">     * 0x81 = 10000001 </span>\n<span class=\"comment\">     *Fin 1 opcode001 mask 0 </span>\n<span class=\"comment\">     *  txt</span>\n<span class=\"comment\">     */</span>\n    buf[<span class=\"number\">0</span>] = <span class=\"number\">0x81</span>  \n    <span class=\"comment\">/**</span>\n<span class=\"comment\">     * payload_len</span>\n<span class=\"comment\">     */</span>        \n    <span class=\"keyword\">if</span>(payload_len == <span class=\"number\">2</span>){\n        buf[<span class=\"number\">1</span>] = len\n    }<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(payload_len == <span class=\"number\">4</span>){\n        buf[<span class=\"number\">1</span>] = <span class=\"number\">126</span>;\n        buf.writeUInt16BE(payload_len, <span class=\"number\">2</span>);\n    }<span class=\"keyword\">else</span> {\n        buf[<span class=\"number\">1</span>] = <span class=\"number\">127</span>;\n        buf.writeUInt32BE(payload_len &gt;&gt;&gt; <span class=\"number\">32</span>, <span class=\"number\">2</span>);\n        buf.writeUInt32BE(payload_len &amp; <span class=\"number\">0xFFFFFFFF</span>, <span class=\"number\">6</span>);\n    }  \n    buf.write(data, payload_len);\n    <span class=\"keyword\">return</span> buf;\n}\n</code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>opcode  9pingpong<br>Pingsopcode0x9pong0xA   </p>\n<pre><code class=\"js\"><span class=\"comment\">// ping</span>\n<span class=\"keyword\">if</span>(opcode == <span class=\"number\">9</span>){\n   <span class=\"built_in\">console</span>.log(<span class=\"string\">\"ping\"</span>);\n   <span class=\"comment\">/**</span>\n<span class=\"comment\">    * ping pong125</span>\n<span class=\"comment\">    * 10001010+</span>\n<span class=\"comment\">    * pong125</span>\n<span class=\"comment\">    */</span>\n    socke.write(Buffer.concat([<span class=\"keyword\">new</span> Buffer([<span class=\"number\">0x8A</span>, data.length]), data]))\n}\n</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>websocket<a href=\"https://github.com/xiaoxiangdaiyu/chartroom/blob/master/src/websocket/ws.js\" target=\"_blank\" rel=\"noopener\"></a>websocket</p>"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cjhjw7dnw000dnl92kx25xek3","tag_id":"cjhjw7do3000fnl92ew7c5n81","_id":"cjhjw7don000inl9279lm5aa8"}],"Tag":[{"name":"webpack","_id":"cjhjw7do3000fnl92ew7c5n81"}]}}